const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BziGdwzm.js","assets/index-CU9ICRvn.css","assets/index-D0jEOmQE.js","assets/swag-paypal-settings.constant-7pNPSBTU.js","assets/index-HymAk-nV.css","assets/index-DVkGKjlB.js","assets/index-BmAyTjXj.css","assets/index-D-s0xxhH.js","assets/index-Byf0Bk_y.css","assets/index-B-Gck1gC.js","assets/index-DBZ497D4.css","assets/index-BsFzNe0C.js","assets/index-VgY7miCV.css","assets/index-NSbpapJx.js","assets/index-DxjX7zqQ.css","assets/index-DnLidD0f.js","assets/index-Br_Ysh01.css","assets/index-DW5rY_2a.js","assets/index-NbytPWh9.css","assets/index-D8Q_Oavj.js","assets/index-CLP-xInC.css","assets/index-BBIxhann.js","assets/index-Dap6VQOd.css","assets/index-COETuq5G.js","assets/index-CN4ZE8zI.css","assets/index-DruaxD0u.js","assets/index-C7Fc4ciV.css","assets/index--u8pWelW.js","assets/index-CiLDMmBW.css","assets/index-CjRcIrtF.js","assets/index-BVeiQxSF.css","assets/index-8wR70pcV.js","assets/index-BG2n8H6c.css","assets/index-D5gYQ7Vb.js","assets/index-_UKqtJSz.css","assets/index-BUtGqtya.js","assets/index-c5j1S4M2.css","assets/index-DOE3gRvp.js"])))=>i.map(i=>d[i]);
var kS=Object.defineProperty;var RS=(a,i,r)=>i in a?kS(a,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[i]=r;var Qp=(a,i,r)=>RS(a,typeof i!="symbol"?i+"":i,r);const $S="modulepreload",TS=function(a){return window.__sw__.assetPath+"/bundles/swagpaypal/administration/"+a},ed={},Te=function(i,r,o){let c=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const _=document.querySelector("meta[property=csp-nonce]"),g=(_==null?void 0:_.nonce)||(_==null?void 0:_.getAttribute("nonce"));c=Promise.allSettled(r.map(w=>{if(w=TS(w),w in ed)return;ed[w]=!0;const b=w.endsWith(".css"),y=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${y}`))return;const v=document.createElement("link");if(v.rel=b?"stylesheet":$S,b||(v.as="script"),v.crossOrigin="",v.href=w,g&&v.setAttribute("nonce",g),document.head.appendChild(v),b)return new Promise((R,F)=>{v.addEventListener("load",R),v.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${w}`)))})}))}function h(_){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=_,window.dispatchEvent(g),!g.defaultPrevented)throw _}return c.then(_=>{for(const g of _||[])g.status==="rejected"&&h(g.reason);return i().catch(h)})};Shopware.Service("privileges").addPrivilegeMappingEntry({category:"permissions",parent:"swag_paypal",key:"swag_paypal",roles:{viewer:{privileges:["sales_channel:read","sales_channel_payment_method:read","system_config:read"],dependencies:[]},editor:{privileges:["sales_channel:update","sales_channel_payment_method:create","sales_channel_payment_method:update","system_config:update","system_config:create","system_config:delete"],dependencies:["swag_paypal.viewer"]}}});Shopware.Service("privileges").addPrivilegeMappingEntry({category:"permissions",parent:null,key:"sales_channel",roles:{viewer:{privileges:["swag_paypal_pos_sales_channel:read","swag_paypal_pos_sales_channel_run:read","swag_paypal_pos_sales_channel_run:update","swag_paypal_pos_sales_channel_run:create","swag_paypal_pos_sales_channel_run_log:read","sales_channel_payment_method:read"]},editor:{privileges:["swag_paypal_pos_sales_channel:update","swag_paypal_pos_sales_channel_run:delete","payment_method:update"]},creator:{privileges:["swag_paypal_pos_sales_channel:create","payment_method:create","shipping_method:create","delivery_time:create"]},deleter:{privileges:["swag_paypal_pos_sales_channel:delete"]}}});Shopware.Store.register({id:"swagPayPalMerchantInformation",state:()=>({salesChannel:null,allMerchantInformations:{}}),actions:{set(a,i){this.allMerchantInformations[String(a)]=i},has(a){return this.allMerchantInformations.hasOwnProperty(String(a))},delete(a){delete this.allMerchantInformations[String(a)]}},getters:{isLoading(){return!this.allMerchantInformations.hasOwnProperty(String(this.salesChannel))},actual(){return this.allMerchantInformations[String(this.salesChannel)]??{merchantIntegrations:null,capabilities:{}}},products(){var a;return((a=this.actual.merchantIntegrations)==null?void 0:a.products)??[]},capabilities(){return this.actual.capabilities},merchantCapabilities(){var a;return((a=this.actual.merchantIntegrations)==null?void 0:a.capabilities)??[]},canVault(){return this.merchantCapabilities.some(a=>a.name==="PAYPAL_WALLET_VAULTING_ADVANCED"&&a.status==="ACTIVE")},canPPCP(){return this.merchantCapabilities.some(a=>a.name==="PAYPAL_CHECKOUT"&&a.status==="ACTIVE")}}});Shopware.Store.register({id:"swagPayPalSettings",state:()=>({salesChannel:null,allConfigs:{}}),actions:{setConfig(a,i){this.allConfigs[String(a)]=i},hasConfig(a){return this.allConfigs.hasOwnProperty(String(a))},set(a,i){this.allConfigs[String(this.salesChannel)][a]=i},get(a){return this.actual[a]??this.root[a]},getRoot(a){return this.root[a]},getActual(a){return this.actual[a]}},getters:{isLoading(){return!this.allConfigs.hasOwnProperty(String(this.salesChannel))},isSandbox(){return this.actual["SwagPayPal.settings.sandbox"]??this.root["SwagPayPal.settings.sandbox"]??!1},root(){return this.allConfigs.null??{}},actual(){return this.allConfigs[String(this.salesChannel)]??{}}}});Shopware.Component.register("swag-paypal-onboarding-button",()=>Te(()=>import("./index-BziGdwzm.js"),__vite__mapDeps([0,1])));Shopware.Component.register("swag-paypal-setting",()=>Te(()=>import("./index-D0jEOmQE.js"),__vite__mapDeps([2,3,4])));Shopware.Vue.watch(()=>Shopware.Store.get("swagPayPalSettings").salesChannel,a=>{Shopware.Store.get("swagPayPalMerchantInformation").salesChannel=a});Shopware.Vue.watch(()=>Shopware.Store.get("swagPayPalMerchantInformation").salesChannel,a=>{Shopware.Store.get("swagPayPalSettings").salesChannel=a});Shopware.Mixin.register("swag-paypal-notification",Shopware.Component.wrapComponentConfig({mixins:[Shopware.Mixin.getByName("notification")],methods:{createMessageFromError(a){var o,c;return(a.errors??((c=(o=a==null?void 0:a.response)==null?void 0:o.data)==null?void 0:c.errors)??[]).map(h=>{var b,y;const _=typeof((y=(b=h.meta)==null?void 0:b.parameters)==null?void 0:y.message)=="string"&&h.meta.parameters.message||h.detail,g=`swag-paypal.errors.${h.code}`,w=this.$t(g,{message:_});return g!==w?w:_}).join("<br>")}}}));Shopware.Mixin.register("swag-paypal-pos-catch-error",Shopware.Component.wrapComponentConfig({mixins:[Shopware.Mixin.getByName("swag-paypal-notification")],methods:{catchError(a,i){var c,h;const o=(((h=(c=i==null?void 0:i.response)==null?void 0:c.data)==null?void 0:h.errors)??[]).map(_=>{var b;let g="";const w=(b=_.meta)==null?void 0:b.parameters;return w&&(w.salesChannelIds?g+=`<br>${w.salesChannelIds}`:w.message&&(g+=`${w.message} (${w.name??""})`),w.name&&(g&&(g+=": "),g+=`${w.name}`)),g||(g=this.createMessageFromError({errors:[_]})),g}).join("<br>");this.createNotificationError({title:this.$t("swag-paypal.notifications.posError.title"),message:(a?this.$t(a)+": ":"")+o})}}}));Shopware.Mixin.register("swag-paypal-pos-log-label",Shopware.Component.wrapComponentConfig({methods:{getLabelVariant(a){return a>=400?"danger":a>=300?"warning":a>200?"info":"success"},getLabel(a){return a>=300?"swag-paypal-pos.detail.logs.states.failed":"swag-paypal-pos.detail.logs.states.success"}}}));Shopware.Mixin.register("swag-paypal-settings",Shopware.Component.wrapComponentConfig({inject:["systemConfigApiService","SwagPayPalSettingsService"],mixins:[Shopware.Mixin.getByName("swag-paypal-notification")],data(){return{savingSettings:"none"}},computed:{settingsStore(){return Shopware.Store.get("swagPayPalSettings")}},watch:{"settingsStore.salesChannel":{immediate:!0,handler(a){this.fetchSettings(a)}}},beforeCreate(){Shopware.Store.get("swagPayPalSettings").$reset()},methods:{async fetchSettings(a){if(this.settingsStore.hasConfig(a))return;const i=await this.systemConfigApiService.getValues("SwagPayPal.settings",a);this.settingsStore.setConfig(a,i||{})},async saveSettings(){return this.savingSettings="loading",this.SwagPayPalSettingsService.save(this.settingsStore.allConfigs).then(a=>(Object.entries(a).forEach(([i,r])=>{this.handleSettingsSaveInformation(i,r)}),this.savingSettings="success",setTimeout(()=>{this.savingSettings="none"},5e3),a)).catch(a=>{this.createNotificationError({title:this.$t("swag-paypal.notifications.save.title"),message:this.$t("swag-paypal.notifications.save.errorMessage",{message:this.createMessageFromError(a)})}),this.savingSettings="none"})},handleSettingsSaveInformation(a,i){(i.sandboxCredentialsChanged||i.liveCredentialsChanged)&&Shopware.Store.get("swagPayPalMerchantInformation").delete(a),i.webhookErrors.forEach(r=>{this.createNotificationWarning({title:this.$t("swag-paypal.notifications.save.title"),message:this.$t("swag-paypal.notifications.save.webhookMessage",{message:r})})})}}}));Shopware.Mixin.register("swag-paypal-merchant-information",Shopware.Component.wrapComponentConfig({inject:["SwagPayPalSettingsService"],mixins:[Shopware.Mixin.getByName("swag-paypal-notification")],computed:{merchantInformationStore(){return Shopware.Store.get("swagPayPalMerchantInformation")}},watch:{"merchantInformationStore.salesChannel":{immediate:!0,handler(a){this.fetchMerchantInformation(a)}},savingSettings(a){a==="success"&&this.fetchMerchantInformation(this.merchantInformationStore.salesChannel)}},beforeCreate(){Shopware.Store.get("swagPayPalMerchantInformation").$reset()},methods:{async fetchMerchantInformation(a){if(this.merchantInformationStore.has(a))return;const i=await this.SwagPayPalSettingsService.getMerchantInformation(a).catch(r=>(this.createNotificationError({title:this.$t("swag-paypal.notifications.merchantInformation.title"),message:this.$t("swag-paypal.notifications.merchantInformation.errorMessage",{message:this.createMessageFromError(r)})}),null));i&&this.merchantInformationStore.set(a,i)}}}));Shopware.Component.override("sw-first-run-wizard-paypal-credentials",()=>Te(()=>import("./index-DVkGKjlB.js"),__vite__mapDeps([5,6])));Shopware.Component.override("sw-sales-channel-modal-detail",()=>Te(()=>import("./index-D-s0xxhH.js"),__vite__mapDeps([7,8])));Shopware.Component.override("sw-sales-channel-modal-grid",()=>Te(()=>import("./index-B-Gck1gC.js"),__vite__mapDeps([9,10])));Shopware.Component.override("sw-settings-shipping-detail",()=>Te(()=>import("./index-BsFzNe0C.js"),__vite__mapDeps([11,12])));Shopware.Component.override("sw-extension-card-base",()=>Te(()=>import("./index-DT6hpUCH.js"),[]));Shopware.Service("privileges").addPrivilegeMappingEntry({category:"permissions",parent:"swag_paypal",key:"swag_paypal_disputes",roles:{viewer:{privileges:["sales_channel:read"],dependencies:[]}}});const xS=`{% block swag_paypal_disputes_list %} <sw-page class="swag-paypal-disputes-list"> {% block swag_paypal_disputes_list_smart_bar_header %} <template #smart-bar-header> {% block swag_paypal_disputes_list_smart_bar_header_title %} <h2> {% block swag_paypal_disputes_list_smart_bar_header_title_text %} {{ $t('swag-paypal-disputes.list.title') }} {% endblock %} {% block swag_paypal_disputes_list_smart_bar_header_amount %} <template v-if="!isLoading"> ({{ total }}) </template> {% endblock %} </h2> {% endblock %} </template> {% endblock %} {% block swag_paypal_disputes_list_content %} <template #content> <sw-loader v-if="isLoading" /> <template v-else> {% block swag_paypal_disputes_list_content_grid %} <sw-data-grid v-if="disputes.length > 0" :dataSource="visibleDisputes" :columns="disputesColumns" :showActions="false" :showSelection="false" > {% block swag_paypal_disputes_list_content_grid_column_update_time %} <template #column-update_time="{ item }"> <div> <div>{{ formatUpdateDate(item.update_time) }}</div> <div>{{ formatUpdateTime(item.update_time) }}</div> </div> </template> {% endblock %} {% block swag_paypal_disputes_list_content_grid_column_seller_response_due_date %} <template #column-response_due_date="{ item }"> <template v-if="item.seller_response_due_date"> <strong>{{ $t('swag-paypal-disputes.common.response_due_date.seller') }}</strong>: {{ formatDate(item.seller_response_due_date) }} </template> <template v-else-if="item.buyer_response_due_date"> <strong>{{ $t('swag-paypal-disputes.common.response_due_date.buyer') }}</strong>: {{ formatDate(item.buyer_response_due_date) }} </template> </template> {% endblock %} {% block swag_paypal_disputes_list_content_grid_column_status %} <template #column-status="{ item }"> <div> <div> {{ formatTechnicalText(item.dispute_state) }} <template v-if="item.dispute_state !== item.status"> ({{ formatTechnicalText(item.status) }}) </template> </div> <div class="swag-paypal-disputes-list__reason"> {{ formatTechnicalText(item.reason) }} </div> </div> </template> {% endblock %} {% block swag_paypal_disputes_list_content_grid_column_dispute_id %} <template #column-dispute_id="{ item }"> <router-link :to="{ name: 'swag.paypal.disputes.detail', params: { disputeId: item.dispute_id , salesChannelId} }" > {{ item.dispute_id }} </router-link> </template> {% endblock %} {% block swag_paypal_disputes_list_content_grid_column_dispute_life_cycle_stage %} <template #column-dispute_life_cycle_stage="{ item }"> <div v-if="item.dispute_life_cycle_stage === 'INQUIRY'" class="swag-paypal-disputes-list__stage-inquiry" > {{ formatTechnicalText(item.dispute_life_cycle_stage) }} </div> <div v-else class="swag-paypal-disputes-list__stage-other" > {{ formatTechnicalText(item.dispute_life_cycle_stage) }} </div> </template> {% endblock %} {% block swag_paypal_disputes_list_content_grid_column_dispute_amount %} <template #column-dispute_amount="{ item }"> {{ item.dispute_amount.value }} {{ item.dispute_amount.currency_code }} </template> {% endblock %} {% block swag_paypal_disputes_list_content_grid_pagination %} <template #pagination> <sw-pagination :page="page" :limit="limit" :total="total" @page-change="onPageChange" /> </template> {% endblock %} </sw-data-grid> {% endblock %} {% block swag_paypal_disputes_list_content_empty_state %} <sw-empty-state v-if="notAuthorized" :title="$t('swag-paypal-disputes.list.emptyStateNotAuthorized.title')" icon="regular-exclamation-triangle" color="#F88962" > <i18n-t tag="p" keypath="swag-paypal-disputes.list.emptyStateNotAuthorized.subline" > <template #link> <sw-internal-link :routerLink="{ name: 'sw.settings.payment.overview' }" :inline="true" :hideIcon="true" > {{ $t('swag-paypal-disputes.list.emptyStateNotAuthorized.link') }} </sw-internal-link> </template> </i18n-t> </sw-empty-state> <sw-empty-state v-else-if="showEmptyStateWithNoDisputes" :title="$t('swag-paypal-disputes.list.emptyState.title')" :subline="$t('swag-paypal-disputes.list.emptyState.subline')" icon="regular-comments" color="#F88962" /> {% endblock %} </template> </template> {% endblock %} {% block swag_paypal_disputes_list_sidebar %} <template #sidebar> <sw-sidebar class="swag-paypal-disputes-list__sidebar"> {% block swag_paypal_disputes_list_sidebar_refresh %} <sw-sidebar-item icon="regular-sync" :title="$t('swag-paypal-disputes.list.titleSidebarItemRefresh')" @click="onRefresh" /> {% endblock %} {% block swag_paypal_disputes_list_sidebar_filter %} <sw-sidebar-item icon="regular-filter" :title="$t('swag-paypal-disputes.list.titleSidebarItemFilter')" > {% block swag_paypal_disputes_list_sidebar_filter_items %} {% block swag_paypal_disputes_list_sidebar_filter_sales_channel %} <sw-sales-channel-switch :label="$t('sw-settings.system-config.labelSalesChannelSelect')" @change-sales-channel-id="onSalesChannelChanged" /> {% endblock %} {% block swag_paypal_disputes_list_sidebar_filter_dispute_state %} <sw-multi-select :label="$t('swag-paypal-disputes.common.status')" :options="disputeStates" :value="disputeStateFilter" @update:value="onChangeDisputeStateFilter" /> {% endblock %} {% endblock %} </sw-sidebar-item> {% endblock %} </sw-sidebar> </template> {% endblock %} </sw-page> {% endblock %}`,td="REQUIRED_ACTION",ad="REQUIRED_OTHER_PARTY_ACTION",nd="UNDER_PAYPAL_REVIEW",rd="RESOLVED",id="OPEN_INQUIRIES",sd="APPEALABLE",LS="SWAG_PAYPAL__NOT_AUTHORIZED",{Filter:OS}=Shopware,{debounce:DS}=Shopware.Utils,{capitalizeString:NS}=Shopware.Utils.string,zS=Shopware.Component.wrapComponentConfig({template:xS,inject:["SwagPayPalDisputeApiService","systemConfigApiService"],emits:["page-change"],mixins:[Shopware.Mixin.getByName("swag-paypal-notification")],data(){return{isLoading:!1,notAuthorized:!1,disputes:[],disputeStates:[{value:td,label:this.formatTechnicalText(td)},{value:ad,label:this.formatTechnicalText(ad)},{value:nd,label:this.formatTechnicalText(nd)},{value:rd,label:this.formatTechnicalText(rd)},{value:id,label:this.formatTechnicalText(id)},{value:sd,label:this.formatTechnicalText(sd)}],disputeStateFilter:[],salesChannelId:null,total:0,limit:10,page:1,resolutionCenterUrl:"https://www.paypal.com/resolutioncenter"}},computed:{dateFilter(){return OS.getByName("date")},showEmptyStateWithNoDisputes(){return!this.notAuthorized&&this.disputes.length===0},disputesColumns(){return[{property:"dispute_id",label:this.$t("swag-paypal-disputes.common.dispute_id")},{property:"update_time",label:this.$t("swag-paypal-disputes.common.update_time")},{property:"response_due_date",label:this.$t("swag-paypal-disputes.common.response_due_date.label")},{property:"status",label:this.$t("swag-paypal-disputes.common.status")},{property:"dispute_life_cycle_stage",label:this.$t("swag-paypal-disputes.common.dispute_life_cycle_stage")},{property:"dispute_amount",label:this.$t("swag-paypal-disputes.common.dispute_amount")}]},visibleDisputes(){return this.disputes.slice((this.page-1)*this.limit,(this.page-1)*this.limit+this.limit)}},created(){this.createdComponent()},methods:{async createdComponent(){this.isLoading=!0,(await this.systemConfigApiService.getValues("SwagPayPal.settings"))["SwagPayPal.settings.sandbox"]&&(this.resolutionCenterUrl="https://www.sandbox.paypal.com/resolutioncenter"),this.getList()},getList(){this.isLoading=!0,this.disputes=[];const a=this.disputeStateFilter.join(",")||null;this.SwagPayPalDisputeApiService.list(this.salesChannelId,a).then(i=>{i.items!==null&&(this.disputes=this.sortDisputes(i.items)),this.total=this.disputes.length,this.isLoading=!1}).catch(this.handleError.bind(this))},sortDisputes(a){return a.sort((i,r)=>i.status==="RESOLVED"?1:r.status==="RESOLVED"?-1:0)},debouncedGetList:DS(function(){this.getList()},850),handleError(a){var i,r,o;((o=(r=(i=a.response)==null?void 0:i.data.errors)==null?void 0:r[0])==null?void 0:o.code)===LS?this.notAuthorized=!0:this.createNotificationError({title:this.$t("swag-paypal-disputes.list.errorTitle"),message:this.createMessageFromError(a)}),this.isLoading=!1},formatUpdateDate(a){return this.formatDate(a,{})},formatUpdateTime(a){return this.formatDate(a,{day:void 0,month:void 0,year:void 0,hour:"2-digit",minute:"2-digit",second:"2-digit"})},formatTechnicalText(a){return NS(a).replace(/_/g," ")},onPageChange({page:a,limit:i}){this.page=a,this.limit=i,this.$emit("page-change")},onRefresh(){this.getList()},onChangeDisputeStateFilter(a){this.disputeStateFilter=a,this.debouncedGetList()},onSalesChannelChanged(a){this.salesChannelId=a,this.getList()},getExternalDetailPageLink(a){return`${this.resolutionCenterUrl}/${a.dispute_id??""}`},formatDate(a,i={hour:"2-digit",minute:"2-digit",second:"2-digit"}){return this.dateFilter(a,i)}}}),FS=Object.freeze(Object.defineProperty({__proto__:null,default:zS},Symbol.toStringTag,{value:"Module"}));Shopware.Component.register("swag-paypal-disputes-detail",()=>Te(()=>import("./index-NSbpapJx.js"),__vite__mapDeps([13,14])));Shopware.Component.register("swag-paypal-disputes-list",()=>Te(()=>Promise.resolve().then(()=>FS),void 0));Shopware.Module.register("swag-paypal-disputes",{type:"plugin",name:"paypal-disputes",title:"swag-paypal-disputes.general.mainMenuItemGeneral",description:"swag-paypal-disputes.general.descriptionTextModule",version:"1.0.0",targetVersion:"1.0.0",color:"#F88962",icon:"regular-comments",favicon:"icon-module-customers.png",routes:{index:{component:"swag-paypal-disputes-list",path:"index",meta:{privilege:"swag_paypal_disputes.viewer"}},detail:{component:"swag-paypal-disputes-detail",path:"detail/:disputeId/:salesChannelId?",props:{default(a){return{disputeId:a.params.disputeId,salesChannelId:a.params.salesChannelId}}},meta:{privilege:"swag_paypal_disputes.viewer",parentPath:"swag.paypal.disputes.index"}}},navigation:[{id:"swag-paypal-disputes",path:"swag.paypal.disputes.index",label:"swag-paypal-disputes.general.mainMenuItemGeneral",parent:"sw-customer",privilege:"swag_paypal_disputes.viewer"}]});var At=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wf(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Hs,od;function qS(){if(od)return Hs;od=1;var a=Object.prototype,i=a.hasOwnProperty;function r(o,c){return o!=null&&i.call(o,c)}return Hs=r,Hs}var Gs,ld;function Ba(){if(ld)return Gs;ld=1;var a=Array.isArray;return Gs=a,Gs}var Ws,cd;function Kf(){if(cd)return Ws;cd=1;var a=typeof At=="object"&&At&&At.Object===Object&&At;return Ws=a,Ws}var Ks,ud;function Mt(){if(ud)return Ks;ud=1;var a=Kf(),i=typeof self=="object"&&self&&self.Object===Object&&self,r=a||i||Function("return this")();return Ks=r,Ks}var Vs,pd;function ri(){if(pd)return Vs;pd=1;var a=Mt(),i=a.Symbol;return Vs=i,Vs}var Ys,dd;function BS(){if(dd)return Ys;dd=1;var a=ri(),i=Object.prototype,r=i.hasOwnProperty,o=i.toString,c=a?a.toStringTag:void 0;function h(_){var g=r.call(_,c),w=_[c];try{_[c]=void 0;var b=!0}catch{}var y=o.call(_);return b&&(g?_[c]=w:delete _[c]),y}return Ys=h,Ys}var Xs,hd;function MS(){if(hd)return Xs;hd=1;var a=Object.prototype,i=a.toString;function r(o){return i.call(o)}return Xs=r,Xs}var Zs,fd;function Xn(){if(fd)return Zs;fd=1;var a=ri(),i=BS(),r=MS(),o="[object Null]",c="[object Undefined]",h=a?a.toStringTag:void 0;function _(g){return g==null?g===void 0?c:o:h&&h in Object(g)?i(g):r(g)}return Zs=_,Zs}var Js,gd;function un(){if(gd)return Js;gd=1;function a(i){return i!=null&&typeof i=="object"}return Js=a,Js}var Qs,_d;function Tc(){if(_d)return Qs;_d=1;var a=Xn(),i=un(),r="[object Symbol]";function o(c){return typeof c=="symbol"||i(c)&&a(c)==r}return Qs=o,Qs}var eo,yd;function US(){if(yd)return eo;yd=1;var a=Ba(),i=Tc(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;function c(h,_){if(a(h))return!1;var g=typeof h;return g=="number"||g=="symbol"||g=="boolean"||h==null||i(h)?!0:o.test(h)||!r.test(h)||_!=null&&h in Object(_)}return eo=c,eo}var to,md;function Zn(){if(md)return to;md=1;function a(i){var r=typeof i;return i!=null&&(r=="object"||r=="function")}return to=a,to}var ao,wd;function Vf(){if(wd)return ao;wd=1;var a=Xn(),i=Zn(),r="[object AsyncFunction]",o="[object Function]",c="[object GeneratorFunction]",h="[object Proxy]";function _(g){if(!i(g))return!1;var w=a(g);return w==o||w==c||w==r||w==h}return ao=_,ao}var no,vd;function jS(){if(vd)return no;vd=1;var a=Mt(),i=a["__core-js_shared__"];return no=i,no}var ro,bd;function HS(){if(bd)return ro;bd=1;var a=jS(),i=function(){var o=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}();function r(o){return!!i&&i in o}return ro=r,ro}var io,Sd;function Yf(){if(Sd)return io;Sd=1;var a=Function.prototype,i=a.toString;function r(o){if(o!=null){try{return i.call(o)}catch{}try{return o+""}catch{}}return""}return io=r,io}var so,Cd;function GS(){if(Cd)return so;Cd=1;var a=Vf(),i=HS(),r=Zn(),o=Yf(),c=/[\\^$.*+?()[\]{}|]/g,h=/^\[object .+?Constructor\]$/,_=Function.prototype,g=Object.prototype,w=_.toString,b=g.hasOwnProperty,y=RegExp("^"+w.call(b).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(R){if(!r(R)||i(R))return!1;var F=a(R)?y:h;return F.test(o(R))}return so=v,so}var oo,Pd;function WS(){if(Pd)return oo;Pd=1;function a(i,r){return i==null?void 0:i[r]}return oo=a,oo}var lo,Ad;function Ma(){if(Ad)return lo;Ad=1;var a=GS(),i=WS();function r(o,c){var h=i(o,c);return a(h)?h:void 0}return lo=r,lo}var co,Id;function ii(){if(Id)return co;Id=1;var a=Ma(),i=a(Object,"create");return co=i,co}var uo,Ed;function KS(){if(Ed)return uo;Ed=1;var a=ii();function i(){this.__data__=a?a(null):{},this.size=0}return uo=i,uo}var po,kd;function VS(){if(kd)return po;kd=1;function a(i){var r=this.has(i)&&delete this.__data__[i];return this.size-=r?1:0,r}return po=a,po}var ho,Rd;function YS(){if(Rd)return ho;Rd=1;var a=ii(),i="__lodash_hash_undefined__",r=Object.prototype,o=r.hasOwnProperty;function c(h){var _=this.__data__;if(a){var g=_[h];return g===i?void 0:g}return o.call(_,h)?_[h]:void 0}return ho=c,ho}var fo,$d;function XS(){if($d)return fo;$d=1;var a=ii(),i=Object.prototype,r=i.hasOwnProperty;function o(c){var h=this.__data__;return a?h[c]!==void 0:r.call(h,c)}return fo=o,fo}var go,Td;function ZS(){if(Td)return go;Td=1;var a=ii(),i="__lodash_hash_undefined__";function r(o,c){var h=this.__data__;return this.size+=this.has(o)?0:1,h[o]=a&&c===void 0?i:c,this}return go=r,go}var _o,xd;function JS(){if(xd)return _o;xd=1;var a=KS(),i=VS(),r=YS(),o=XS(),c=ZS();function h(_){var g=-1,w=_==null?0:_.length;for(this.clear();++g<w;){var b=_[g];this.set(b[0],b[1])}}return h.prototype.clear=a,h.prototype.delete=i,h.prototype.get=r,h.prototype.has=o,h.prototype.set=c,_o=h,_o}var yo,Ld;function QS(){if(Ld)return yo;Ld=1;function a(){this.__data__=[],this.size=0}return yo=a,yo}var mo,Od;function Xf(){if(Od)return mo;Od=1;function a(i,r){return i===r||i!==i&&r!==r}return mo=a,mo}var wo,Dd;function si(){if(Dd)return wo;Dd=1;var a=Xf();function i(r,o){for(var c=r.length;c--;)if(a(r[c][0],o))return c;return-1}return wo=i,wo}var vo,Nd;function eC(){if(Nd)return vo;Nd=1;var a=si(),i=Array.prototype,r=i.splice;function o(c){var h=this.__data__,_=a(h,c);if(_<0)return!1;var g=h.length-1;return _==g?h.pop():r.call(h,_,1),--this.size,!0}return vo=o,vo}var bo,zd;function tC(){if(zd)return bo;zd=1;var a=si();function i(r){var o=this.__data__,c=a(o,r);return c<0?void 0:o[c][1]}return bo=i,bo}var So,Fd;function aC(){if(Fd)return So;Fd=1;var a=si();function i(r){return a(this.__data__,r)>-1}return So=i,So}var Co,qd;function nC(){if(qd)return Co;qd=1;var a=si();function i(r,o){var c=this.__data__,h=a(c,r);return h<0?(++this.size,c.push([r,o])):c[h][1]=o,this}return Co=i,Co}var Po,Bd;function oi(){if(Bd)return Po;Bd=1;var a=QS(),i=eC(),r=tC(),o=aC(),c=nC();function h(_){var g=-1,w=_==null?0:_.length;for(this.clear();++g<w;){var b=_[g];this.set(b[0],b[1])}}return h.prototype.clear=a,h.prototype.delete=i,h.prototype.get=r,h.prototype.has=o,h.prototype.set=c,Po=h,Po}var Ao,Md;function xc(){if(Md)return Ao;Md=1;var a=Ma(),i=Mt(),r=a(i,"Map");return Ao=r,Ao}var Io,Ud;function rC(){if(Ud)return Io;Ud=1;var a=JS(),i=oi(),r=xc();function o(){this.size=0,this.__data__={hash:new a,map:new(r||i),string:new a}}return Io=o,Io}var Eo,jd;function iC(){if(jd)return Eo;jd=1;function a(i){var r=typeof i;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?i!=="__proto__":i===null}return Eo=a,Eo}var ko,Hd;function li(){if(Hd)return ko;Hd=1;var a=iC();function i(r,o){var c=r.__data__;return a(o)?c[typeof o=="string"?"string":"hash"]:c.map}return ko=i,ko}var Ro,Gd;function sC(){if(Gd)return Ro;Gd=1;var a=li();function i(r){var o=a(this,r).delete(r);return this.size-=o?1:0,o}return Ro=i,Ro}var $o,Wd;function oC(){if(Wd)return $o;Wd=1;var a=li();function i(r){return a(this,r).get(r)}return $o=i,$o}var To,Kd;function lC(){if(Kd)return To;Kd=1;var a=li();function i(r){return a(this,r).has(r)}return To=i,To}var xo,Vd;function cC(){if(Vd)return xo;Vd=1;var a=li();function i(r,o){var c=a(this,r),h=c.size;return c.set(r,o),this.size+=c.size==h?0:1,this}return xo=i,xo}var Lo,Yd;function Zf(){if(Yd)return Lo;Yd=1;var a=rC(),i=sC(),r=oC(),o=lC(),c=cC();function h(_){var g=-1,w=_==null?0:_.length;for(this.clear();++g<w;){var b=_[g];this.set(b[0],b[1])}}return h.prototype.clear=a,h.prototype.delete=i,h.prototype.get=r,h.prototype.has=o,h.prototype.set=c,Lo=h,Lo}var Oo,Xd;function uC(){if(Xd)return Oo;Xd=1;var a=Zf(),i="Expected a function";function r(o,c){if(typeof o!="function"||c!=null&&typeof c!="function")throw new TypeError(i);var h=function(){var _=arguments,g=c?c.apply(this,_):_[0],w=h.cache;if(w.has(g))return w.get(g);var b=o.apply(this,_);return h.cache=w.set(g,b)||w,b};return h.cache=new(r.Cache||a),h}return r.Cache=a,Oo=r,Oo}var Do,Zd;function pC(){if(Zd)return Do;Zd=1;var a=uC(),i=500;function r(o){var c=a(o,function(_){return h.size===i&&h.clear(),_}),h=c.cache;return c}return Do=r,Do}var No,Jd;function dC(){if(Jd)return No;Jd=1;var a=pC(),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,o=a(function(c){var h=[];return c.charCodeAt(0)===46&&h.push(""),c.replace(i,function(_,g,w,b){h.push(w?b.replace(r,"$1"):g||_)}),h});return No=o,No}var zo,Qd;function hC(){if(Qd)return zo;Qd=1;function a(i,r){for(var o=-1,c=i==null?0:i.length,h=Array(c);++o<c;)h[o]=r(i[o],o,i);return h}return zo=a,zo}var Fo,eh;function fC(){if(eh)return Fo;eh=1;var a=ri(),i=hC(),r=Ba(),o=Tc(),c=a?a.prototype:void 0,h=c?c.toString:void 0;function _(g){if(typeof g=="string")return g;if(r(g))return i(g,_)+"";if(o(g))return h?h.call(g):"";var w=g+"";return w=="0"&&1/g==-1/0?"-0":w}return Fo=_,Fo}var qo,th;function gC(){if(th)return qo;th=1;var a=fC();function i(r){return r==null?"":a(r)}return qo=i,qo}var Bo,ah;function _C(){if(ah)return Bo;ah=1;var a=Ba(),i=US(),r=dC(),o=gC();function c(h,_){return a(h)?h:i(h,_)?[h]:r(o(h))}return Bo=c,Bo}var Mo,nh;function yC(){if(nh)return Mo;nh=1;var a=Xn(),i=un(),r="[object Arguments]";function o(c){return i(c)&&a(c)==r}return Mo=o,Mo}var Uo,rh;function Jf(){if(rh)return Uo;rh=1;var a=yC(),i=un(),r=Object.prototype,o=r.hasOwnProperty,c=r.propertyIsEnumerable,h=a(function(){return arguments}())?a:function(_){return i(_)&&o.call(_,"callee")&&!c.call(_,"callee")};return Uo=h,Uo}var jo,ih;function Qf(){if(ih)return jo;ih=1;var a=9007199254740991,i=/^(?:0|[1-9]\d*)$/;function r(o,c){var h=typeof o;return c=c??a,!!c&&(h=="number"||h!="symbol"&&i.test(o))&&o>-1&&o%1==0&&o<c}return jo=r,jo}var Ho,sh;function Lc(){if(sh)return Ho;sh=1;var a=9007199254740991;function i(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=a}return Ho=i,Ho}var Go,oh;function mC(){if(oh)return Go;oh=1;var a=Tc();function i(r){if(typeof r=="string"||a(r))return r;var o=r+"";return o=="0"&&1/r==-1/0?"-0":o}return Go=i,Go}var Wo,lh;function wC(){if(lh)return Wo;lh=1;var a=_C(),i=Jf(),r=Ba(),o=Qf(),c=Lc(),h=mC();function _(g,w,b){w=a(w,g);for(var y=-1,v=w.length,R=!1;++y<v;){var F=h(w[y]);if(!(R=g!=null&&b(g,F)))break;g=g[F]}return R||++y!=v?R:(v=g==null?0:g.length,!!v&&c(v)&&o(F,v)&&(r(g)||i(g)))}return Wo=_,Wo}var Ko,ch;function vC(){if(ch)return Ko;ch=1;var a=qS(),i=wC();function r(o,c){return o!=null&&i(o,c,a)}return Ko=r,Ko}var bC=vC();const SC=Wf(bC);function eg(){return String(Date.now().toString(36)+Math.random().toString(36).substr(2))}function ci(a){return a!==null&&typeof a=="object"}function CC(){const a=window.location;return new URL(a.pathname,a.origin).toString()}function Jn(a,i){return ci(i)&&i.__type__&&i.__type__===a}function PC(a,i){return SC(a,i)}function Oc(a,i,r="root"){for(let o in a){const c=a[o];if(i.apply(this,[a,o,c,r]),ci(c)){let h=r+"."+o;Oc(c,i,h)}}}function AC(a){return a!==Object(a)||a===null||a===void 0}function uh(a){return typeof a!="string"?a:a.replace(/^root\./,"")}function tg(a){if(typeof a!="string"||a==="")return;const i=new URL(a);return i.origin===window.location.origin?{baseUrl:i.hostname,permissions:{additional:["*"],create:["*"],read:["*"],update:["*"],delete:["*"]}}:Object.values(window._swsdk.adminExtensions).find(r=>new URL(r.baseUrl).hostname===i.hostname)}class Ua extends Error{constructor(i,r){super(`Your app is missing the privileges ${r.join(", ")} for action "${i}".`),Object.defineProperty(this,"missingPrivileges",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"messageType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.missingPrivileges=r,this.messageType=i,Object.setPrototypeOf(this,Ua.prototype)}toJSON(){return{__type__:"__MissingPrivilegesError__",__messageType__:this.messageType,__data__:this.missingPrivileges}}}var IC=function(a,i,r,o){function c(h){return h instanceof r?h:new r(function(_){_(h)})}return new(r||(r=Promise))(function(h,_){function g(y){try{b(o.next(y))}catch(v){_(v)}}function w(y){try{b(o.throw(y))}catch(v){_(v)}}function b(y){y.done?h(y.value):c(y.value).then(g,w)}b((o=o.apply(a,i||[])).next())})};const EC=({send:a,handle:i})=>{const r={};let o=!1;function c(){o||(o=!0,i("__function__",({args:h,id:_})=>IC(this,void 0,void 0,function*(){return yield Promise.resolve(r[_](...h))})))}return{name:"function",serialize:({value:h})=>{if(typeof h=="function"){const _=eg();return r[_]=h,c(),{__type__:"__function__",id:_,origin:window.origin}}},deserialize:({value:h,event:_})=>{var g;const w=(g=_==null?void 0:_.source)!==null&&g!==void 0?g:window;if(ci(h)&&h.__type__&&h.__type__==="__function__"&&typeof h.id=="string"){const b=h.id,y=h.origin;return(...v)=>a("__function__",{args:v,id:b},w,y)}}}};var Vo,ph;function kC(){if(ph)return Vo;ph=1;var a=oi();function i(){this.__data__=new a,this.size=0}return Vo=i,Vo}var Yo,dh;function RC(){if(dh)return Yo;dh=1;function a(i){var r=this.__data__,o=r.delete(i);return this.size=r.size,o}return Yo=a,Yo}var Xo,hh;function $C(){if(hh)return Xo;hh=1;function a(i){return this.__data__.get(i)}return Xo=a,Xo}var Zo,fh;function TC(){if(fh)return Zo;fh=1;function a(i){return this.__data__.has(i)}return Zo=a,Zo}var Jo,gh;function xC(){if(gh)return Jo;gh=1;var a=oi(),i=xc(),r=Zf(),o=200;function c(h,_){var g=this.__data__;if(g instanceof a){var w=g.__data__;if(!i||w.length<o-1)return w.push([h,_]),this.size=++g.size,this;g=this.__data__=new r(w)}return g.set(h,_),this.size=g.size,this}return Jo=c,Jo}var Qo,_h;function LC(){if(_h)return Qo;_h=1;var a=oi(),i=kC(),r=RC(),o=$C(),c=TC(),h=xC();function _(g){var w=this.__data__=new a(g);this.size=w.size}return _.prototype.clear=i,_.prototype.delete=r,_.prototype.get=o,_.prototype.has=c,_.prototype.set=h,Qo=_,Qo}var el,yh;function OC(){if(yh)return el;yh=1;function a(i,r){for(var o=-1,c=i==null?0:i.length;++o<c&&r(i[o],o,i)!==!1;);return i}return el=a,el}var tl,mh;function DC(){if(mh)return tl;mh=1;var a=Ma(),i=function(){try{var r=a(Object,"defineProperty");return r({},"",{}),r}catch{}}();return tl=i,tl}var al,wh;function ag(){if(wh)return al;wh=1;var a=DC();function i(r,o,c){o=="__proto__"&&a?a(r,o,{configurable:!0,enumerable:!0,value:c,writable:!0}):r[o]=c}return al=i,al}var nl,vh;function ng(){if(vh)return nl;vh=1;var a=ag(),i=Xf(),r=Object.prototype,o=r.hasOwnProperty;function c(h,_,g){var w=h[_];(!(o.call(h,_)&&i(w,g))||g===void 0&&!(_ in h))&&a(h,_,g)}return nl=c,nl}var rl,bh;function ui(){if(bh)return rl;bh=1;var a=ng(),i=ag();function r(o,c,h,_){var g=!h;h||(h={});for(var w=-1,b=c.length;++w<b;){var y=c[w],v=_?_(h[y],o[y],y,h,o):void 0;v===void 0&&(v=o[y]),g?i(h,y,v):a(h,y,v)}return h}return rl=r,rl}var il,Sh;function NC(){if(Sh)return il;Sh=1;function a(i,r){for(var o=-1,c=Array(i);++o<i;)c[o]=r(o);return c}return il=a,il}var Un={exports:{}},sl,Ch;function zC(){if(Ch)return sl;Ch=1;function a(){return!1}return sl=a,sl}Un.exports;var Ph;function rg(){return Ph||(Ph=1,function(a,i){var r=Mt(),o=zC(),c=i&&!i.nodeType&&i,h=c&&!0&&a&&!a.nodeType&&a,_=h&&h.exports===c,g=_?r.Buffer:void 0,w=g?g.isBuffer:void 0,b=w||o;a.exports=b}(Un,Un.exports)),Un.exports}var ol,Ah;function FC(){if(Ah)return ol;Ah=1;var a=Xn(),i=Lc(),r=un(),o="[object Arguments]",c="[object Array]",h="[object Boolean]",_="[object Date]",g="[object Error]",w="[object Function]",b="[object Map]",y="[object Number]",v="[object Object]",R="[object RegExp]",F="[object Set]",K="[object String]",D="[object WeakMap]",G="[object ArrayBuffer]",ae="[object DataView]",V="[object Float32Array]",we="[object Float64Array]",be="[object Int8Array]",M="[object Int16Array]",ee="[object Int32Array]",X="[object Uint8Array]",ue="[object Uint8ClampedArray]",fe="[object Uint16Array]",De="[object Uint32Array]",te={};te[V]=te[we]=te[be]=te[M]=te[ee]=te[X]=te[ue]=te[fe]=te[De]=!0,te[o]=te[c]=te[G]=te[h]=te[ae]=te[_]=te[g]=te[w]=te[b]=te[y]=te[v]=te[R]=te[F]=te[K]=te[D]=!1;function Re(Ue){return r(Ue)&&i(Ue.length)&&!!te[a(Ue)]}return ol=Re,ol}var ll,Ih;function Dc(){if(Ih)return ll;Ih=1;function a(i){return function(r){return i(r)}}return ll=a,ll}var jn={exports:{}};jn.exports;var Eh;function Nc(){return Eh||(Eh=1,function(a,i){var r=Kf(),o=i&&!i.nodeType&&i,c=o&&!0&&a&&!a.nodeType&&a,h=c&&c.exports===o,_=h&&r.process,g=function(){try{var w=c&&c.require&&c.require("util").types;return w||_&&_.binding&&_.binding("util")}catch{}}();a.exports=g}(jn,jn.exports)),jn.exports}var cl,kh;function qC(){if(kh)return cl;kh=1;var a=FC(),i=Dc(),r=Nc(),o=r&&r.isTypedArray,c=o?i(o):a;return cl=c,cl}var ul,Rh;function ig(){if(Rh)return ul;Rh=1;var a=NC(),i=Jf(),r=Ba(),o=rg(),c=Qf(),h=qC(),_=Object.prototype,g=_.hasOwnProperty;function w(b,y){var v=r(b),R=!v&&i(b),F=!v&&!R&&o(b),K=!v&&!R&&!F&&h(b),D=v||R||F||K,G=D?a(b.length,String):[],ae=G.length;for(var V in b)(y||g.call(b,V))&&!(D&&(V=="length"||F&&(V=="offset"||V=="parent")||K&&(V=="buffer"||V=="byteLength"||V=="byteOffset")||c(V,ae)))&&G.push(V);return G}return ul=w,ul}var pl,$h;function zc(){if($h)return pl;$h=1;var a=Object.prototype;function i(r){var o=r&&r.constructor,c=typeof o=="function"&&o.prototype||a;return r===c}return pl=i,pl}var dl,Th;function sg(){if(Th)return dl;Th=1;function a(i,r){return function(o){return i(r(o))}}return dl=a,dl}var hl,xh;function BC(){if(xh)return hl;xh=1;var a=sg(),i=a(Object.keys,Object);return hl=i,hl}var fl,Lh;function MC(){if(Lh)return fl;Lh=1;var a=zc(),i=BC(),r=Object.prototype,o=r.hasOwnProperty;function c(h){if(!a(h))return i(h);var _=[];for(var g in Object(h))o.call(h,g)&&g!="constructor"&&_.push(g);return _}return fl=c,fl}var gl,Oh;function og(){if(Oh)return gl;Oh=1;var a=Vf(),i=Lc();function r(o){return o!=null&&i(o.length)&&!a(o)}return gl=r,gl}var _l,Dh;function Fc(){if(Dh)return _l;Dh=1;var a=ig(),i=MC(),r=og();function o(c){return r(c)?a(c):i(c)}return _l=o,_l}var yl,Nh;function UC(){if(Nh)return yl;Nh=1;var a=ui(),i=Fc();function r(o,c){return o&&a(c,i(c),o)}return yl=r,yl}var ml,zh;function jC(){if(zh)return ml;zh=1;function a(i){var r=[];if(i!=null)for(var o in Object(i))r.push(o);return r}return ml=a,ml}var wl,Fh;function HC(){if(Fh)return wl;Fh=1;var a=Zn(),i=zc(),r=jC(),o=Object.prototype,c=o.hasOwnProperty;function h(_){if(!a(_))return r(_);var g=i(_),w=[];for(var b in _)b=="constructor"&&(g||!c.call(_,b))||w.push(b);return w}return wl=h,wl}var vl,qh;function qc(){if(qh)return vl;qh=1;var a=ig(),i=HC(),r=og();function o(c){return r(c)?a(c,!0):i(c)}return vl=o,vl}var bl,Bh;function GC(){if(Bh)return bl;Bh=1;var a=ui(),i=qc();function r(o,c){return o&&a(c,i(c),o)}return bl=r,bl}var Hn={exports:{}};Hn.exports;var Mh;function WC(){return Mh||(Mh=1,function(a,i){var r=Mt(),o=i&&!i.nodeType&&i,c=o&&!0&&a&&!a.nodeType&&a,h=c&&c.exports===o,_=h?r.Buffer:void 0,g=_?_.allocUnsafe:void 0;function w(b,y){if(y)return b.slice();var v=b.length,R=g?g(v):new b.constructor(v);return b.copy(R),R}a.exports=w}(Hn,Hn.exports)),Hn.exports}var Sl,Uh;function KC(){if(Uh)return Sl;Uh=1;function a(i,r){var o=-1,c=i.length;for(r||(r=Array(c));++o<c;)r[o]=i[o];return r}return Sl=a,Sl}var Cl,jh;function VC(){if(jh)return Cl;jh=1;function a(i,r){for(var o=-1,c=i==null?0:i.length,h=0,_=[];++o<c;){var g=i[o];r(g,o,i)&&(_[h++]=g)}return _}return Cl=a,Cl}var Pl,Hh;function lg(){if(Hh)return Pl;Hh=1;function a(){return[]}return Pl=a,Pl}var Al,Gh;function Bc(){if(Gh)return Al;Gh=1;var a=VC(),i=lg(),r=Object.prototype,o=r.propertyIsEnumerable,c=Object.getOwnPropertySymbols,h=c?function(_){return _==null?[]:(_=Object(_),a(c(_),function(g){return o.call(_,g)}))}:i;return Al=h,Al}var Il,Wh;function YC(){if(Wh)return Il;Wh=1;var a=ui(),i=Bc();function r(o,c){return a(o,i(o),c)}return Il=r,Il}var El,Kh;function cg(){if(Kh)return El;Kh=1;function a(i,r){for(var o=-1,c=r.length,h=i.length;++o<c;)i[h+o]=r[o];return i}return El=a,El}var kl,Vh;function ug(){if(Vh)return kl;Vh=1;var a=sg(),i=a(Object.getPrototypeOf,Object);return kl=i,kl}var Rl,Yh;function pg(){if(Yh)return Rl;Yh=1;var a=cg(),i=ug(),r=Bc(),o=lg(),c=Object.getOwnPropertySymbols,h=c?function(_){for(var g=[];_;)a(g,r(_)),_=i(_);return g}:o;return Rl=h,Rl}var $l,Xh;function XC(){if(Xh)return $l;Xh=1;var a=ui(),i=pg();function r(o,c){return a(o,i(o),c)}return $l=r,$l}var Tl,Zh;function dg(){if(Zh)return Tl;Zh=1;var a=cg(),i=Ba();function r(o,c,h){var _=c(o);return i(o)?_:a(_,h(o))}return Tl=r,Tl}var xl,Jh;function ZC(){if(Jh)return xl;Jh=1;var a=dg(),i=Bc(),r=Fc();function o(c){return a(c,r,i)}return xl=o,xl}var Ll,Qh;function JC(){if(Qh)return Ll;Qh=1;var a=dg(),i=pg(),r=qc();function o(c){return a(c,r,i)}return Ll=o,Ll}var Ol,ef;function QC(){if(ef)return Ol;ef=1;var a=Ma(),i=Mt(),r=a(i,"DataView");return Ol=r,Ol}var Dl,tf;function eP(){if(tf)return Dl;tf=1;var a=Ma(),i=Mt(),r=a(i,"Promise");return Dl=r,Dl}var Nl,af;function tP(){if(af)return Nl;af=1;var a=Ma(),i=Mt(),r=a(i,"Set");return Nl=r,Nl}var zl,nf;function aP(){if(nf)return zl;nf=1;var a=Ma(),i=Mt(),r=a(i,"WeakMap");return zl=r,zl}var Fl,rf;function Mc(){if(rf)return Fl;rf=1;var a=QC(),i=xc(),r=eP(),o=tP(),c=aP(),h=Xn(),_=Yf(),g="[object Map]",w="[object Object]",b="[object Promise]",y="[object Set]",v="[object WeakMap]",R="[object DataView]",F=_(a),K=_(i),D=_(r),G=_(o),ae=_(c),V=h;return(a&&V(new a(new ArrayBuffer(1)))!=R||i&&V(new i)!=g||r&&V(r.resolve())!=b||o&&V(new o)!=y||c&&V(new c)!=v)&&(V=function(we){var be=h(we),M=be==w?we.constructor:void 0,ee=M?_(M):"";if(ee)switch(ee){case F:return R;case K:return g;case D:return b;case G:return y;case ae:return v}return be}),Fl=V,Fl}var ql,sf;function nP(){if(sf)return ql;sf=1;var a=Object.prototype,i=a.hasOwnProperty;function r(o){var c=o.length,h=new o.constructor(c);return c&&typeof o[0]=="string"&&i.call(o,"index")&&(h.index=o.index,h.input=o.input),h}return ql=r,ql}var Bl,of;function rP(){if(of)return Bl;of=1;var a=Mt(),i=a.Uint8Array;return Bl=i,Bl}var Ml,lf;function Uc(){if(lf)return Ml;lf=1;var a=rP();function i(r){var o=new r.constructor(r.byteLength);return new a(o).set(new a(r)),o}return Ml=i,Ml}var Ul,cf;function iP(){if(cf)return Ul;cf=1;var a=Uc();function i(r,o){var c=o?a(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.byteLength)}return Ul=i,Ul}var jl,uf;function sP(){if(uf)return jl;uf=1;var a=/\w*$/;function i(r){var o=new r.constructor(r.source,a.exec(r));return o.lastIndex=r.lastIndex,o}return jl=i,jl}var Hl,pf;function oP(){if(pf)return Hl;pf=1;var a=ri(),i=a?a.prototype:void 0,r=i?i.valueOf:void 0;function o(c){return r?Object(r.call(c)):{}}return Hl=o,Hl}var Gl,df;function lP(){if(df)return Gl;df=1;var a=Uc();function i(r,o){var c=o?a(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.length)}return Gl=i,Gl}var Wl,hf;function cP(){if(hf)return Wl;hf=1;var a=Uc(),i=iP(),r=sP(),o=oP(),c=lP(),h="[object Boolean]",_="[object Date]",g="[object Map]",w="[object Number]",b="[object RegExp]",y="[object Set]",v="[object String]",R="[object Symbol]",F="[object ArrayBuffer]",K="[object DataView]",D="[object Float32Array]",G="[object Float64Array]",ae="[object Int8Array]",V="[object Int16Array]",we="[object Int32Array]",be="[object Uint8Array]",M="[object Uint8ClampedArray]",ee="[object Uint16Array]",X="[object Uint32Array]";function ue(fe,De,te){var Re=fe.constructor;switch(De){case F:return a(fe);case h:case _:return new Re(+fe);case K:return i(fe,te);case D:case G:case ae:case V:case we:case be:case M:case ee:case X:return c(fe,te);case g:return new Re;case w:case v:return new Re(fe);case b:return r(fe);case y:return new Re;case R:return o(fe)}}return Wl=ue,Wl}var Kl,ff;function uP(){if(ff)return Kl;ff=1;var a=Zn(),i=Object.create,r=function(){function o(){}return function(c){if(!a(c))return{};if(i)return i(c);o.prototype=c;var h=new o;return o.prototype=void 0,h}}();return Kl=r,Kl}var Vl,gf;function pP(){if(gf)return Vl;gf=1;var a=uP(),i=ug(),r=zc();function o(c){return typeof c.constructor=="function"&&!r(c)?a(i(c)):{}}return Vl=o,Vl}var Yl,_f;function dP(){if(_f)return Yl;_f=1;var a=Mc(),i=un(),r="[object Map]";function o(c){return i(c)&&a(c)==r}return Yl=o,Yl}var Xl,yf;function hP(){if(yf)return Xl;yf=1;var a=dP(),i=Dc(),r=Nc(),o=r&&r.isMap,c=o?i(o):a;return Xl=c,Xl}var Zl,mf;function fP(){if(mf)return Zl;mf=1;var a=Mc(),i=un(),r="[object Set]";function o(c){return i(c)&&a(c)==r}return Zl=o,Zl}var Jl,wf;function gP(){if(wf)return Jl;wf=1;var a=fP(),i=Dc(),r=Nc(),o=r&&r.isSet,c=o?i(o):a;return Jl=c,Jl}var Ql,vf;function _P(){if(vf)return Ql;vf=1;var a=LC(),i=OC(),r=ng(),o=UC(),c=GC(),h=WC(),_=KC(),g=YC(),w=XC(),b=ZC(),y=JC(),v=Mc(),R=nP(),F=cP(),K=pP(),D=Ba(),G=rg(),ae=hP(),V=Zn(),we=gP(),be=Fc(),M=qc(),ee=1,X=2,ue=4,fe="[object Arguments]",De="[object Array]",te="[object Boolean]",Re="[object Date]",Ue="[object Error]",It="[object Function]",sa="[object GeneratorFunction]",Aa="[object Map]",We="[object Number]",nt="[object Object]",dn="[object RegExp]",oa="[object Set]",xe="[object String]",ja="[object Symbol]",hn="[object WeakMap]",fn="[object ArrayBuffer]",Lt="[object DataView]",la="[object Float32Array]",gn="[object Float64Array]",jt="[object Int8Array]",Ht="[object Int16Array]",_n="[object Int32Array]",ca="[object Uint8Array]",ua="[object Uint8ClampedArray]",Ha="[object Uint16Array]",Xe="[object Uint32Array]",se={};se[fe]=se[De]=se[fn]=se[Lt]=se[te]=se[Re]=se[la]=se[gn]=se[jt]=se[Ht]=se[_n]=se[Aa]=se[We]=se[nt]=se[dn]=se[oa]=se[xe]=se[ja]=se[ca]=se[ua]=se[Ha]=se[Xe]=!0,se[Ue]=se[It]=se[hn]=!1;function pa(ie,rt,_t,Et,Fe,je){var Le,Gt=rt&ee,ct=rt&X,Ga=rt&ue;if(_t&&(Le=Fe?_t(ie,Et,Fe,je):_t(ie)),Le!==void 0)return Le;if(!V(ie))return ie;var kt=D(ie);if(kt){if(Le=R(ie),!Gt)return _(ie,Le)}else{var Ke=v(ie),Wt=Ke==It||Ke==sa;if(G(ie))return h(ie,Gt);if(Ke==nt||Ke==fe||Wt&&!Fe){if(Le=ct||Wt?{}:K(ie),!Gt)return ct?w(ie,c(Le,ie)):g(ie,o(Le,ie))}else{if(!se[Ke])return Fe?ie:{};Le=F(ie,Ke,Gt)}}je||(je=new a);var Kt=je.get(ie);if(Kt)return Kt;je.set(ie,Le),we(ie)?ie.forEach(function(Ze){Le.add(pa(Ze,rt,_t,Ze,ie,je))}):ae(ie)&&ie.forEach(function(Ze,Je){Le.set(Je,pa(Ze,rt,_t,Je,ie,je))});var da=Ga?ct?y:b:ct?M:be,Vt=kt?void 0:da(ie);return i(Vt||ie,function(Ze,Je){Vt&&(Je=Ze,Ze=ie[Je]),r(Le,Je,pa(Ze,rt,_t,Je,ie,je))}),Le}return Ql=pa,Ql}var ec,bf;function yP(){if(bf)return ec;bf=1;var a=_P(),i=1,r=4;function o(c){return a(c,i|r)}return ec=o,ec}var mP=yP();const Ic=Wf(mP);let wP=1,vP=null,Ec=class hg{constructor(i=wP,r=vP){Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"limit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"term",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filters",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ids",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"associations",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"postFilter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sortings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"aggregations",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"grouping",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"groupFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"totalCountMode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.page=i,this.limit=r,this.term=null,this.title=null,this.filters=[],this.includes=null,this.ids=[],this.queries=[],this.associations=[],this.postFilter=[],this.sortings=[],this.aggregations=[],this.grouping=[],this.groupFields=[],this.fields=[],this.totalCountMode=1}static fromCriteria(i){return Ic(i)}parse(){const i={};return this.ids.length>0&&(i.ids=this.ids.join("|")),this.page!==null&&(i.page=this.page),this.limit!==null&&(i.limit=this.limit),this.term!==null&&(i.term=this.term),this.queries.length>0&&(i.query=this.queries),this.filters.length>0&&(i.filter=this.filters),this.postFilter.length>0&&(i["post-filter"]=this.postFilter),this.sortings.length>0&&(i.sort=this.sortings),this.aggregations.length>0&&(i.aggregations=this.aggregations),this.groupFields.length>0&&(i.groupFields=this.groupFields),this.grouping.length>0&&(i.grouping=this.grouping),this.fields.length>0&&(i.fields=this.fields),this.associations.length>0&&(i.associations={},this.associations.forEach(r=>{i.associations&&(i.associations[r.association]=r.criteria.parse())})),this.includes!==null&&(i.includes=this.includes),this.totalCountMode!==null&&(i["total-count-mode"]=this.totalCountMode),i}setTitle(i){return this.title=i,this}getTitle(){return this.title}setIds(i){return this.ids=i,this}setTotalCountMode(i){return typeof i!="number"&&(this.totalCountMode=null),this.totalCountMode=i<0||i>2?null:i,this}setPage(i){return this.page=i,this}setLimit(i){return this.limit=i,this}setTerm(i){return this.term=i,this}addFilter(i){return this.filters.push(i),this}addIncludes(i){return Object.entries(i).forEach(([r,o])=>{this.includes===null&&(this.includes={}),this.includes[r]||(this.includes[r]=[]),this.includes[r].push(...o)}),this}addPostFilter(i){return this.postFilter.push(i),this}addSorting(i){return this.sortings.push(i),this}addQuery(i,r,o=null){const c={score:r,query:i};return o&&(c[o]=o),this.queries.push(c),this}addGroupField(i){return this.groupFields.push(i),this}addGrouping(i){return this.grouping.push(i),this}addFields(...i){return this.fields.push(...i),this}addAggregation(i){return this.aggregations.push(i),this}addAssociation(i){const r=i.split(".");let o=this;return r.forEach(c=>{o=o.getAssociation(c)}),this}getAssociation(i){const r=i.split(".");let o=this;return r.forEach(c=>{o.hasAssociation(c)||o.associations.push({association:c,criteria:new hg(null,null)}),o=o.getAssociationCriteria(c)}),o}getAssociationCriteria(i){let r=null;return this.associations.forEach(o=>{o.association===i&&(r=o.criteria)}),r}getLimit(){var i;return(i=this.limit)!==null&&i!==void 0?i:0}getPage(){var i;return(i=this.page)!==null&&i!==void 0?i:0}getCriteriaData(){return{page:this.page,limit:this.limit,term:this.term,title:this.title,filters:this.filters,ids:this.ids,queries:this.queries,associations:this.associations,postFilter:this.postFilter,sortings:this.sortings,aggregations:this.aggregations,grouping:this.grouping,fields:this.fields,groupFields:this.groupFields,totalCountMode:this.totalCountMode,includes:this.includes}}hasAssociation(i){return this.associations.some(r=>r.association===i)}resetSorting(){this.sortings=[]}static avg(i,r){return{type:"avg",name:i,field:r}}static count(i,r){return{type:"count",name:i,field:r}}static max(i,r){return{type:"max",name:i,field:r}}static min(i,r){return{type:"min",name:i,field:r}}static stats(i,r){return{type:"stats",name:i,field:r}}static sum(i,r){return{type:"sum",name:i,field:r}}static terms(i,r,o=null,c=null,h=null){return{type:"terms",name:i,field:r,limit:o,sort:c,aggregation:h}}static entityAggregation(i,r,o){return{type:"entity",name:i,field:r,definition:o}}static filter(i,r,o){return{type:"filter",name:i,filter:r,aggregation:o}}static histogram(i,r,o,c,h,_){return{type:"histogram",name:i,field:r,interval:o,format:c,aggregation:h,timeZone:_}}static sort(i,r="ASC",o=!1){return{field:i,order:r,naturalSorting:o}}static naturalSorting(i,r="ASC"){return{field:i,order:r,naturalSorting:!0}}static countSorting(i,r="ASC"){return{field:i,order:r,naturalSorting:!1,type:"count"}}static contains(i,r){return{type:"contains",field:i,value:r}}static prefix(i,r){return{type:"prefix",field:i,value:r}}static suffix(i,r){return{type:"suffix",field:i,value:r}}static equalsAny(i,r){return{type:"equalsAny",field:i,value:r.join("|")}}static range(i,r){return{type:"range",field:i,parameters:r}}static equals(i,r){return{type:"equals",field:i,value:r}}static not(i,r=[]){return{type:"not",operator:i,queries:r}}static multi(i,r=[]){return{type:"multi",operator:i,queries:r}}};const bP=()=>({name:"criteria",serialize:({value:a,customizerMethod:i,seen:r,path:o})=>{if(a instanceof Ec)return{__type__:"__Criteria__",data:i(a.getCriteriaData(),r,o)}},deserialize:({value:a,customizerMethod:i})=>{if(Jn("__Criteria__",a)&&typeof a.data=="object"){const r=a.data,o=new Ec;return o.setPage(r.page),o.setLimit(r.limit),o.setTerm(r.term),r.title!==null&&o.setTitle(r.title),r.filters.forEach(c=>{o.addFilter(c)}),o.setIds(r.ids),r.queries.forEach(({query:c,score:h})=>{o.addQuery(c,h)}),r.associations.forEach(c=>{o.associations.push(i(c))}),r.postFilter.forEach(c=>{o.addPostFilter(c)}),r.sortings.forEach(c=>{o.addSorting(c)}),r.aggregations.forEach(c=>{o.addAggregation(c)}),r.grouping.forEach(c=>{o.addGrouping(c)}),r.fields.forEach(c=>{o.addFields(c)}),r.groupFields.forEach(c=>{o.addGroupField(c)}),r.includes&&o.addIncludes(r.includes),o.setTotalCountMode(r.totalCountMode),o}}});let SP=(a,i,r)=>{a[i]=r};class CP{constructor(i,r,o,c={}){var h,_;Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_origin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_entityName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_draft",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isDirty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isNew",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.id=i,this._origin=c.originData?Ic(c.originData):Ic(o),this._entityName=r,this._draft=o,this._isDirty=(h=c.isDirty)!==null&&h!==void 0?h:!1,this._isNew=(_=c.isNew)!==null&&_!==void 0?_:!1;const g=this;return new Proxy(this._draft,{get(w,b){return b in g._draft?g._draft[b]:g[b]},set(w,b,y){return SP(g._draft,b,y),g._isDirty=!0,!0}})}__identifier__(){return"Entity"}markAsNew(){this._isNew=!0}isNew(){return this._isNew}getIsDirty(){return this._isDirty}getOrigin(){return this._origin}getDraft(){return this._draft}getEntityName(){return this._entityName}}const PP=function(i,r,o,c){return new CP(i,r,o,c)},AP=()=>({name:"entity",serialize:({value:a,customizerMethod:i,seen:r,path:o})=>{if(!(!ci(a)||typeof a.__identifier__!="function"||a.__identifier__()!=="Entity"))return{__type__:"__Entity__",__id__:a.id,__entityName__:a._entityName,__isDirty__:a._isDirty,__isNew__:a._isNew,__origin__:i(a._origin,r,o),__draft__:i(a._draft,r,o)}},deserialize:({value:a,customizerMethod:i})=>{if(Jn("__Entity__",a)&&typeof a.__origin__=="object")return new PP(a.__id__,a.__entityName__,i(a.__draft__),{originData:i(a.__origin__),isDirty:a.__isDirty__,isNew:a.__isNew__})}});let Sf=class kc extends Array{constructor(i,r,o,c=null,h=[],_=null,g=null){super(),Object.defineProperty(this,"entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"source",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"criteria",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"aggregations",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"total",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"first",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"remove",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"has",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"get",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"getAt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"getIds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"add",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"addAt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moveItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__identifier__",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.entity=r,this.source=i,this.context=o,this.criteria=c,this.aggregations=g,this.total=_,this.push(...h),this.__identifier__=()=>"EntityCollection",this.first=function(){return this.length<=0?null:this[0]},this.last=function(){return this.length<=0?null:this[this.length-1]},this.remove=function(b){const y=this.findIndex(v=>v.id===b);return y<0?!1:(this.splice(y,1),!0)},this.has=function(b){return this.some(y=>y.id===b)},this.get=function(b){const y=this.find(v=>v.id===b);return typeof y<"u"?y:null},this.getAt=function(b){const y=this[b];return typeof y<"u"?y:null},this.getIds=function(){return this.map(b=>b.id)},this.add=function(b){this.push(b)},this.addAt=function(b,y){if(typeof y>"u"){this.add(b);return}this.splice(y,0,b)},this.moveItem=function(b,y=null){if(y===null&&(y=this.length),b<0||b>=this.length)return null;if(y===b)return this.getAt(b);const v=this.find((K,D)=>D===b);if(typeof v>"u")return null;const R=this.filter((K,D)=>D!==b),F=[...R.slice(0,y),v,...R.slice(y)];return this.splice(0,this.length,...F),v},this.filter=function(b,y){const v=Object.getPrototypeOf(this).filter.call(this,b,y);return new kc(this.source,this.entity,this.context,this.criteria,v,this.total,this.aggregations)}}static fromCollection(i){return new kc(i.source,i.entity,i.context,i.criteria===null?i.criteria:Ec.fromCriteria(i.criteria),i,i.total,i.aggregations)}};const IP=()=>({name:"entity-collection",serialize:({value:a,customizerMethod:i,seen:r,path:o})=>{if(a instanceof Sf||a!=null&&a.__identifier__&&a.__identifier__()==="EntityCollection")return i({__type__:"__EntityCollection__",__source__:a.source,__entityName__:a.entity,__context__:a.context,__criteria__:a.criteria,__entities__:Array.from(a),__total__:a.total,__aggregations__:a.aggregations},r,o)},deserialize:({value:a,customizerMethod:i})=>{if(Jn("__EntityCollection__",a))return new Sf(a.__source__,a.__entityName__,a.__context__,i(a.__criteria__),i(a.__entities__),a.__total__,a.__aggregations__)}});class Gn extends Error{constructor(i,r){super(i),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:500}),r&&(this.code=r)}toJSON(){return{__type__:"__HandleError__",__code__:this.code,__message__:this.message}}}const EP=()=>({name:"handle-error",serialize:()=>{},deserialize:({value:a})=>{if(Jn("__HandleError__",a))return new Gn(a.__message__,a.__code__)}});var Wn={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var kP=Wn.exports,Cf;function RP(){return Cf||(Cf=1,function(a,i){(function(){var r,o="4.17.21",c=200,h="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",_="Expected a function",g="Invalid `variable` option passed into `_.template`",w="__lodash_hash_undefined__",b=500,y="__lodash_placeholder__",v=1,R=2,F=4,K=1,D=2,G=1,ae=2,V=4,we=8,be=16,M=32,ee=64,X=128,ue=256,fe=512,De=30,te="...",Re=800,Ue=16,It=1,sa=2,Aa=3,We=1/0,nt=9007199254740991,dn=17976931348623157e292,oa=NaN,xe=4294967295,ja=xe-1,hn=xe>>>1,fn=[["ary",X],["bind",G],["bindKey",ae],["curry",we],["curryRight",be],["flip",fe],["partial",M],["partialRight",ee],["rearg",ue]],Lt="[object Arguments]",la="[object Array]",gn="[object AsyncFunction]",jt="[object Boolean]",Ht="[object Date]",_n="[object DOMException]",ca="[object Error]",ua="[object Function]",Ha="[object GeneratorFunction]",Xe="[object Map]",se="[object Number]",pa="[object Null]",ie="[object Object]",rt="[object Promise]",_t="[object Proxy]",Et="[object RegExp]",Fe="[object Set]",je="[object String]",Le="[object Symbol]",Gt="[object Undefined]",ct="[object WeakMap]",Ga="[object WeakSet]",kt="[object ArrayBuffer]",Ke="[object DataView]",Wt="[object Float32Array]",Kt="[object Float64Array]",da="[object Int8Array]",Vt="[object Int16Array]",Ze="[object Int32Array]",Je="[object Uint8Array]",yn="[object Uint8ClampedArray]",mn="[object Uint16Array]",Ia="[object Uint32Array]",Qn=/\b__p \+= '';/g,pi=/\b(__p \+=) '' \+/g,Ot=/(__e\(.*?\)|\b__t\)) \+\n'';/g,er=/&(?:amp|lt|gt|quot|#39);/g,tr=/[&<>"']/g,ar=RegExp(er.source),di=RegExp(tr.source),hi=/<%-([\s\S]+?)%>/g,fi=/<%([\s\S]+?)%>/g,nr=/<%=([\s\S]+?)%>/g,gi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_i=/^\w*$/,yi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wn=/[\\^$.*+?()[\]{}|]/g,mi=RegExp(wn.source),vn=/^\s+/,rr=/\s/,wi=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,vi=/\{\n\/\* \[wrapped with (.+)\] \*/,bi=/,? & /,Si=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ci=/[()=,{}\[\]\/\s]/,Pi=/\\(\\)?/g,Ai=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ir=/\w*$/,Ii=/^[-+]0x[0-9a-f]+$/i,Ei=/^0b[01]+$/i,ki=/^\[object .+?Constructor\]$/,Ri=/^0o[0-7]+$/i,$i=/^(?:0|[1-9]\d*)$/,Ti=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Wa=/($^)/,sr=/['\n\r\u2028\u2029\\]/g,Dt="\\ud800-\\udfff",or="\\u0300-\\u036f",ha="\\ufe20-\\ufe2f",xi="\\u20d0-\\u20ff",Ea=or+ha+xi,Ka="\\u2700-\\u27bf",lr="a-z\\xdf-\\xf6\\xf8-\\xff",Li="\\xac\\xb1\\xd7\\xf7",bn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Oi="\\u2000-\\u206f",Di=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",p="A-Z\\xc0-\\xd6\\xd8-\\xde",S="\\ufe0e\\ufe0f",f=Li+bn+Oi+Di,A="[']",k="["+Dt+"]",P="["+f+"]",x="["+Ea+"]",z="\\d+",q="["+Ka+"]",B="["+lr+"]",U="[^"+Dt+f+z+Ka+lr+p+"]",W="\\ud83c[\\udffb-\\udfff]",le="(?:"+x+"|"+W+")",_e="[^"+Dt+"]",ye="(?:\\ud83c[\\udde6-\\uddff]){2}",Ee="[\\ud800-\\udbff][\\udc00-\\udfff]",Ce="["+p+"]",Qe="\\u200d",fa="(?:"+B+"|"+U+")",Sn="(?:"+Ce+"|"+U+")",cr="(?:"+A+"(?:d|ll|m|re|s|t|ve))?",Va="(?:"+A+"(?:D|LL|M|RE|S|T|VE))?",Ni=le+"?",ur="["+S+"]?",zi="(?:"+Qe+"(?:"+[_e,ye,Ee].join("|")+")"+ur+Ni+")*",pr="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Og="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Gc=ur+Ni+zi,Dg="(?:"+[q,ye,Ee].join("|")+")"+Gc,Ng="(?:"+[_e+x+"?",x,ye,Ee,k].join("|")+")",zg=RegExp(A,"g"),Fg=RegExp(x,"g"),Fi=RegExp(W+"(?="+W+")|"+Ng+Gc,"g"),qg=RegExp([Ce+"?"+B+"+"+cr+"(?="+[P,Ce,"$"].join("|")+")",Sn+"+"+Va+"(?="+[P,Ce+fa,"$"].join("|")+")",Ce+"?"+fa+"+"+cr,Ce+"+"+Va,Og,pr,z,Dg].join("|"),"g"),Bg=RegExp("["+Qe+Dt+Ea+S+"]"),Mg=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ug=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],jg=-1,Ie={};Ie[Wt]=Ie[Kt]=Ie[da]=Ie[Vt]=Ie[Ze]=Ie[Je]=Ie[yn]=Ie[mn]=Ie[Ia]=!0,Ie[Lt]=Ie[la]=Ie[kt]=Ie[jt]=Ie[Ke]=Ie[Ht]=Ie[ca]=Ie[ua]=Ie[Xe]=Ie[se]=Ie[ie]=Ie[Et]=Ie[Fe]=Ie[je]=Ie[ct]=!1;var Ae={};Ae[Lt]=Ae[la]=Ae[kt]=Ae[Ke]=Ae[jt]=Ae[Ht]=Ae[Wt]=Ae[Kt]=Ae[da]=Ae[Vt]=Ae[Ze]=Ae[Xe]=Ae[se]=Ae[ie]=Ae[Et]=Ae[Fe]=Ae[je]=Ae[Le]=Ae[Je]=Ae[yn]=Ae[mn]=Ae[Ia]=!0,Ae[ca]=Ae[ua]=Ae[ct]=!1;var Hg={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Gg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Wg={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Kg={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Vg=parseFloat,Yg=parseInt,Wc=typeof At=="object"&&At&&At.Object===Object&&At,Xg=typeof self=="object"&&self&&self.Object===Object&&self,He=Wc||Xg||Function("return this")(),qi=i&&!i.nodeType&&i,ka=qi&&!0&&a&&!a.nodeType&&a,Kc=ka&&ka.exports===qi,Bi=Kc&&Wc.process,yt=function(){try{var I=ka&&ka.require&&ka.require("util").types;return I||Bi&&Bi.binding&&Bi.binding("util")}catch{}}(),Vc=yt&&yt.isArrayBuffer,Yc=yt&&yt.isDate,Xc=yt&&yt.isMap,Zc=yt&&yt.isRegExp,Jc=yt&&yt.isSet,Qc=yt&&yt.isTypedArray;function ut(I,T,$){switch($.length){case 0:return I.call(T);case 1:return I.call(T,$[0]);case 2:return I.call(T,$[0],$[1]);case 3:return I.call(T,$[0],$[1],$[2])}return I.apply(T,$)}function Zg(I,T,$,H){for(var ne=-1,me=I==null?0:I.length;++ne<me;){var qe=I[ne];T(H,qe,$(qe),I)}return H}function mt(I,T){for(var $=-1,H=I==null?0:I.length;++$<H&&T(I[$],$,I)!==!1;);return I}function Jg(I,T){for(var $=I==null?0:I.length;$--&&T(I[$],$,I)!==!1;);return I}function eu(I,T){for(var $=-1,H=I==null?0:I.length;++$<H;)if(!T(I[$],$,I))return!1;return!0}function ga(I,T){for(var $=-1,H=I==null?0:I.length,ne=0,me=[];++$<H;){var qe=I[$];T(qe,$,I)&&(me[ne++]=qe)}return me}function dr(I,T){var $=I==null?0:I.length;return!!$&&Ya(I,T,0)>-1}function Mi(I,T,$){for(var H=-1,ne=I==null?0:I.length;++H<ne;)if($(T,I[H]))return!0;return!1}function ke(I,T){for(var $=-1,H=I==null?0:I.length,ne=Array(H);++$<H;)ne[$]=T(I[$],$,I);return ne}function _a(I,T){for(var $=-1,H=T.length,ne=I.length;++$<H;)I[ne+$]=T[$];return I}function Ui(I,T,$,H){var ne=-1,me=I==null?0:I.length;for(H&&me&&($=I[++ne]);++ne<me;)$=T($,I[ne],ne,I);return $}function Qg(I,T,$,H){var ne=I==null?0:I.length;for(H&&ne&&($=I[--ne]);ne--;)$=T($,I[ne],ne,I);return $}function ji(I,T){for(var $=-1,H=I==null?0:I.length;++$<H;)if(T(I[$],$,I))return!0;return!1}var e_=Hi("length");function t_(I){return I.split("")}function a_(I){return I.match(Si)||[]}function tu(I,T,$){var H;return $(I,function(ne,me,qe){if(T(ne,me,qe))return H=me,!1}),H}function hr(I,T,$,H){for(var ne=I.length,me=$+(H?1:-1);H?me--:++me<ne;)if(T(I[me],me,I))return me;return-1}function Ya(I,T,$){return T===T?f_(I,T,$):hr(I,au,$)}function n_(I,T,$,H){for(var ne=$-1,me=I.length;++ne<me;)if(H(I[ne],T))return ne;return-1}function au(I){return I!==I}function nu(I,T){var $=I==null?0:I.length;return $?Wi(I,T)/$:oa}function Hi(I){return function(T){return T==null?r:T[I]}}function Gi(I){return function(T){return I==null?r:I[T]}}function ru(I,T,$,H,ne){return ne(I,function(me,qe,Pe){$=H?(H=!1,me):T($,me,qe,Pe)}),$}function r_(I,T){var $=I.length;for(I.sort(T);$--;)I[$]=I[$].value;return I}function Wi(I,T){for(var $,H=-1,ne=I.length;++H<ne;){var me=T(I[H]);me!==r&&($=$===r?me:$+me)}return $}function Ki(I,T){for(var $=-1,H=Array(I);++$<I;)H[$]=T($);return H}function i_(I,T){return ke(T,function($){return[$,I[$]]})}function iu(I){return I&&I.slice(0,cu(I)+1).replace(vn,"")}function pt(I){return function(T){return I(T)}}function Vi(I,T){return ke(T,function($){return I[$]})}function Cn(I,T){return I.has(T)}function su(I,T){for(var $=-1,H=I.length;++$<H&&Ya(T,I[$],0)>-1;);return $}function ou(I,T){for(var $=I.length;$--&&Ya(T,I[$],0)>-1;);return $}function s_(I,T){for(var $=I.length,H=0;$--;)I[$]===T&&++H;return H}var o_=Gi(Hg),l_=Gi(Gg);function c_(I){return"\\"+Kg[I]}function u_(I,T){return I==null?r:I[T]}function Xa(I){return Bg.test(I)}function p_(I){return Mg.test(I)}function d_(I){for(var T,$=[];!(T=I.next()).done;)$.push(T.value);return $}function Yi(I){var T=-1,$=Array(I.size);return I.forEach(function(H,ne){$[++T]=[ne,H]}),$}function lu(I,T){return function($){return I(T($))}}function ya(I,T){for(var $=-1,H=I.length,ne=0,me=[];++$<H;){var qe=I[$];(qe===T||qe===y)&&(I[$]=y,me[ne++]=$)}return me}function fr(I){var T=-1,$=Array(I.size);return I.forEach(function(H){$[++T]=H}),$}function h_(I){var T=-1,$=Array(I.size);return I.forEach(function(H){$[++T]=[H,H]}),$}function f_(I,T,$){for(var H=$-1,ne=I.length;++H<ne;)if(I[H]===T)return H;return-1}function g_(I,T,$){for(var H=$+1;H--;)if(I[H]===T)return H;return H}function Za(I){return Xa(I)?y_(I):e_(I)}function Rt(I){return Xa(I)?m_(I):t_(I)}function cu(I){for(var T=I.length;T--&&rr.test(I.charAt(T)););return T}var __=Gi(Wg);function y_(I){for(var T=Fi.lastIndex=0;Fi.test(I);)++T;return T}function m_(I){return I.match(Fi)||[]}function w_(I){return I.match(qg)||[]}var v_=function I(T){T=T==null?He:Ja.defaults(He.Object(),T,Ja.pick(He,Ug));var $=T.Array,H=T.Date,ne=T.Error,me=T.Function,qe=T.Math,Pe=T.Object,Xi=T.RegExp,b_=T.String,wt=T.TypeError,gr=$.prototype,S_=me.prototype,Qa=Pe.prototype,_r=T["__core-js_shared__"],yr=S_.toString,Se=Qa.hasOwnProperty,C_=0,uu=function(){var e=/[^.]+$/.exec(_r&&_r.keys&&_r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),mr=Qa.toString,P_=yr.call(Pe),A_=He._,I_=Xi("^"+yr.call(Se).replace(wn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wr=Kc?T.Buffer:r,ma=T.Symbol,vr=T.Uint8Array,pu=wr?wr.allocUnsafe:r,br=lu(Pe.getPrototypeOf,Pe),du=Pe.create,hu=Qa.propertyIsEnumerable,Sr=gr.splice,fu=ma?ma.isConcatSpreadable:r,Pn=ma?ma.iterator:r,Ra=ma?ma.toStringTag:r,Cr=function(){try{var e=Oa(Pe,"defineProperty");return e({},"",{}),e}catch{}}(),E_=T.clearTimeout!==He.clearTimeout&&T.clearTimeout,k_=H&&H.now!==He.Date.now&&H.now,R_=T.setTimeout!==He.setTimeout&&T.setTimeout,Pr=qe.ceil,Ar=qe.floor,Zi=Pe.getOwnPropertySymbols,$_=wr?wr.isBuffer:r,gu=T.isFinite,T_=gr.join,x_=lu(Pe.keys,Pe),Be=qe.max,Ve=qe.min,L_=H.now,O_=T.parseInt,_u=qe.random,D_=gr.reverse,Ji=Oa(T,"DataView"),An=Oa(T,"Map"),Qi=Oa(T,"Promise"),en=Oa(T,"Set"),In=Oa(T,"WeakMap"),En=Oa(Pe,"create"),Ir=In&&new In,tn={},N_=Da(Ji),z_=Da(An),F_=Da(Qi),q_=Da(en),B_=Da(In),Er=ma?ma.prototype:r,kn=Er?Er.valueOf:r,yu=Er?Er.toString:r;function u(e){if(Oe(e)&&!re(e)&&!(e instanceof he)){if(e instanceof vt)return e;if(Se.call(e,"__wrapped__"))return mp(e)}return new vt(e)}var an=function(){function e(){}return function(t){if(!$e(t))return{};if(du)return du(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function kr(){}function vt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}u.templateSettings={escape:hi,evaluate:fi,interpolate:nr,variable:"",imports:{_:u}},u.prototype=kr.prototype,u.prototype.constructor=u,vt.prototype=an(kr.prototype),vt.prototype.constructor=vt;function he(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=xe,this.__views__=[]}function M_(){var e=new he(this.__wrapped__);return e.__actions__=it(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=it(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=it(this.__views__),e}function U_(){if(this.__filtered__){var e=new he(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function j_(){var e=this.__wrapped__.value(),t=this.__dir__,n=re(e),s=t<0,l=n?e.length:0,d=tm(0,l,this.__views__),m=d.start,C=d.end,E=C-m,L=s?C:m-1,O=this.__iteratees__,N=O.length,j=0,Y=Ve(E,this.__takeCount__);if(!n||!s&&l==E&&Y==E)return Mu(e,this.__actions__);var J=[];e:for(;E--&&j<Y;){L+=t;for(var ce=-1,Q=e[L];++ce<N;){var de=O[ce],ge=de.iteratee,ft=de.type,at=ge(Q);if(ft==sa)Q=at;else if(!at){if(ft==It)continue e;break e}}J[j++]=Q}return J}he.prototype=an(kr.prototype),he.prototype.constructor=he;function $a(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}function H_(){this.__data__=En?En(null):{},this.size=0}function G_(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function W_(e){var t=this.__data__;if(En){var n=t[e];return n===w?r:n}return Se.call(t,e)?t[e]:r}function K_(e){var t=this.__data__;return En?t[e]!==r:Se.call(t,e)}function V_(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=En&&t===r?w:t,this}$a.prototype.clear=H_,$a.prototype.delete=G_,$a.prototype.get=W_,$a.prototype.has=K_,$a.prototype.set=V_;function Yt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}function Y_(){this.__data__=[],this.size=0}function X_(e){var t=this.__data__,n=Rr(t,e);if(n<0)return!1;var s=t.length-1;return n==s?t.pop():Sr.call(t,n,1),--this.size,!0}function Z_(e){var t=this.__data__,n=Rr(t,e);return n<0?r:t[n][1]}function J_(e){return Rr(this.__data__,e)>-1}function Q_(e,t){var n=this.__data__,s=Rr(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}Yt.prototype.clear=Y_,Yt.prototype.delete=X_,Yt.prototype.get=Z_,Yt.prototype.has=J_,Yt.prototype.set=Q_;function Xt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}function ey(){this.size=0,this.__data__={hash:new $a,map:new(An||Yt),string:new $a}}function ty(e){var t=Mr(this,e).delete(e);return this.size-=t?1:0,t}function ay(e){return Mr(this,e).get(e)}function ny(e){return Mr(this,e).has(e)}function ry(e,t){var n=Mr(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}Xt.prototype.clear=ey,Xt.prototype.delete=ty,Xt.prototype.get=ay,Xt.prototype.has=ny,Xt.prototype.set=ry;function Ta(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Xt;++t<n;)this.add(e[t])}function iy(e){return this.__data__.set(e,w),this}function sy(e){return this.__data__.has(e)}Ta.prototype.add=Ta.prototype.push=iy,Ta.prototype.has=sy;function $t(e){var t=this.__data__=new Yt(e);this.size=t.size}function oy(){this.__data__=new Yt,this.size=0}function ly(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function cy(e){return this.__data__.get(e)}function uy(e){return this.__data__.has(e)}function py(e,t){var n=this.__data__;if(n instanceof Yt){var s=n.__data__;if(!An||s.length<c-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new Xt(s)}return n.set(e,t),this.size=n.size,this}$t.prototype.clear=oy,$t.prototype.delete=ly,$t.prototype.get=cy,$t.prototype.has=uy,$t.prototype.set=py;function mu(e,t){var n=re(e),s=!n&&Na(e),l=!n&&!s&&Ca(e),d=!n&&!s&&!l&&on(e),m=n||s||l||d,C=m?Ki(e.length,b_):[],E=C.length;for(var L in e)(t||Se.call(e,L))&&!(m&&(L=="length"||l&&(L=="offset"||L=="parent")||d&&(L=="buffer"||L=="byteLength"||L=="byteOffset")||ea(L,E)))&&C.push(L);return C}function wu(e){var t=e.length;return t?e[us(0,t-1)]:r}function dy(e,t){return Ur(it(e),xa(t,0,e.length))}function hy(e){return Ur(it(e))}function es(e,t,n){(n!==r&&!Tt(e[t],n)||n===r&&!(t in e))&&Zt(e,t,n)}function Rn(e,t,n){var s=e[t];(!(Se.call(e,t)&&Tt(s,n))||n===r&&!(t in e))&&Zt(e,t,n)}function Rr(e,t){for(var n=e.length;n--;)if(Tt(e[n][0],t))return n;return-1}function fy(e,t,n,s){return wa(e,function(l,d,m){t(s,l,n(l),m)}),s}function vu(e,t){return e&&zt(t,Me(t),e)}function gy(e,t){return e&&zt(t,ot(t),e)}function Zt(e,t,n){t=="__proto__"&&Cr?Cr(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ts(e,t){for(var n=-1,s=t.length,l=$(s),d=e==null;++n<s;)l[n]=d?r:Ds(e,t[n]);return l}function xa(e,t,n){return e===e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function bt(e,t,n,s,l,d){var m,C=t&v,E=t&R,L=t&F;if(n&&(m=l?n(e,s,l,d):n(e)),m!==r)return m;if(!$e(e))return e;var O=re(e);if(O){if(m=nm(e),!C)return it(e,m)}else{var N=Ye(e),j=N==ua||N==Ha;if(Ca(e))return Hu(e,C);if(N==ie||N==Lt||j&&!l){if(m=E||j?{}:cp(e),!C)return E?Wy(e,gy(m,e)):Gy(e,vu(m,e))}else{if(!Ae[N])return l?e:{};m=rm(e,N,C)}}d||(d=new $t);var Y=d.get(e);if(Y)return Y;d.set(e,m),Fp(e)?e.forEach(function(Q){m.add(bt(Q,t,n,Q,e,d))}):Np(e)&&e.forEach(function(Q,de){m.set(de,bt(Q,t,n,de,e,d))});var J=L?E?bs:vs:E?ot:Me,ce=O?r:J(e);return mt(ce||e,function(Q,de){ce&&(de=Q,Q=e[de]),Rn(m,de,bt(Q,t,n,de,e,d))}),m}function _y(e){var t=Me(e);return function(n){return bu(n,e,t)}}function bu(e,t,n){var s=n.length;if(e==null)return!s;for(e=Pe(e);s--;){var l=n[s],d=t[l],m=e[l];if(m===r&&!(l in e)||!d(m))return!1}return!0}function Su(e,t,n){if(typeof e!="function")throw new wt(_);return Nn(function(){e.apply(r,n)},t)}function $n(e,t,n,s){var l=-1,d=dr,m=!0,C=e.length,E=[],L=t.length;if(!C)return E;n&&(t=ke(t,pt(n))),s?(d=Mi,m=!1):t.length>=c&&(d=Cn,m=!1,t=new Ta(t));e:for(;++l<C;){var O=e[l],N=n==null?O:n(O);if(O=s||O!==0?O:0,m&&N===N){for(var j=L;j--;)if(t[j]===N)continue e;E.push(O)}else d(t,N,s)||E.push(O)}return E}var wa=Yu(Nt),Cu=Yu(ns,!0);function yy(e,t){var n=!0;return wa(e,function(s,l,d){return n=!!t(s,l,d),n}),n}function $r(e,t,n){for(var s=-1,l=e.length;++s<l;){var d=e[s],m=t(d);if(m!=null&&(C===r?m===m&&!ht(m):n(m,C)))var C=m,E=d}return E}function my(e,t,n,s){var l=e.length;for(n=oe(n),n<0&&(n=-n>l?0:l+n),s=s===r||s>l?l:oe(s),s<0&&(s+=l),s=n>s?0:Bp(s);n<s;)e[n++]=t;return e}function Pu(e,t){var n=[];return wa(e,function(s,l,d){t(s,l,d)&&n.push(s)}),n}function Ge(e,t,n,s,l){var d=-1,m=e.length;for(n||(n=sm),l||(l=[]);++d<m;){var C=e[d];t>0&&n(C)?t>1?Ge(C,t-1,n,s,l):_a(l,C):s||(l[l.length]=C)}return l}var as=Xu(),Au=Xu(!0);function Nt(e,t){return e&&as(e,t,Me)}function ns(e,t){return e&&Au(e,t,Me)}function Tr(e,t){return ga(t,function(n){return ta(e[n])})}function La(e,t){t=ba(t,e);for(var n=0,s=t.length;e!=null&&n<s;)e=e[Ft(t[n++])];return n&&n==s?e:r}function Iu(e,t,n){var s=t(e);return re(e)?s:_a(s,n(e))}function et(e){return e==null?e===r?Gt:pa:Ra&&Ra in Pe(e)?em(e):hm(e)}function rs(e,t){return e>t}function wy(e,t){return e!=null&&Se.call(e,t)}function vy(e,t){return e!=null&&t in Pe(e)}function by(e,t,n){return e>=Ve(t,n)&&e<Be(t,n)}function is(e,t,n){for(var s=n?Mi:dr,l=e[0].length,d=e.length,m=d,C=$(d),E=1/0,L=[];m--;){var O=e[m];m&&t&&(O=ke(O,pt(t))),E=Ve(O.length,E),C[m]=!n&&(t||l>=120&&O.length>=120)?new Ta(m&&O):r}O=e[0];var N=-1,j=C[0];e:for(;++N<l&&L.length<E;){var Y=O[N],J=t?t(Y):Y;if(Y=n||Y!==0?Y:0,!(j?Cn(j,J):s(L,J,n))){for(m=d;--m;){var ce=C[m];if(!(ce?Cn(ce,J):s(e[m],J,n)))continue e}j&&j.push(J),L.push(Y)}}return L}function Sy(e,t,n,s){return Nt(e,function(l,d,m){t(s,n(l),d,m)}),s}function Tn(e,t,n){t=ba(t,e),e=hp(e,t);var s=e==null?e:e[Ft(Ct(t))];return s==null?r:ut(s,e,n)}function Eu(e){return Oe(e)&&et(e)==Lt}function Cy(e){return Oe(e)&&et(e)==kt}function Py(e){return Oe(e)&&et(e)==Ht}function xn(e,t,n,s,l){return e===t?!0:e==null||t==null||!Oe(e)&&!Oe(t)?e!==e&&t!==t:Ay(e,t,n,s,xn,l)}function Ay(e,t,n,s,l,d){var m=re(e),C=re(t),E=m?la:Ye(e),L=C?la:Ye(t);E=E==Lt?ie:E,L=L==Lt?ie:L;var O=E==ie,N=L==ie,j=E==L;if(j&&Ca(e)){if(!Ca(t))return!1;m=!0,O=!1}if(j&&!O)return d||(d=new $t),m||on(e)?sp(e,t,n,s,l,d):Jy(e,t,E,n,s,l,d);if(!(n&K)){var Y=O&&Se.call(e,"__wrapped__"),J=N&&Se.call(t,"__wrapped__");if(Y||J){var ce=Y?e.value():e,Q=J?t.value():t;return d||(d=new $t),l(ce,Q,n,s,d)}}return j?(d||(d=new $t),Qy(e,t,n,s,l,d)):!1}function Iy(e){return Oe(e)&&Ye(e)==Xe}function ss(e,t,n,s){var l=n.length,d=l,m=!s;if(e==null)return!d;for(e=Pe(e);l--;){var C=n[l];if(m&&C[2]?C[1]!==e[C[0]]:!(C[0]in e))return!1}for(;++l<d;){C=n[l];var E=C[0],L=e[E],O=C[1];if(m&&C[2]){if(L===r&&!(E in e))return!1}else{var N=new $t;if(s)var j=s(L,O,E,e,t,N);if(!(j===r?xn(O,L,K|D,s,N):j))return!1}}return!0}function ku(e){if(!$e(e)||lm(e))return!1;var t=ta(e)?I_:ki;return t.test(Da(e))}function Ey(e){return Oe(e)&&et(e)==Et}function ky(e){return Oe(e)&&Ye(e)==Fe}function Ry(e){return Oe(e)&&Vr(e.length)&&!!Ie[et(e)]}function Ru(e){return typeof e=="function"?e:e==null?lt:typeof e=="object"?re(e)?xu(e[0],e[1]):Tu(e):Zp(e)}function os(e){if(!Dn(e))return x_(e);var t=[];for(var n in Pe(e))Se.call(e,n)&&n!="constructor"&&t.push(n);return t}function $y(e){if(!$e(e))return dm(e);var t=Dn(e),n=[];for(var s in e)s=="constructor"&&(t||!Se.call(e,s))||n.push(s);return n}function ls(e,t){return e<t}function $u(e,t){var n=-1,s=st(e)?$(e.length):[];return wa(e,function(l,d,m){s[++n]=t(l,d,m)}),s}function Tu(e){var t=Cs(e);return t.length==1&&t[0][2]?pp(t[0][0],t[0][1]):function(n){return n===e||ss(n,e,t)}}function xu(e,t){return As(e)&&up(t)?pp(Ft(e),t):function(n){var s=Ds(n,e);return s===r&&s===t?Ns(n,e):xn(t,s,K|D)}}function xr(e,t,n,s,l){e!==t&&as(t,function(d,m){if(l||(l=new $t),$e(d))Ty(e,t,m,n,xr,s,l);else{var C=s?s(Es(e,m),d,m+"",e,t,l):r;C===r&&(C=d),es(e,m,C)}},ot)}function Ty(e,t,n,s,l,d,m){var C=Es(e,n),E=Es(t,n),L=m.get(E);if(L){es(e,n,L);return}var O=d?d(C,E,n+"",e,t,m):r,N=O===r;if(N){var j=re(E),Y=!j&&Ca(E),J=!j&&!Y&&on(E);O=E,j||Y||J?re(C)?O=C:Ne(C)?O=it(C):Y?(N=!1,O=Hu(E,!0)):J?(N=!1,O=Gu(E,!0)):O=[]:zn(E)||Na(E)?(O=C,Na(C)?O=Mp(C):(!$e(C)||ta(C))&&(O=cp(E))):N=!1}N&&(m.set(E,O),l(O,E,s,d,m),m.delete(E)),es(e,n,O)}function Lu(e,t){var n=e.length;if(n)return t+=t<0?n:0,ea(t,n)?e[t]:r}function Ou(e,t,n){t.length?t=ke(t,function(d){return re(d)?function(m){return La(m,d.length===1?d[0]:d)}:d}):t=[lt];var s=-1;t=ke(t,pt(Z()));var l=$u(e,function(d,m,C){var E=ke(t,function(L){return L(d)});return{criteria:E,index:++s,value:d}});return r_(l,function(d,m){return Hy(d,m,n)})}function xy(e,t){return Du(e,t,function(n,s){return Ns(e,s)})}function Du(e,t,n){for(var s=-1,l=t.length,d={};++s<l;){var m=t[s],C=La(e,m);n(C,m)&&Ln(d,ba(m,e),C)}return d}function Ly(e){return function(t){return La(t,e)}}function cs(e,t,n,s){var l=s?n_:Ya,d=-1,m=t.length,C=e;for(e===t&&(t=it(t)),n&&(C=ke(e,pt(n)));++d<m;)for(var E=0,L=t[d],O=n?n(L):L;(E=l(C,O,E,s))>-1;)C!==e&&Sr.call(C,E,1),Sr.call(e,E,1);return e}function Nu(e,t){for(var n=e?t.length:0,s=n-1;n--;){var l=t[n];if(n==s||l!==d){var d=l;ea(l)?Sr.call(e,l,1):hs(e,l)}}return e}function us(e,t){return e+Ar(_u()*(t-e+1))}function Oy(e,t,n,s){for(var l=-1,d=Be(Pr((t-e)/(n||1)),0),m=$(d);d--;)m[s?d:++l]=e,e+=n;return m}function ps(e,t){var n="";if(!e||t<1||t>nt)return n;do t%2&&(n+=e),t=Ar(t/2),t&&(e+=e);while(t);return n}function pe(e,t){return ks(dp(e,t,lt),e+"")}function Dy(e){return wu(ln(e))}function Ny(e,t){var n=ln(e);return Ur(n,xa(t,0,n.length))}function Ln(e,t,n,s){if(!$e(e))return e;t=ba(t,e);for(var l=-1,d=t.length,m=d-1,C=e;C!=null&&++l<d;){var E=Ft(t[l]),L=n;if(E==="__proto__"||E==="constructor"||E==="prototype")return e;if(l!=m){var O=C[E];L=s?s(O,E,C):r,L===r&&(L=$e(O)?O:ea(t[l+1])?[]:{})}Rn(C,E,L),C=C[E]}return e}var zu=Ir?function(e,t){return Ir.set(e,t),e}:lt,zy=Cr?function(e,t){return Cr(e,"toString",{configurable:!0,enumerable:!1,value:Fs(t),writable:!0})}:lt;function Fy(e){return Ur(ln(e))}function St(e,t,n){var s=-1,l=e.length;t<0&&(t=-t>l?0:l+t),n=n>l?l:n,n<0&&(n+=l),l=t>n?0:n-t>>>0,t>>>=0;for(var d=$(l);++s<l;)d[s]=e[s+t];return d}function qy(e,t){var n;return wa(e,function(s,l,d){return n=t(s,l,d),!n}),!!n}function Lr(e,t,n){var s=0,l=e==null?s:e.length;if(typeof t=="number"&&t===t&&l<=hn){for(;s<l;){var d=s+l>>>1,m=e[d];m!==null&&!ht(m)&&(n?m<=t:m<t)?s=d+1:l=d}return l}return ds(e,t,lt,n)}function ds(e,t,n,s){var l=0,d=e==null?0:e.length;if(d===0)return 0;t=n(t);for(var m=t!==t,C=t===null,E=ht(t),L=t===r;l<d;){var O=Ar((l+d)/2),N=n(e[O]),j=N!==r,Y=N===null,J=N===N,ce=ht(N);if(m)var Q=s||J;else L?Q=J&&(s||j):C?Q=J&&j&&(s||!Y):E?Q=J&&j&&!Y&&(s||!ce):Y||ce?Q=!1:Q=s?N<=t:N<t;Q?l=O+1:d=O}return Ve(d,ja)}function Fu(e,t){for(var n=-1,s=e.length,l=0,d=[];++n<s;){var m=e[n],C=t?t(m):m;if(!n||!Tt(C,E)){var E=C;d[l++]=m===0?0:m}}return d}function qu(e){return typeof e=="number"?e:ht(e)?oa:+e}function dt(e){if(typeof e=="string")return e;if(re(e))return ke(e,dt)+"";if(ht(e))return yu?yu.call(e):"";var t=e+"";return t=="0"&&1/e==-We?"-0":t}function va(e,t,n){var s=-1,l=dr,d=e.length,m=!0,C=[],E=C;if(n)m=!1,l=Mi;else if(d>=c){var L=t?null:Xy(e);if(L)return fr(L);m=!1,l=Cn,E=new Ta}else E=t?[]:C;e:for(;++s<d;){var O=e[s],N=t?t(O):O;if(O=n||O!==0?O:0,m&&N===N){for(var j=E.length;j--;)if(E[j]===N)continue e;t&&E.push(N),C.push(O)}else l(E,N,n)||(E!==C&&E.push(N),C.push(O))}return C}function hs(e,t){return t=ba(t,e),e=hp(e,t),e==null||delete e[Ft(Ct(t))]}function Bu(e,t,n,s){return Ln(e,t,n(La(e,t)),s)}function Or(e,t,n,s){for(var l=e.length,d=s?l:-1;(s?d--:++d<l)&&t(e[d],d,e););return n?St(e,s?0:d,s?d+1:l):St(e,s?d+1:0,s?l:d)}function Mu(e,t){var n=e;return n instanceof he&&(n=n.value()),Ui(t,function(s,l){return l.func.apply(l.thisArg,_a([s],l.args))},n)}function fs(e,t,n){var s=e.length;if(s<2)return s?va(e[0]):[];for(var l=-1,d=$(s);++l<s;)for(var m=e[l],C=-1;++C<s;)C!=l&&(d[l]=$n(d[l]||m,e[C],t,n));return va(Ge(d,1),t,n)}function Uu(e,t,n){for(var s=-1,l=e.length,d=t.length,m={};++s<l;){var C=s<d?t[s]:r;n(m,e[s],C)}return m}function gs(e){return Ne(e)?e:[]}function _s(e){return typeof e=="function"?e:lt}function ba(e,t){return re(e)?e:As(e,t)?[e]:yp(ve(e))}var By=pe;function Sa(e,t,n){var s=e.length;return n=n===r?s:n,!t&&n>=s?e:St(e,t,n)}var ju=E_||function(e){return He.clearTimeout(e)};function Hu(e,t){if(t)return e.slice();var n=e.length,s=pu?pu(n):new e.constructor(n);return e.copy(s),s}function ys(e){var t=new e.constructor(e.byteLength);return new vr(t).set(new vr(e)),t}function My(e,t){var n=t?ys(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Uy(e){var t=new e.constructor(e.source,ir.exec(e));return t.lastIndex=e.lastIndex,t}function jy(e){return kn?Pe(kn.call(e)):{}}function Gu(e,t){var n=t?ys(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Wu(e,t){if(e!==t){var n=e!==r,s=e===null,l=e===e,d=ht(e),m=t!==r,C=t===null,E=t===t,L=ht(t);if(!C&&!L&&!d&&e>t||d&&m&&E&&!C&&!L||s&&m&&E||!n&&E||!l)return 1;if(!s&&!d&&!L&&e<t||L&&n&&l&&!s&&!d||C&&n&&l||!m&&l||!E)return-1}return 0}function Hy(e,t,n){for(var s=-1,l=e.criteria,d=t.criteria,m=l.length,C=n.length;++s<m;){var E=Wu(l[s],d[s]);if(E){if(s>=C)return E;var L=n[s];return E*(L=="desc"?-1:1)}}return e.index-t.index}function Ku(e,t,n,s){for(var l=-1,d=e.length,m=n.length,C=-1,E=t.length,L=Be(d-m,0),O=$(E+L),N=!s;++C<E;)O[C]=t[C];for(;++l<m;)(N||l<d)&&(O[n[l]]=e[l]);for(;L--;)O[C++]=e[l++];return O}function Vu(e,t,n,s){for(var l=-1,d=e.length,m=-1,C=n.length,E=-1,L=t.length,O=Be(d-C,0),N=$(O+L),j=!s;++l<O;)N[l]=e[l];for(var Y=l;++E<L;)N[Y+E]=t[E];for(;++m<C;)(j||l<d)&&(N[Y+n[m]]=e[l++]);return N}function it(e,t){var n=-1,s=e.length;for(t||(t=$(s));++n<s;)t[n]=e[n];return t}function zt(e,t,n,s){var l=!n;n||(n={});for(var d=-1,m=t.length;++d<m;){var C=t[d],E=s?s(n[C],e[C],C,n,e):r;E===r&&(E=e[C]),l?Zt(n,C,E):Rn(n,C,E)}return n}function Gy(e,t){return zt(e,Ps(e),t)}function Wy(e,t){return zt(e,op(e),t)}function Dr(e,t){return function(n,s){var l=re(n)?Zg:fy,d=t?t():{};return l(n,e,Z(s,2),d)}}function nn(e){return pe(function(t,n){var s=-1,l=n.length,d=l>1?n[l-1]:r,m=l>2?n[2]:r;for(d=e.length>3&&typeof d=="function"?(l--,d):r,m&&tt(n[0],n[1],m)&&(d=l<3?r:d,l=1),t=Pe(t);++s<l;){var C=n[s];C&&e(t,C,s,d)}return t})}function Yu(e,t){return function(n,s){if(n==null)return n;if(!st(n))return e(n,s);for(var l=n.length,d=t?l:-1,m=Pe(n);(t?d--:++d<l)&&s(m[d],d,m)!==!1;);return n}}function Xu(e){return function(t,n,s){for(var l=-1,d=Pe(t),m=s(t),C=m.length;C--;){var E=m[e?C:++l];if(n(d[E],E,d)===!1)break}return t}}function Ky(e,t,n){var s=t&G,l=On(e);function d(){var m=this&&this!==He&&this instanceof d?l:e;return m.apply(s?n:this,arguments)}return d}function Zu(e){return function(t){t=ve(t);var n=Xa(t)?Rt(t):r,s=n?n[0]:t.charAt(0),l=n?Sa(n,1).join(""):t.slice(1);return s[e]()+l}}function rn(e){return function(t){return Ui(Yp(Vp(t).replace(zg,"")),e,"")}}function On(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=an(e.prototype),s=e.apply(n,t);return $e(s)?s:n}}function Vy(e,t,n){var s=On(e);function l(){for(var d=arguments.length,m=$(d),C=d,E=sn(l);C--;)m[C]=arguments[C];var L=d<3&&m[0]!==E&&m[d-1]!==E?[]:ya(m,E);if(d-=L.length,d<n)return ap(e,t,Nr,l.placeholder,r,m,L,r,r,n-d);var O=this&&this!==He&&this instanceof l?s:e;return ut(O,this,m)}return l}function Ju(e){return function(t,n,s){var l=Pe(t);if(!st(t)){var d=Z(n,3);t=Me(t),n=function(C){return d(l[C],C,l)}}var m=e(t,n,s);return m>-1?l[d?t[m]:m]:r}}function Qu(e){return Qt(function(t){var n=t.length,s=n,l=vt.prototype.thru;for(e&&t.reverse();s--;){var d=t[s];if(typeof d!="function")throw new wt(_);if(l&&!m&&Br(d)=="wrapper")var m=new vt([],!0)}for(s=m?s:n;++s<n;){d=t[s];var C=Br(d),E=C=="wrapper"?Ss(d):r;E&&Is(E[0])&&E[1]==(X|we|M|ue)&&!E[4].length&&E[9]==1?m=m[Br(E[0])].apply(m,E[3]):m=d.length==1&&Is(d)?m[C]():m.thru(d)}return function(){var L=arguments,O=L[0];if(m&&L.length==1&&re(O))return m.plant(O).value();for(var N=0,j=n?t[N].apply(this,L):O;++N<n;)j=t[N].call(this,j);return j}})}function Nr(e,t,n,s,l,d,m,C,E,L){var O=t&X,N=t&G,j=t&ae,Y=t&(we|be),J=t&fe,ce=j?r:On(e);function Q(){for(var de=arguments.length,ge=$(de),ft=de;ft--;)ge[ft]=arguments[ft];if(Y)var at=sn(Q),gt=s_(ge,at);if(s&&(ge=Ku(ge,s,l,Y)),d&&(ge=Vu(ge,d,m,Y)),de-=gt,Y&&de<L){var ze=ya(ge,at);return ap(e,t,Nr,Q.placeholder,n,ge,ze,C,E,L-de)}var xt=N?n:this,na=j?xt[e]:e;return de=ge.length,C?ge=fm(ge,C):J&&de>1&&ge.reverse(),O&&E<de&&(ge.length=E),this&&this!==He&&this instanceof Q&&(na=ce||On(na)),na.apply(xt,ge)}return Q}function ep(e,t){return function(n,s){return Sy(n,e,t(s),{})}}function zr(e,t){return function(n,s){var l;if(n===r&&s===r)return t;if(n!==r&&(l=n),s!==r){if(l===r)return s;typeof n=="string"||typeof s=="string"?(n=dt(n),s=dt(s)):(n=qu(n),s=qu(s)),l=e(n,s)}return l}}function ms(e){return Qt(function(t){return t=ke(t,pt(Z())),pe(function(n){var s=this;return e(t,function(l){return ut(l,s,n)})})})}function Fr(e,t){t=t===r?" ":dt(t);var n=t.length;if(n<2)return n?ps(t,e):t;var s=ps(t,Pr(e/Za(t)));return Xa(t)?Sa(Rt(s),0,e).join(""):s.slice(0,e)}function Yy(e,t,n,s){var l=t&G,d=On(e);function m(){for(var C=-1,E=arguments.length,L=-1,O=s.length,N=$(O+E),j=this&&this!==He&&this instanceof m?d:e;++L<O;)N[L]=s[L];for(;E--;)N[L++]=arguments[++C];return ut(j,l?n:this,N)}return m}function tp(e){return function(t,n,s){return s&&typeof s!="number"&&tt(t,n,s)&&(n=s=r),t=aa(t),n===r?(n=t,t=0):n=aa(n),s=s===r?t<n?1:-1:aa(s),Oy(t,n,s,e)}}function qr(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=Pt(t),n=Pt(n)),e(t,n)}}function ap(e,t,n,s,l,d,m,C,E,L){var O=t&we,N=O?m:r,j=O?r:m,Y=O?d:r,J=O?r:d;t|=O?M:ee,t&=~(O?ee:M),t&V||(t&=-4);var ce=[e,t,l,Y,N,J,j,C,E,L],Q=n.apply(r,ce);return Is(e)&&fp(Q,ce),Q.placeholder=s,gp(Q,e,t)}function ws(e){var t=qe[e];return function(n,s){if(n=Pt(n),s=s==null?0:Ve(oe(s),292),s&&gu(n)){var l=(ve(n)+"e").split("e"),d=t(l[0]+"e"+(+l[1]+s));return l=(ve(d)+"e").split("e"),+(l[0]+"e"+(+l[1]-s))}return t(n)}}var Xy=en&&1/fr(new en([,-0]))[1]==We?function(e){return new en(e)}:Ms;function np(e){return function(t){var n=Ye(t);return n==Xe?Yi(t):n==Fe?h_(t):i_(t,e(t))}}function Jt(e,t,n,s,l,d,m,C){var E=t&ae;if(!E&&typeof e!="function")throw new wt(_);var L=s?s.length:0;if(L||(t&=-97,s=l=r),m=m===r?m:Be(oe(m),0),C=C===r?C:oe(C),L-=l?l.length:0,t&ee){var O=s,N=l;s=l=r}var j=E?r:Ss(e),Y=[e,t,n,s,l,O,N,d,m,C];if(j&&pm(Y,j),e=Y[0],t=Y[1],n=Y[2],s=Y[3],l=Y[4],C=Y[9]=Y[9]===r?E?0:e.length:Be(Y[9]-L,0),!C&&t&(we|be)&&(t&=-25),!t||t==G)var J=Ky(e,t,n);else t==we||t==be?J=Vy(e,t,C):(t==M||t==(G|M))&&!l.length?J=Yy(e,t,n,s):J=Nr.apply(r,Y);var ce=j?zu:fp;return gp(ce(J,Y),e,t)}function rp(e,t,n,s){return e===r||Tt(e,Qa[n])&&!Se.call(s,n)?t:e}function ip(e,t,n,s,l,d){return $e(e)&&$e(t)&&(d.set(t,e),xr(e,t,r,ip,d),d.delete(t)),e}function Zy(e){return zn(e)?r:e}function sp(e,t,n,s,l,d){var m=n&K,C=e.length,E=t.length;if(C!=E&&!(m&&E>C))return!1;var L=d.get(e),O=d.get(t);if(L&&O)return L==t&&O==e;var N=-1,j=!0,Y=n&D?new Ta:r;for(d.set(e,t),d.set(t,e);++N<C;){var J=e[N],ce=t[N];if(s)var Q=m?s(ce,J,N,t,e,d):s(J,ce,N,e,t,d);if(Q!==r){if(Q)continue;j=!1;break}if(Y){if(!ji(t,function(de,ge){if(!Cn(Y,ge)&&(J===de||l(J,de,n,s,d)))return Y.push(ge)})){j=!1;break}}else if(!(J===ce||l(J,ce,n,s,d))){j=!1;break}}return d.delete(e),d.delete(t),j}function Jy(e,t,n,s,l,d,m){switch(n){case Ke:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case kt:return!(e.byteLength!=t.byteLength||!d(new vr(e),new vr(t)));case jt:case Ht:case se:return Tt(+e,+t);case ca:return e.name==t.name&&e.message==t.message;case Et:case je:return e==t+"";case Xe:var C=Yi;case Fe:var E=s&K;if(C||(C=fr),e.size!=t.size&&!E)return!1;var L=m.get(e);if(L)return L==t;s|=D,m.set(e,t);var O=sp(C(e),C(t),s,l,d,m);return m.delete(e),O;case Le:if(kn)return kn.call(e)==kn.call(t)}return!1}function Qy(e,t,n,s,l,d){var m=n&K,C=vs(e),E=C.length,L=vs(t),O=L.length;if(E!=O&&!m)return!1;for(var N=E;N--;){var j=C[N];if(!(m?j in t:Se.call(t,j)))return!1}var Y=d.get(e),J=d.get(t);if(Y&&J)return Y==t&&J==e;var ce=!0;d.set(e,t),d.set(t,e);for(var Q=m;++N<E;){j=C[N];var de=e[j],ge=t[j];if(s)var ft=m?s(ge,de,j,t,e,d):s(de,ge,j,e,t,d);if(!(ft===r?de===ge||l(de,ge,n,s,d):ft)){ce=!1;break}Q||(Q=j=="constructor")}if(ce&&!Q){var at=e.constructor,gt=t.constructor;at!=gt&&"constructor"in e&&"constructor"in t&&!(typeof at=="function"&&at instanceof at&&typeof gt=="function"&&gt instanceof gt)&&(ce=!1)}return d.delete(e),d.delete(t),ce}function Qt(e){return ks(dp(e,r,bp),e+"")}function vs(e){return Iu(e,Me,Ps)}function bs(e){return Iu(e,ot,op)}var Ss=Ir?function(e){return Ir.get(e)}:Ms;function Br(e){for(var t=e.name+"",n=tn[t],s=Se.call(tn,t)?n.length:0;s--;){var l=n[s],d=l.func;if(d==null||d==e)return l.name}return t}function sn(e){var t=Se.call(u,"placeholder")?u:e;return t.placeholder}function Z(){var e=u.iteratee||qs;return e=e===qs?Ru:e,arguments.length?e(arguments[0],arguments[1]):e}function Mr(e,t){var n=e.__data__;return om(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Cs(e){for(var t=Me(e),n=t.length;n--;){var s=t[n],l=e[s];t[n]=[s,l,up(l)]}return t}function Oa(e,t){var n=u_(e,t);return ku(n)?n:r}function em(e){var t=Se.call(e,Ra),n=e[Ra];try{e[Ra]=r;var s=!0}catch{}var l=mr.call(e);return s&&(t?e[Ra]=n:delete e[Ra]),l}var Ps=Zi?function(e){return e==null?[]:(e=Pe(e),ga(Zi(e),function(t){return hu.call(e,t)}))}:Us,op=Zi?function(e){for(var t=[];e;)_a(t,Ps(e)),e=br(e);return t}:Us,Ye=et;(Ji&&Ye(new Ji(new ArrayBuffer(1)))!=Ke||An&&Ye(new An)!=Xe||Qi&&Ye(Qi.resolve())!=rt||en&&Ye(new en)!=Fe||In&&Ye(new In)!=ct)&&(Ye=function(e){var t=et(e),n=t==ie?e.constructor:r,s=n?Da(n):"";if(s)switch(s){case N_:return Ke;case z_:return Xe;case F_:return rt;case q_:return Fe;case B_:return ct}return t});function tm(e,t,n){for(var s=-1,l=n.length;++s<l;){var d=n[s],m=d.size;switch(d.type){case"drop":e+=m;break;case"dropRight":t-=m;break;case"take":t=Ve(t,e+m);break;case"takeRight":e=Be(e,t-m);break}}return{start:e,end:t}}function am(e){var t=e.match(vi);return t?t[1].split(bi):[]}function lp(e,t,n){t=ba(t,e);for(var s=-1,l=t.length,d=!1;++s<l;){var m=Ft(t[s]);if(!(d=e!=null&&n(e,m)))break;e=e[m]}return d||++s!=l?d:(l=e==null?0:e.length,!!l&&Vr(l)&&ea(m,l)&&(re(e)||Na(e)))}function nm(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Se.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function cp(e){return typeof e.constructor=="function"&&!Dn(e)?an(br(e)):{}}function rm(e,t,n){var s=e.constructor;switch(t){case kt:return ys(e);case jt:case Ht:return new s(+e);case Ke:return My(e,n);case Wt:case Kt:case da:case Vt:case Ze:case Je:case yn:case mn:case Ia:return Gu(e,n);case Xe:return new s;case se:case je:return new s(e);case Et:return Uy(e);case Fe:return new s;case Le:return jy(e)}}function im(e,t){var n=t.length;if(!n)return e;var s=n-1;return t[s]=(n>1?"& ":"")+t[s],t=t.join(n>2?", ":" "),e.replace(wi,`{
/* [wrapped with `+t+`] */
`)}function sm(e){return re(e)||Na(e)||!!(fu&&e&&e[fu])}function ea(e,t){var n=typeof e;return t=t??nt,!!t&&(n=="number"||n!="symbol"&&$i.test(e))&&e>-1&&e%1==0&&e<t}function tt(e,t,n){if(!$e(n))return!1;var s=typeof t;return(s=="number"?st(n)&&ea(t,n.length):s=="string"&&t in n)?Tt(n[t],e):!1}function As(e,t){if(re(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||ht(e)?!0:_i.test(e)||!gi.test(e)||t!=null&&e in Pe(t)}function om(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Is(e){var t=Br(e),n=u[t];if(typeof n!="function"||!(t in he.prototype))return!1;if(e===n)return!0;var s=Ss(n);return!!s&&e===s[0]}function lm(e){return!!uu&&uu in e}var cm=_r?ta:js;function Dn(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Qa;return e===n}function up(e){return e===e&&!$e(e)}function pp(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==r||e in Pe(n))}}function um(e){var t=Wr(e,function(s){return n.size===b&&n.clear(),s}),n=t.cache;return t}function pm(e,t){var n=e[1],s=t[1],l=n|s,d=l<(G|ae|X),m=s==X&&n==we||s==X&&n==ue&&e[7].length<=t[8]||s==(X|ue)&&t[7].length<=t[8]&&n==we;if(!(d||m))return e;s&G&&(e[2]=t[2],l|=n&G?0:V);var C=t[3];if(C){var E=e[3];e[3]=E?Ku(E,C,t[4]):C,e[4]=E?ya(e[3],y):t[4]}return C=t[5],C&&(E=e[5],e[5]=E?Vu(E,C,t[6]):C,e[6]=E?ya(e[5],y):t[6]),C=t[7],C&&(e[7]=C),s&X&&(e[8]=e[8]==null?t[8]:Ve(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=l,e}function dm(e){var t=[];if(e!=null)for(var n in Pe(e))t.push(n);return t}function hm(e){return mr.call(e)}function dp(e,t,n){return t=Be(t===r?e.length-1:t,0),function(){for(var s=arguments,l=-1,d=Be(s.length-t,0),m=$(d);++l<d;)m[l]=s[t+l];l=-1;for(var C=$(t+1);++l<t;)C[l]=s[l];return C[t]=n(m),ut(e,this,C)}}function hp(e,t){return t.length<2?e:La(e,St(t,0,-1))}function fm(e,t){for(var n=e.length,s=Ve(t.length,n),l=it(e);s--;){var d=t[s];e[s]=ea(d,n)?l[d]:r}return e}function Es(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var fp=_p(zu),Nn=R_||function(e,t){return He.setTimeout(e,t)},ks=_p(zy);function gp(e,t,n){var s=t+"";return ks(e,im(s,gm(am(s),n)))}function _p(e){var t=0,n=0;return function(){var s=L_(),l=Ue-(s-n);if(n=s,l>0){if(++t>=Re)return arguments[0]}else t=0;return e.apply(r,arguments)}}function Ur(e,t){var n=-1,s=e.length,l=s-1;for(t=t===r?s:t;++n<t;){var d=us(n,l),m=e[d];e[d]=e[n],e[n]=m}return e.length=t,e}var yp=um(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(yi,function(n,s,l,d){t.push(l?d.replace(Pi,"$1"):s||n)}),t});function Ft(e){if(typeof e=="string"||ht(e))return e;var t=e+"";return t=="0"&&1/e==-We?"-0":t}function Da(e){if(e!=null){try{return yr.call(e)}catch{}try{return e+""}catch{}}return""}function gm(e,t){return mt(fn,function(n){var s="_."+n[0];t&n[1]&&!dr(e,s)&&e.push(s)}),e.sort()}function mp(e){if(e instanceof he)return e.clone();var t=new vt(e.__wrapped__,e.__chain__);return t.__actions__=it(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function _m(e,t,n){(n?tt(e,t,n):t===r)?t=1:t=Be(oe(t),0);var s=e==null?0:e.length;if(!s||t<1)return[];for(var l=0,d=0,m=$(Pr(s/t));l<s;)m[d++]=St(e,l,l+=t);return m}function ym(e){for(var t=-1,n=e==null?0:e.length,s=0,l=[];++t<n;){var d=e[t];d&&(l[s++]=d)}return l}function mm(){var e=arguments.length;if(!e)return[];for(var t=$(e-1),n=arguments[0],s=e;s--;)t[s-1]=arguments[s];return _a(re(n)?it(n):[n],Ge(t,1))}var wm=pe(function(e,t){return Ne(e)?$n(e,Ge(t,1,Ne,!0)):[]}),vm=pe(function(e,t){var n=Ct(t);return Ne(n)&&(n=r),Ne(e)?$n(e,Ge(t,1,Ne,!0),Z(n,2)):[]}),bm=pe(function(e,t){var n=Ct(t);return Ne(n)&&(n=r),Ne(e)?$n(e,Ge(t,1,Ne,!0),r,n):[]});function Sm(e,t,n){var s=e==null?0:e.length;return s?(t=n||t===r?1:oe(t),St(e,t<0?0:t,s)):[]}function Cm(e,t,n){var s=e==null?0:e.length;return s?(t=n||t===r?1:oe(t),t=s-t,St(e,0,t<0?0:t)):[]}function Pm(e,t){return e&&e.length?Or(e,Z(t,3),!0,!0):[]}function Am(e,t){return e&&e.length?Or(e,Z(t,3),!0):[]}function Im(e,t,n,s){var l=e==null?0:e.length;return l?(n&&typeof n!="number"&&tt(e,t,n)&&(n=0,s=l),my(e,t,n,s)):[]}function wp(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var l=n==null?0:oe(n);return l<0&&(l=Be(s+l,0)),hr(e,Z(t,3),l)}function vp(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var l=s-1;return n!==r&&(l=oe(n),l=n<0?Be(s+l,0):Ve(l,s-1)),hr(e,Z(t,3),l,!0)}function bp(e){var t=e==null?0:e.length;return t?Ge(e,1):[]}function Em(e){var t=e==null?0:e.length;return t?Ge(e,We):[]}function km(e,t){var n=e==null?0:e.length;return n?(t=t===r?1:oe(t),Ge(e,t)):[]}function Rm(e){for(var t=-1,n=e==null?0:e.length,s={};++t<n;){var l=e[t];s[l[0]]=l[1]}return s}function Sp(e){return e&&e.length?e[0]:r}function $m(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var l=n==null?0:oe(n);return l<0&&(l=Be(s+l,0)),Ya(e,t,l)}function Tm(e){var t=e==null?0:e.length;return t?St(e,0,-1):[]}var xm=pe(function(e){var t=ke(e,gs);return t.length&&t[0]===e[0]?is(t):[]}),Lm=pe(function(e){var t=Ct(e),n=ke(e,gs);return t===Ct(n)?t=r:n.pop(),n.length&&n[0]===e[0]?is(n,Z(t,2)):[]}),Om=pe(function(e){var t=Ct(e),n=ke(e,gs);return t=typeof t=="function"?t:r,t&&n.pop(),n.length&&n[0]===e[0]?is(n,r,t):[]});function Dm(e,t){return e==null?"":T_.call(e,t)}function Ct(e){var t=e==null?0:e.length;return t?e[t-1]:r}function Nm(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var l=s;return n!==r&&(l=oe(n),l=l<0?Be(s+l,0):Ve(l,s-1)),t===t?g_(e,t,l):hr(e,au,l,!0)}function zm(e,t){return e&&e.length?Lu(e,oe(t)):r}var Fm=pe(Cp);function Cp(e,t){return e&&e.length&&t&&t.length?cs(e,t):e}function qm(e,t,n){return e&&e.length&&t&&t.length?cs(e,t,Z(n,2)):e}function Bm(e,t,n){return e&&e.length&&t&&t.length?cs(e,t,r,n):e}var Mm=Qt(function(e,t){var n=e==null?0:e.length,s=ts(e,t);return Nu(e,ke(t,function(l){return ea(l,n)?+l:l}).sort(Wu)),s});function Um(e,t){var n=[];if(!(e&&e.length))return n;var s=-1,l=[],d=e.length;for(t=Z(t,3);++s<d;){var m=e[s];t(m,s,e)&&(n.push(m),l.push(s))}return Nu(e,l),n}function Rs(e){return e==null?e:D_.call(e)}function jm(e,t,n){var s=e==null?0:e.length;return s?(n&&typeof n!="number"&&tt(e,t,n)?(t=0,n=s):(t=t==null?0:oe(t),n=n===r?s:oe(n)),St(e,t,n)):[]}function Hm(e,t){return Lr(e,t)}function Gm(e,t,n){return ds(e,t,Z(n,2))}function Wm(e,t){var n=e==null?0:e.length;if(n){var s=Lr(e,t);if(s<n&&Tt(e[s],t))return s}return-1}function Km(e,t){return Lr(e,t,!0)}function Vm(e,t,n){return ds(e,t,Z(n,2),!0)}function Ym(e,t){var n=e==null?0:e.length;if(n){var s=Lr(e,t,!0)-1;if(Tt(e[s],t))return s}return-1}function Xm(e){return e&&e.length?Fu(e):[]}function Zm(e,t){return e&&e.length?Fu(e,Z(t,2)):[]}function Jm(e){var t=e==null?0:e.length;return t?St(e,1,t):[]}function Qm(e,t,n){return e&&e.length?(t=n||t===r?1:oe(t),St(e,0,t<0?0:t)):[]}function ew(e,t,n){var s=e==null?0:e.length;return s?(t=n||t===r?1:oe(t),t=s-t,St(e,t<0?0:t,s)):[]}function tw(e,t){return e&&e.length?Or(e,Z(t,3),!1,!0):[]}function aw(e,t){return e&&e.length?Or(e,Z(t,3)):[]}var nw=pe(function(e){return va(Ge(e,1,Ne,!0))}),rw=pe(function(e){var t=Ct(e);return Ne(t)&&(t=r),va(Ge(e,1,Ne,!0),Z(t,2))}),iw=pe(function(e){var t=Ct(e);return t=typeof t=="function"?t:r,va(Ge(e,1,Ne,!0),r,t)});function sw(e){return e&&e.length?va(e):[]}function ow(e,t){return e&&e.length?va(e,Z(t,2)):[]}function lw(e,t){return t=typeof t=="function"?t:r,e&&e.length?va(e,r,t):[]}function $s(e){if(!(e&&e.length))return[];var t=0;return e=ga(e,function(n){if(Ne(n))return t=Be(n.length,t),!0}),Ki(t,function(n){return ke(e,Hi(n))})}function Pp(e,t){if(!(e&&e.length))return[];var n=$s(e);return t==null?n:ke(n,function(s){return ut(t,r,s)})}var cw=pe(function(e,t){return Ne(e)?$n(e,t):[]}),uw=pe(function(e){return fs(ga(e,Ne))}),pw=pe(function(e){var t=Ct(e);return Ne(t)&&(t=r),fs(ga(e,Ne),Z(t,2))}),dw=pe(function(e){var t=Ct(e);return t=typeof t=="function"?t:r,fs(ga(e,Ne),r,t)}),hw=pe($s);function fw(e,t){return Uu(e||[],t||[],Rn)}function gw(e,t){return Uu(e||[],t||[],Ln)}var _w=pe(function(e){var t=e.length,n=t>1?e[t-1]:r;return n=typeof n=="function"?(e.pop(),n):r,Pp(e,n)});function Ap(e){var t=u(e);return t.__chain__=!0,t}function yw(e,t){return t(e),e}function jr(e,t){return t(e)}var mw=Qt(function(e){var t=e.length,n=t?e[0]:0,s=this.__wrapped__,l=function(d){return ts(d,e)};return t>1||this.__actions__.length||!(s instanceof he)||!ea(n)?this.thru(l):(s=s.slice(n,+n+(t?1:0)),s.__actions__.push({func:jr,args:[l],thisArg:r}),new vt(s,this.__chain__).thru(function(d){return t&&!d.length&&d.push(r),d}))});function ww(){return Ap(this)}function vw(){return new vt(this.value(),this.__chain__)}function bw(){this.__values__===r&&(this.__values__=qp(this.value()));var e=this.__index__>=this.__values__.length,t=e?r:this.__values__[this.__index__++];return{done:e,value:t}}function Sw(){return this}function Cw(e){for(var t,n=this;n instanceof kr;){var s=mp(n);s.__index__=0,s.__values__=r,t?l.__wrapped__=s:t=s;var l=s;n=n.__wrapped__}return l.__wrapped__=e,t}function Pw(){var e=this.__wrapped__;if(e instanceof he){var t=e;return this.__actions__.length&&(t=new he(this)),t=t.reverse(),t.__actions__.push({func:jr,args:[Rs],thisArg:r}),new vt(t,this.__chain__)}return this.thru(Rs)}function Aw(){return Mu(this.__wrapped__,this.__actions__)}var Iw=Dr(function(e,t,n){Se.call(e,n)?++e[n]:Zt(e,n,1)});function Ew(e,t,n){var s=re(e)?eu:yy;return n&&tt(e,t,n)&&(t=r),s(e,Z(t,3))}function kw(e,t){var n=re(e)?ga:Pu;return n(e,Z(t,3))}var Rw=Ju(wp),$w=Ju(vp);function Tw(e,t){return Ge(Hr(e,t),1)}function xw(e,t){return Ge(Hr(e,t),We)}function Lw(e,t,n){return n=n===r?1:oe(n),Ge(Hr(e,t),n)}function Ip(e,t){var n=re(e)?mt:wa;return n(e,Z(t,3))}function Ep(e,t){var n=re(e)?Jg:Cu;return n(e,Z(t,3))}var Ow=Dr(function(e,t,n){Se.call(e,n)?e[n].push(t):Zt(e,n,[t])});function Dw(e,t,n,s){e=st(e)?e:ln(e),n=n&&!s?oe(n):0;var l=e.length;return n<0&&(n=Be(l+n,0)),Yr(e)?n<=l&&e.indexOf(t,n)>-1:!!l&&Ya(e,t,n)>-1}var Nw=pe(function(e,t,n){var s=-1,l=typeof t=="function",d=st(e)?$(e.length):[];return wa(e,function(m){d[++s]=l?ut(t,m,n):Tn(m,t,n)}),d}),zw=Dr(function(e,t,n){Zt(e,n,t)});function Hr(e,t){var n=re(e)?ke:$u;return n(e,Z(t,3))}function Fw(e,t,n,s){return e==null?[]:(re(t)||(t=t==null?[]:[t]),n=s?r:n,re(n)||(n=n==null?[]:[n]),Ou(e,t,n))}var qw=Dr(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function Bw(e,t,n){var s=re(e)?Ui:ru,l=arguments.length<3;return s(e,Z(t,4),n,l,wa)}function Mw(e,t,n){var s=re(e)?Qg:ru,l=arguments.length<3;return s(e,Z(t,4),n,l,Cu)}function Uw(e,t){var n=re(e)?ga:Pu;return n(e,Kr(Z(t,3)))}function jw(e){var t=re(e)?wu:Dy;return t(e)}function Hw(e,t,n){(n?tt(e,t,n):t===r)?t=1:t=oe(t);var s=re(e)?dy:Ny;return s(e,t)}function Gw(e){var t=re(e)?hy:Fy;return t(e)}function Ww(e){if(e==null)return 0;if(st(e))return Yr(e)?Za(e):e.length;var t=Ye(e);return t==Xe||t==Fe?e.size:os(e).length}function Kw(e,t,n){var s=re(e)?ji:qy;return n&&tt(e,t,n)&&(t=r),s(e,Z(t,3))}var Vw=pe(function(e,t){if(e==null)return[];var n=t.length;return n>1&&tt(e,t[0],t[1])?t=[]:n>2&&tt(t[0],t[1],t[2])&&(t=[t[0]]),Ou(e,Ge(t,1),[])}),Gr=k_||function(){return He.Date.now()};function Yw(e,t){if(typeof t!="function")throw new wt(_);return e=oe(e),function(){if(--e<1)return t.apply(this,arguments)}}function kp(e,t,n){return t=n?r:t,t=e&&t==null?e.length:t,Jt(e,X,r,r,r,r,t)}function Rp(e,t){var n;if(typeof t!="function")throw new wt(_);return e=oe(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=r),n}}var Ts=pe(function(e,t,n){var s=G;if(n.length){var l=ya(n,sn(Ts));s|=M}return Jt(e,s,t,n,l)}),$p=pe(function(e,t,n){var s=G|ae;if(n.length){var l=ya(n,sn($p));s|=M}return Jt(t,s,e,n,l)});function Tp(e,t,n){t=n?r:t;var s=Jt(e,we,r,r,r,r,r,t);return s.placeholder=Tp.placeholder,s}function xp(e,t,n){t=n?r:t;var s=Jt(e,be,r,r,r,r,r,t);return s.placeholder=xp.placeholder,s}function Lp(e,t,n){var s,l,d,m,C,E,L=0,O=!1,N=!1,j=!0;if(typeof e!="function")throw new wt(_);t=Pt(t)||0,$e(n)&&(O=!!n.leading,N="maxWait"in n,d=N?Be(Pt(n.maxWait)||0,t):d,j="trailing"in n?!!n.trailing:j);function Y(ze){var xt=s,na=l;return s=l=r,L=ze,m=e.apply(na,xt),m}function J(ze){return L=ze,C=Nn(de,t),O?Y(ze):m}function ce(ze){var xt=ze-E,na=ze-L,Jp=t-xt;return N?Ve(Jp,d-na):Jp}function Q(ze){var xt=ze-E,na=ze-L;return E===r||xt>=t||xt<0||N&&na>=d}function de(){var ze=Gr();if(Q(ze))return ge(ze);C=Nn(de,ce(ze))}function ge(ze){return C=r,j&&s?Y(ze):(s=l=r,m)}function ft(){C!==r&&ju(C),L=0,s=E=l=C=r}function at(){return C===r?m:ge(Gr())}function gt(){var ze=Gr(),xt=Q(ze);if(s=arguments,l=this,E=ze,xt){if(C===r)return J(E);if(N)return ju(C),C=Nn(de,t),Y(E)}return C===r&&(C=Nn(de,t)),m}return gt.cancel=ft,gt.flush=at,gt}var Xw=pe(function(e,t){return Su(e,1,t)}),Zw=pe(function(e,t,n){return Su(e,Pt(t)||0,n)});function Jw(e){return Jt(e,fe)}function Wr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new wt(_);var n=function(){var s=arguments,l=t?t.apply(this,s):s[0],d=n.cache;if(d.has(l))return d.get(l);var m=e.apply(this,s);return n.cache=d.set(l,m)||d,m};return n.cache=new(Wr.Cache||Xt),n}Wr.Cache=Xt;function Kr(e){if(typeof e!="function")throw new wt(_);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Qw(e){return Rp(2,e)}var ev=By(function(e,t){t=t.length==1&&re(t[0])?ke(t[0],pt(Z())):ke(Ge(t,1),pt(Z()));var n=t.length;return pe(function(s){for(var l=-1,d=Ve(s.length,n);++l<d;)s[l]=t[l].call(this,s[l]);return ut(e,this,s)})}),xs=pe(function(e,t){var n=ya(t,sn(xs));return Jt(e,M,r,t,n)}),Op=pe(function(e,t){var n=ya(t,sn(Op));return Jt(e,ee,r,t,n)}),tv=Qt(function(e,t){return Jt(e,ue,r,r,r,t)});function av(e,t){if(typeof e!="function")throw new wt(_);return t=t===r?t:oe(t),pe(e,t)}function nv(e,t){if(typeof e!="function")throw new wt(_);return t=t==null?0:Be(oe(t),0),pe(function(n){var s=n[t],l=Sa(n,0,t);return s&&_a(l,s),ut(e,this,l)})}function rv(e,t,n){var s=!0,l=!0;if(typeof e!="function")throw new wt(_);return $e(n)&&(s="leading"in n?!!n.leading:s,l="trailing"in n?!!n.trailing:l),Lp(e,t,{leading:s,maxWait:t,trailing:l})}function iv(e){return kp(e,1)}function sv(e,t){return xs(_s(t),e)}function ov(){if(!arguments.length)return[];var e=arguments[0];return re(e)?e:[e]}function lv(e){return bt(e,F)}function cv(e,t){return t=typeof t=="function"?t:r,bt(e,F,t)}function uv(e){return bt(e,v|F)}function pv(e,t){return t=typeof t=="function"?t:r,bt(e,v|F,t)}function dv(e,t){return t==null||bu(e,t,Me(t))}function Tt(e,t){return e===t||e!==e&&t!==t}var hv=qr(rs),fv=qr(function(e,t){return e>=t}),Na=Eu(function(){return arguments}())?Eu:function(e){return Oe(e)&&Se.call(e,"callee")&&!hu.call(e,"callee")},re=$.isArray,gv=Vc?pt(Vc):Cy;function st(e){return e!=null&&Vr(e.length)&&!ta(e)}function Ne(e){return Oe(e)&&st(e)}function _v(e){return e===!0||e===!1||Oe(e)&&et(e)==jt}var Ca=$_||js,yv=Yc?pt(Yc):Py;function mv(e){return Oe(e)&&e.nodeType===1&&!zn(e)}function wv(e){if(e==null)return!0;if(st(e)&&(re(e)||typeof e=="string"||typeof e.splice=="function"||Ca(e)||on(e)||Na(e)))return!e.length;var t=Ye(e);if(t==Xe||t==Fe)return!e.size;if(Dn(e))return!os(e).length;for(var n in e)if(Se.call(e,n))return!1;return!0}function vv(e,t){return xn(e,t)}function bv(e,t,n){n=typeof n=="function"?n:r;var s=n?n(e,t):r;return s===r?xn(e,t,r,n):!!s}function Ls(e){if(!Oe(e))return!1;var t=et(e);return t==ca||t==_n||typeof e.message=="string"&&typeof e.name=="string"&&!zn(e)}function Sv(e){return typeof e=="number"&&gu(e)}function ta(e){if(!$e(e))return!1;var t=et(e);return t==ua||t==Ha||t==gn||t==_t}function Dp(e){return typeof e=="number"&&e==oe(e)}function Vr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=nt}function $e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Oe(e){return e!=null&&typeof e=="object"}var Np=Xc?pt(Xc):Iy;function Cv(e,t){return e===t||ss(e,t,Cs(t))}function Pv(e,t,n){return n=typeof n=="function"?n:r,ss(e,t,Cs(t),n)}function Av(e){return zp(e)&&e!=+e}function Iv(e){if(cm(e))throw new ne(h);return ku(e)}function Ev(e){return e===null}function kv(e){return e==null}function zp(e){return typeof e=="number"||Oe(e)&&et(e)==se}function zn(e){if(!Oe(e)||et(e)!=ie)return!1;var t=br(e);if(t===null)return!0;var n=Se.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&yr.call(n)==P_}var Os=Zc?pt(Zc):Ey;function Rv(e){return Dp(e)&&e>=-nt&&e<=nt}var Fp=Jc?pt(Jc):ky;function Yr(e){return typeof e=="string"||!re(e)&&Oe(e)&&et(e)==je}function ht(e){return typeof e=="symbol"||Oe(e)&&et(e)==Le}var on=Qc?pt(Qc):Ry;function $v(e){return e===r}function Tv(e){return Oe(e)&&Ye(e)==ct}function xv(e){return Oe(e)&&et(e)==Ga}var Lv=qr(ls),Ov=qr(function(e,t){return e<=t});function qp(e){if(!e)return[];if(st(e))return Yr(e)?Rt(e):it(e);if(Pn&&e[Pn])return d_(e[Pn]());var t=Ye(e),n=t==Xe?Yi:t==Fe?fr:ln;return n(e)}function aa(e){if(!e)return e===0?e:0;if(e=Pt(e),e===We||e===-We){var t=e<0?-1:1;return t*dn}return e===e?e:0}function oe(e){var t=aa(e),n=t%1;return t===t?n?t-n:t:0}function Bp(e){return e?xa(oe(e),0,xe):0}function Pt(e){if(typeof e=="number")return e;if(ht(e))return oa;if($e(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=$e(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=iu(e);var n=Ei.test(e);return n||Ri.test(e)?Yg(e.slice(2),n?2:8):Ii.test(e)?oa:+e}function Mp(e){return zt(e,ot(e))}function Dv(e){return e?xa(oe(e),-nt,nt):e===0?e:0}function ve(e){return e==null?"":dt(e)}var Nv=nn(function(e,t){if(Dn(t)||st(t)){zt(t,Me(t),e);return}for(var n in t)Se.call(t,n)&&Rn(e,n,t[n])}),Up=nn(function(e,t){zt(t,ot(t),e)}),Xr=nn(function(e,t,n,s){zt(t,ot(t),e,s)}),zv=nn(function(e,t,n,s){zt(t,Me(t),e,s)}),Fv=Qt(ts);function qv(e,t){var n=an(e);return t==null?n:vu(n,t)}var Bv=pe(function(e,t){e=Pe(e);var n=-1,s=t.length,l=s>2?t[2]:r;for(l&&tt(t[0],t[1],l)&&(s=1);++n<s;)for(var d=t[n],m=ot(d),C=-1,E=m.length;++C<E;){var L=m[C],O=e[L];(O===r||Tt(O,Qa[L])&&!Se.call(e,L))&&(e[L]=d[L])}return e}),Mv=pe(function(e){return e.push(r,ip),ut(jp,r,e)});function Uv(e,t){return tu(e,Z(t,3),Nt)}function jv(e,t){return tu(e,Z(t,3),ns)}function Hv(e,t){return e==null?e:as(e,Z(t,3),ot)}function Gv(e,t){return e==null?e:Au(e,Z(t,3),ot)}function Wv(e,t){return e&&Nt(e,Z(t,3))}function Kv(e,t){return e&&ns(e,Z(t,3))}function Vv(e){return e==null?[]:Tr(e,Me(e))}function Yv(e){return e==null?[]:Tr(e,ot(e))}function Ds(e,t,n){var s=e==null?r:La(e,t);return s===r?n:s}function Xv(e,t){return e!=null&&lp(e,t,wy)}function Ns(e,t){return e!=null&&lp(e,t,vy)}var Zv=ep(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=mr.call(t)),e[t]=n},Fs(lt)),Jv=ep(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=mr.call(t)),Se.call(e,t)?e[t].push(n):e[t]=[n]},Z),Qv=pe(Tn);function Me(e){return st(e)?mu(e):os(e)}function ot(e){return st(e)?mu(e,!0):$y(e)}function eb(e,t){var n={};return t=Z(t,3),Nt(e,function(s,l,d){Zt(n,t(s,l,d),s)}),n}function tb(e,t){var n={};return t=Z(t,3),Nt(e,function(s,l,d){Zt(n,l,t(s,l,d))}),n}var ab=nn(function(e,t,n){xr(e,t,n)}),jp=nn(function(e,t,n,s){xr(e,t,n,s)}),nb=Qt(function(e,t){var n={};if(e==null)return n;var s=!1;t=ke(t,function(d){return d=ba(d,e),s||(s=d.length>1),d}),zt(e,bs(e),n),s&&(n=bt(n,v|R|F,Zy));for(var l=t.length;l--;)hs(n,t[l]);return n});function rb(e,t){return Hp(e,Kr(Z(t)))}var ib=Qt(function(e,t){return e==null?{}:xy(e,t)});function Hp(e,t){if(e==null)return{};var n=ke(bs(e),function(s){return[s]});return t=Z(t),Du(e,n,function(s,l){return t(s,l[0])})}function sb(e,t,n){t=ba(t,e);var s=-1,l=t.length;for(l||(l=1,e=r);++s<l;){var d=e==null?r:e[Ft(t[s])];d===r&&(s=l,d=n),e=ta(d)?d.call(e):d}return e}function ob(e,t,n){return e==null?e:Ln(e,t,n)}function lb(e,t,n,s){return s=typeof s=="function"?s:r,e==null?e:Ln(e,t,n,s)}var Gp=np(Me),Wp=np(ot);function cb(e,t,n){var s=re(e),l=s||Ca(e)||on(e);if(t=Z(t,4),n==null){var d=e&&e.constructor;l?n=s?new d:[]:$e(e)?n=ta(d)?an(br(e)):{}:n={}}return(l?mt:Nt)(e,function(m,C,E){return t(n,m,C,E)}),n}function ub(e,t){return e==null?!0:hs(e,t)}function pb(e,t,n){return e==null?e:Bu(e,t,_s(n))}function db(e,t,n,s){return s=typeof s=="function"?s:r,e==null?e:Bu(e,t,_s(n),s)}function ln(e){return e==null?[]:Vi(e,Me(e))}function hb(e){return e==null?[]:Vi(e,ot(e))}function fb(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=Pt(n),n=n===n?n:0),t!==r&&(t=Pt(t),t=t===t?t:0),xa(Pt(e),t,n)}function gb(e,t,n){return t=aa(t),n===r?(n=t,t=0):n=aa(n),e=Pt(e),by(e,t,n)}function _b(e,t,n){if(n&&typeof n!="boolean"&&tt(e,t,n)&&(t=n=r),n===r&&(typeof t=="boolean"?(n=t,t=r):typeof e=="boolean"&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=aa(e),t===r?(t=e,e=0):t=aa(t)),e>t){var s=e;e=t,t=s}if(n||e%1||t%1){var l=_u();return Ve(e+l*(t-e+Vg("1e-"+((l+"").length-1))),t)}return us(e,t)}var yb=rn(function(e,t,n){return t=t.toLowerCase(),e+(n?Kp(t):t)});function Kp(e){return zs(ve(e).toLowerCase())}function Vp(e){return e=ve(e),e&&e.replace(Ti,o_).replace(Fg,"")}function mb(e,t,n){e=ve(e),t=dt(t);var s=e.length;n=n===r?s:xa(oe(n),0,s);var l=n;return n-=t.length,n>=0&&e.slice(n,l)==t}function wb(e){return e=ve(e),e&&di.test(e)?e.replace(tr,l_):e}function vb(e){return e=ve(e),e&&mi.test(e)?e.replace(wn,"\\$&"):e}var bb=rn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Sb=rn(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Cb=Zu("toLowerCase");function Pb(e,t,n){e=ve(e),t=oe(t);var s=t?Za(e):0;if(!t||s>=t)return e;var l=(t-s)/2;return Fr(Ar(l),n)+e+Fr(Pr(l),n)}function Ab(e,t,n){e=ve(e),t=oe(t);var s=t?Za(e):0;return t&&s<t?e+Fr(t-s,n):e}function Ib(e,t,n){e=ve(e),t=oe(t);var s=t?Za(e):0;return t&&s<t?Fr(t-s,n)+e:e}function Eb(e,t,n){return n||t==null?t=0:t&&(t=+t),O_(ve(e).replace(vn,""),t||0)}function kb(e,t,n){return(n?tt(e,t,n):t===r)?t=1:t=oe(t),ps(ve(e),t)}function Rb(){var e=arguments,t=ve(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var $b=rn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function Tb(e,t,n){return n&&typeof n!="number"&&tt(e,t,n)&&(t=n=r),n=n===r?xe:n>>>0,n?(e=ve(e),e&&(typeof t=="string"||t!=null&&!Os(t))&&(t=dt(t),!t&&Xa(e))?Sa(Rt(e),0,n):e.split(t,n)):[]}var xb=rn(function(e,t,n){return e+(n?" ":"")+zs(t)});function Lb(e,t,n){return e=ve(e),n=n==null?0:xa(oe(n),0,e.length),t=dt(t),e.slice(n,n+t.length)==t}function Ob(e,t,n){var s=u.templateSettings;n&&tt(e,t,n)&&(t=r),e=ve(e),t=Xr({},t,s,rp);var l=Xr({},t.imports,s.imports,rp),d=Me(l),m=Vi(l,d),C,E,L=0,O=t.interpolate||Wa,N="__p += '",j=Xi((t.escape||Wa).source+"|"+O.source+"|"+(O===nr?Ai:Wa).source+"|"+(t.evaluate||Wa).source+"|$","g"),Y="//# sourceURL="+(Se.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++jg+"]")+`
`;e.replace(j,function(Q,de,ge,ft,at,gt){return ge||(ge=ft),N+=e.slice(L,gt).replace(sr,c_),de&&(C=!0,N+=`' +
__e(`+de+`) +
'`),at&&(E=!0,N+=`';
`+at+`;
__p += '`),ge&&(N+=`' +
((__t = (`+ge+`)) == null ? '' : __t) +
'`),L=gt+Q.length,Q}),N+=`';
`;var J=Se.call(t,"variable")&&t.variable;if(!J)N=`with (obj) {
`+N+`
}
`;else if(Ci.test(J))throw new ne(g);N=(E?N.replace(Qn,""):N).replace(pi,"$1").replace(Ot,"$1;"),N="function("+(J||"obj")+`) {
`+(J?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(C?", __e = _.escape":"")+(E?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+N+`return __p
}`;var ce=Xp(function(){return me(d,Y+"return "+N).apply(r,m)});if(ce.source=N,Ls(ce))throw ce;return ce}function Db(e){return ve(e).toLowerCase()}function Nb(e){return ve(e).toUpperCase()}function zb(e,t,n){if(e=ve(e),e&&(n||t===r))return iu(e);if(!e||!(t=dt(t)))return e;var s=Rt(e),l=Rt(t),d=su(s,l),m=ou(s,l)+1;return Sa(s,d,m).join("")}function Fb(e,t,n){if(e=ve(e),e&&(n||t===r))return e.slice(0,cu(e)+1);if(!e||!(t=dt(t)))return e;var s=Rt(e),l=ou(s,Rt(t))+1;return Sa(s,0,l).join("")}function qb(e,t,n){if(e=ve(e),e&&(n||t===r))return e.replace(vn,"");if(!e||!(t=dt(t)))return e;var s=Rt(e),l=su(s,Rt(t));return Sa(s,l).join("")}function Bb(e,t){var n=De,s=te;if($e(t)){var l="separator"in t?t.separator:l;n="length"in t?oe(t.length):n,s="omission"in t?dt(t.omission):s}e=ve(e);var d=e.length;if(Xa(e)){var m=Rt(e);d=m.length}if(n>=d)return e;var C=n-Za(s);if(C<1)return s;var E=m?Sa(m,0,C).join(""):e.slice(0,C);if(l===r)return E+s;if(m&&(C+=E.length-C),Os(l)){if(e.slice(C).search(l)){var L,O=E;for(l.global||(l=Xi(l.source,ve(ir.exec(l))+"g")),l.lastIndex=0;L=l.exec(O);)var N=L.index;E=E.slice(0,N===r?C:N)}}else if(e.indexOf(dt(l),C)!=C){var j=E.lastIndexOf(l);j>-1&&(E=E.slice(0,j))}return E+s}function Mb(e){return e=ve(e),e&&ar.test(e)?e.replace(er,__):e}var Ub=rn(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),zs=Zu("toUpperCase");function Yp(e,t,n){return e=ve(e),t=n?r:t,t===r?p_(e)?w_(e):a_(e):e.match(t)||[]}var Xp=pe(function(e,t){try{return ut(e,r,t)}catch(n){return Ls(n)?n:new ne(n)}}),jb=Qt(function(e,t){return mt(t,function(n){n=Ft(n),Zt(e,n,Ts(e[n],e))}),e});function Hb(e){var t=e==null?0:e.length,n=Z();return e=t?ke(e,function(s){if(typeof s[1]!="function")throw new wt(_);return[n(s[0]),s[1]]}):[],pe(function(s){for(var l=-1;++l<t;){var d=e[l];if(ut(d[0],this,s))return ut(d[1],this,s)}})}function Gb(e){return _y(bt(e,v))}function Fs(e){return function(){return e}}function Wb(e,t){return e==null||e!==e?t:e}var Kb=Qu(),Vb=Qu(!0);function lt(e){return e}function qs(e){return Ru(typeof e=="function"?e:bt(e,v))}function Yb(e){return Tu(bt(e,v))}function Xb(e,t){return xu(e,bt(t,v))}var Zb=pe(function(e,t){return function(n){return Tn(n,e,t)}}),Jb=pe(function(e,t){return function(n){return Tn(e,n,t)}});function Bs(e,t,n){var s=Me(t),l=Tr(t,s);n==null&&!($e(t)&&(l.length||!s.length))&&(n=t,t=e,e=this,l=Tr(t,Me(t)));var d=!($e(n)&&"chain"in n)||!!n.chain,m=ta(e);return mt(l,function(C){var E=t[C];e[C]=E,m&&(e.prototype[C]=function(){var L=this.__chain__;if(d||L){var O=e(this.__wrapped__),N=O.__actions__=it(this.__actions__);return N.push({func:E,args:arguments,thisArg:e}),O.__chain__=L,O}return E.apply(e,_a([this.value()],arguments))})}),e}function Qb(){return He._===this&&(He._=A_),this}function Ms(){}function eS(e){return e=oe(e),pe(function(t){return Lu(t,e)})}var tS=ms(ke),aS=ms(eu),nS=ms(ji);function Zp(e){return As(e)?Hi(Ft(e)):Ly(e)}function rS(e){return function(t){return e==null?r:La(e,t)}}var iS=tp(),sS=tp(!0);function Us(){return[]}function js(){return!1}function oS(){return{}}function lS(){return""}function cS(){return!0}function uS(e,t){if(e=oe(e),e<1||e>nt)return[];var n=xe,s=Ve(e,xe);t=Z(t),e-=xe;for(var l=Ki(s,t);++n<e;)t(n);return l}function pS(e){return re(e)?ke(e,Ft):ht(e)?[e]:it(yp(ve(e)))}function dS(e){var t=++C_;return ve(e)+t}var hS=zr(function(e,t){return e+t},0),fS=ws("ceil"),gS=zr(function(e,t){return e/t},1),_S=ws("floor");function yS(e){return e&&e.length?$r(e,lt,rs):r}function mS(e,t){return e&&e.length?$r(e,Z(t,2),rs):r}function wS(e){return nu(e,lt)}function vS(e,t){return nu(e,Z(t,2))}function bS(e){return e&&e.length?$r(e,lt,ls):r}function SS(e,t){return e&&e.length?$r(e,Z(t,2),ls):r}var CS=zr(function(e,t){return e*t},1),PS=ws("round"),AS=zr(function(e,t){return e-t},0);function IS(e){return e&&e.length?Wi(e,lt):0}function ES(e,t){return e&&e.length?Wi(e,Z(t,2)):0}return u.after=Yw,u.ary=kp,u.assign=Nv,u.assignIn=Up,u.assignInWith=Xr,u.assignWith=zv,u.at=Fv,u.before=Rp,u.bind=Ts,u.bindAll=jb,u.bindKey=$p,u.castArray=ov,u.chain=Ap,u.chunk=_m,u.compact=ym,u.concat=mm,u.cond=Hb,u.conforms=Gb,u.constant=Fs,u.countBy=Iw,u.create=qv,u.curry=Tp,u.curryRight=xp,u.debounce=Lp,u.defaults=Bv,u.defaultsDeep=Mv,u.defer=Xw,u.delay=Zw,u.difference=wm,u.differenceBy=vm,u.differenceWith=bm,u.drop=Sm,u.dropRight=Cm,u.dropRightWhile=Pm,u.dropWhile=Am,u.fill=Im,u.filter=kw,u.flatMap=Tw,u.flatMapDeep=xw,u.flatMapDepth=Lw,u.flatten=bp,u.flattenDeep=Em,u.flattenDepth=km,u.flip=Jw,u.flow=Kb,u.flowRight=Vb,u.fromPairs=Rm,u.functions=Vv,u.functionsIn=Yv,u.groupBy=Ow,u.initial=Tm,u.intersection=xm,u.intersectionBy=Lm,u.intersectionWith=Om,u.invert=Zv,u.invertBy=Jv,u.invokeMap=Nw,u.iteratee=qs,u.keyBy=zw,u.keys=Me,u.keysIn=ot,u.map=Hr,u.mapKeys=eb,u.mapValues=tb,u.matches=Yb,u.matchesProperty=Xb,u.memoize=Wr,u.merge=ab,u.mergeWith=jp,u.method=Zb,u.methodOf=Jb,u.mixin=Bs,u.negate=Kr,u.nthArg=eS,u.omit=nb,u.omitBy=rb,u.once=Qw,u.orderBy=Fw,u.over=tS,u.overArgs=ev,u.overEvery=aS,u.overSome=nS,u.partial=xs,u.partialRight=Op,u.partition=qw,u.pick=ib,u.pickBy=Hp,u.property=Zp,u.propertyOf=rS,u.pull=Fm,u.pullAll=Cp,u.pullAllBy=qm,u.pullAllWith=Bm,u.pullAt=Mm,u.range=iS,u.rangeRight=sS,u.rearg=tv,u.reject=Uw,u.remove=Um,u.rest=av,u.reverse=Rs,u.sampleSize=Hw,u.set=ob,u.setWith=lb,u.shuffle=Gw,u.slice=jm,u.sortBy=Vw,u.sortedUniq=Xm,u.sortedUniqBy=Zm,u.split=Tb,u.spread=nv,u.tail=Jm,u.take=Qm,u.takeRight=ew,u.takeRightWhile=tw,u.takeWhile=aw,u.tap=yw,u.throttle=rv,u.thru=jr,u.toArray=qp,u.toPairs=Gp,u.toPairsIn=Wp,u.toPath=pS,u.toPlainObject=Mp,u.transform=cb,u.unary=iv,u.union=nw,u.unionBy=rw,u.unionWith=iw,u.uniq=sw,u.uniqBy=ow,u.uniqWith=lw,u.unset=ub,u.unzip=$s,u.unzipWith=Pp,u.update=pb,u.updateWith=db,u.values=ln,u.valuesIn=hb,u.without=cw,u.words=Yp,u.wrap=sv,u.xor=uw,u.xorBy=pw,u.xorWith=dw,u.zip=hw,u.zipObject=fw,u.zipObjectDeep=gw,u.zipWith=_w,u.entries=Gp,u.entriesIn=Wp,u.extend=Up,u.extendWith=Xr,Bs(u,u),u.add=hS,u.attempt=Xp,u.camelCase=yb,u.capitalize=Kp,u.ceil=fS,u.clamp=fb,u.clone=lv,u.cloneDeep=uv,u.cloneDeepWith=pv,u.cloneWith=cv,u.conformsTo=dv,u.deburr=Vp,u.defaultTo=Wb,u.divide=gS,u.endsWith=mb,u.eq=Tt,u.escape=wb,u.escapeRegExp=vb,u.every=Ew,u.find=Rw,u.findIndex=wp,u.findKey=Uv,u.findLast=$w,u.findLastIndex=vp,u.findLastKey=jv,u.floor=_S,u.forEach=Ip,u.forEachRight=Ep,u.forIn=Hv,u.forInRight=Gv,u.forOwn=Wv,u.forOwnRight=Kv,u.get=Ds,u.gt=hv,u.gte=fv,u.has=Xv,u.hasIn=Ns,u.head=Sp,u.identity=lt,u.includes=Dw,u.indexOf=$m,u.inRange=gb,u.invoke=Qv,u.isArguments=Na,u.isArray=re,u.isArrayBuffer=gv,u.isArrayLike=st,u.isArrayLikeObject=Ne,u.isBoolean=_v,u.isBuffer=Ca,u.isDate=yv,u.isElement=mv,u.isEmpty=wv,u.isEqual=vv,u.isEqualWith=bv,u.isError=Ls,u.isFinite=Sv,u.isFunction=ta,u.isInteger=Dp,u.isLength=Vr,u.isMap=Np,u.isMatch=Cv,u.isMatchWith=Pv,u.isNaN=Av,u.isNative=Iv,u.isNil=kv,u.isNull=Ev,u.isNumber=zp,u.isObject=$e,u.isObjectLike=Oe,u.isPlainObject=zn,u.isRegExp=Os,u.isSafeInteger=Rv,u.isSet=Fp,u.isString=Yr,u.isSymbol=ht,u.isTypedArray=on,u.isUndefined=$v,u.isWeakMap=Tv,u.isWeakSet=xv,u.join=Dm,u.kebabCase=bb,u.last=Ct,u.lastIndexOf=Nm,u.lowerCase=Sb,u.lowerFirst=Cb,u.lt=Lv,u.lte=Ov,u.max=yS,u.maxBy=mS,u.mean=wS,u.meanBy=vS,u.min=bS,u.minBy=SS,u.stubArray=Us,u.stubFalse=js,u.stubObject=oS,u.stubString=lS,u.stubTrue=cS,u.multiply=CS,u.nth=zm,u.noConflict=Qb,u.noop=Ms,u.now=Gr,u.pad=Pb,u.padEnd=Ab,u.padStart=Ib,u.parseInt=Eb,u.random=_b,u.reduce=Bw,u.reduceRight=Mw,u.repeat=kb,u.replace=Rb,u.result=sb,u.round=PS,u.runInContext=I,u.sample=jw,u.size=Ww,u.snakeCase=$b,u.some=Kw,u.sortedIndex=Hm,u.sortedIndexBy=Gm,u.sortedIndexOf=Wm,u.sortedLastIndex=Km,u.sortedLastIndexBy=Vm,u.sortedLastIndexOf=Ym,u.startCase=xb,u.startsWith=Lb,u.subtract=AS,u.sum=IS,u.sumBy=ES,u.template=Ob,u.times=uS,u.toFinite=aa,u.toInteger=oe,u.toLength=Bp,u.toLower=Db,u.toNumber=Pt,u.toSafeInteger=Dv,u.toString=ve,u.toUpper=Nb,u.trim=zb,u.trimEnd=Fb,u.trimStart=qb,u.truncate=Bb,u.unescape=Mb,u.uniqueId=dS,u.upperCase=Ub,u.upperFirst=zs,u.each=Ip,u.eachRight=Ep,u.first=Sp,Bs(u,function(){var e={};return Nt(u,function(t,n){Se.call(u.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),u.VERSION=o,mt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){u[e].placeholder=u}),mt(["drop","take"],function(e,t){he.prototype[e]=function(n){n=n===r?1:Be(oe(n),0);var s=this.__filtered__&&!t?new he(this):this.clone();return s.__filtered__?s.__takeCount__=Ve(n,s.__takeCount__):s.__views__.push({size:Ve(n,xe),type:e+(s.__dir__<0?"Right":"")}),s},he.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),mt(["filter","map","takeWhile"],function(e,t){var n=t+1,s=n==It||n==Aa;he.prototype[e]=function(l){var d=this.clone();return d.__iteratees__.push({iteratee:Z(l,3),type:n}),d.__filtered__=d.__filtered__||s,d}}),mt(["head","last"],function(e,t){var n="take"+(t?"Right":"");he.prototype[e]=function(){return this[n](1).value()[0]}}),mt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");he.prototype[e]=function(){return this.__filtered__?new he(this):this[n](1)}}),he.prototype.compact=function(){return this.filter(lt)},he.prototype.find=function(e){return this.filter(e).head()},he.prototype.findLast=function(e){return this.reverse().find(e)},he.prototype.invokeMap=pe(function(e,t){return typeof e=="function"?new he(this):this.map(function(n){return Tn(n,e,t)})}),he.prototype.reject=function(e){return this.filter(Kr(Z(e)))},he.prototype.slice=function(e,t){e=oe(e);var n=this;return n.__filtered__&&(e>0||t<0)?new he(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(t=oe(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},he.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},he.prototype.toArray=function(){return this.take(xe)},Nt(he.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),s=/^(?:head|last)$/.test(t),l=u[s?"take"+(t=="last"?"Right":""):t],d=s||/^find/.test(t);l&&(u.prototype[t]=function(){var m=this.__wrapped__,C=s?[1]:arguments,E=m instanceof he,L=C[0],O=E||re(m),N=function(de){var ge=l.apply(u,_a([de],C));return s&&j?ge[0]:ge};O&&n&&typeof L=="function"&&L.length!=1&&(E=O=!1);var j=this.__chain__,Y=!!this.__actions__.length,J=d&&!j,ce=E&&!Y;if(!d&&O){m=ce?m:new he(this);var Q=e.apply(m,C);return Q.__actions__.push({func:jr,args:[N],thisArg:r}),new vt(Q,j)}return J&&ce?e.apply(this,C):(Q=this.thru(N),J?s?Q.value()[0]:Q.value():Q)})}),mt(["pop","push","shift","sort","splice","unshift"],function(e){var t=gr[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",s=/^(?:pop|shift)$/.test(e);u.prototype[e]=function(){var l=arguments;if(s&&!this.__chain__){var d=this.value();return t.apply(re(d)?d:[],l)}return this[n](function(m){return t.apply(re(m)?m:[],l)})}}),Nt(he.prototype,function(e,t){var n=u[t];if(n){var s=n.name+"";Se.call(tn,s)||(tn[s]=[]),tn[s].push({name:t,func:n})}}),tn[Nr(r,ae).name]=[{name:"wrapper",func:r}],he.prototype.clone=M_,he.prototype.reverse=U_,he.prototype.value=j_,u.prototype.at=mw,u.prototype.chain=ww,u.prototype.commit=vw,u.prototype.next=bw,u.prototype.plant=Cw,u.prototype.reverse=Pw,u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=Aw,u.prototype.first=u.prototype.head,Pn&&(u.prototype[Pn]=Sw),u},Ja=v_();ka?((ka.exports=Ja)._=Ja,qi._=Ja):He._=Ja}).call(kP)}(Wn,Wn.exports)),Wn.exports}var Zr=RP();const $P=()=>({name:"handle-error",serialize:()=>{},deserialize:({value:a})=>{if(Jn("__MissingPrivilegesError__",a))return new Ua(a.__messageType__,a.__data__)}}),TP=[bP,IP,AP,EC,EP,$P];function fg(a){const i=TP.map(g=>g(a));function r(){return i}function o(g){var w;return(w=i.find(b=>b.name===g))!==null&&w!==void 0?w:null}function c(g,w=new Map,b="root"){return Zr.cloneDeepWith(g,(y,v,R,F)=>{let K=b+"."+v;if(AC(y))return y;if(w.has(y))return{__$CR__:w.get(y)};w.set(y,K);for(const D of i){const G=D.serialize({value:y,key:v,object:R,stack:F,customizerMethod:c,seen:w,path:K});if(G)return G}})}function h(g,w){const b=_(g,w);return Oc(b,(y,v,R,F)=>{if(v!=="__$CR__")return;const K=uh(R),D=uh(F);Zr.set(b,D,Zr.get(b,K))}),b}function _(g,w){return Zr.cloneDeepWith(g,(b,y,v,R)=>{for(const F of i){const K=F.deserialize({value:b,key:y,object:v,stack:R,event:w,customizerMethod:_});if(K)return K}})}return{getSerializers:r,getSerializerByName:o,serialize:c,deserialize:h}}function xP(a,i){if(typeof i=="string")return new Gn(i);if(!(i instanceof Error))return new Gn("An unknown error occurred.");if(PC(i,"response.data.errors.0.code")&&i.response.data.errors.length){const r=i.response.data.errors.filter(c=>c.code==="FRAMEWORK__MISSING_PRIVILEGE_ERROR"),o=[];return r.forEach(c=>{const h=JSON.parse(c.detail);o.push(...h.missingPrivileges)}),o.length?new Ua(a,o):new Gn(i.response.data.errors[0].code,i.response.data.errors[0].status)}return new Gn(i.message)}function Rc({serializedData:a,origin:i,type:r,privilegesToCheck:o=[]}){if(i===void 0)return null;const c=tg(i);if(!c)return console.warn(`No extension found for origin "${i}"`),null;const h=[];return Oc(a,(_,g,w)=>{if(g==="__type__"&&["__EntityCollection__","__Entity__"].includes(w)){const b=_.__entityName__;if(!b)return;[...o].sort().forEach(y=>{const v=c.permissions[y];(!v||!v.includes(b))&&!h.includes(`${y}:${b}`)&&!(v!=null&&v.includes("*"))&&h.push(`${y}:${b}`)})}}),h.length>0?new Ua(r,h):null}function LP(a,i,r="datasetSubscribe",o=""){if(!i)return a;const c={},h=tg(o??""),_=[];return i.forEach(g=>{$c(a,g,h,_,o,r,c)}),h?_.length?new Ua(r,_):c:(console.warn(`No extension found for origin "${o}"`),c)}function $c(a,i,r,o,c,h,_={}){var g,w,b;const y=i.split(".");let v=_,R=a;for(let F=0;F<y.length;F++){const K=/\[\d*\]/,D=y[F],G=y[F+1];if(G&&(G==="*"||G.match(K))){if(!y[F+2]){Jr(R,r,o),Jr(R==null?void 0:R[D],r,o),v[D]=R==null?void 0:R[D];break}v[D]=(g=v[D])!==null&&g!==void 0?g:[],R=R==null?void 0:R[D],v=v[D];continue}if(Array.isArray(R)&&G){const ae=y.slice(F+1).join(".");if(D==="*"){for(let V=0;V<R.length;V++)$c(R[V],ae,r,o,c,h,(w=v[V])!==null&&w!==void 0?w:v);break}if(D.match(K)){const V=OP(D);$c(R[V],ae,r,o,c,h,(b=v[V])!==null&&b!==void 0?b:v);break}}if(F===y.length-1){if(Jr(R,r,o),Jr(R==null?void 0:R[D],r,o),Array.isArray(v)){v.push({[D]:R==null?void 0:R[D]});break}v[D]=R==null?void 0:R[D];break}v[D]={},R=R==null?void 0:R[D],v=v[D]}return _}function Jr(a,i,r){if(!a)return;const o=["read"];let c="";a.__identifier__&&a.__identifier__()==="Entity"&&(c=a.getEntityName()),a.__identifier__&&a.__identifier__()==="EntityCollection"&&(c=a.entity),c&&o.forEach(h=>{var _;const g=(_=i==null?void 0:i.permissions)===null||_===void 0?void 0:_[h];(!g||!g.includes(c))&&!r.includes(`${h}:${c}`)&&!(g!=null&&g.includes("*"))&&r.push(`${h}:${c}`)})}function OP(a){return Number.parseInt(a.replace("[","").replace("]",""))}const DP="6.1.0",NP={version:DP},zP=NP.version;var gg=function(a,i,r,o){function c(h){return h instanceof r?h:new r(function(_){_(h)})}return new(r||(r=Promise))(function(h,_){function g(y){try{b(o.next(y))}catch(v){_(v)}}function w(y){try{b(o.throw(y))}catch(v){_(v)}}function b(y){y.done?h(y.value):c(y.value).then(g,w)}b((o=o.apply(a,i||[])).next())})};const FP=zP,{serialize:Kn,deserialize:_g}=fg({handle:ni,send:Vn}),qP={},yg=new Set,mg=new Set;function Vn(a,i,r,o){const c=eg();let g=Kn({_type:a,_data:i??{},_callbackId:c});if(o){const v=Rc({serializedData:g,origin:o,privilegesToCheck:["read"],type:a});v&&(["datasetSubscribe","datasetUpdate","datasetRegistration","datasetGet"].includes(g._type)?g=Kn({_type:g._type,_callbackId:g._callbackId,_data:{id:g._data.id,data:v}}):g=Kn({_type:g._type,_callbackId:g._callbackId,_data:v}))}const w=JSON.stringify(g);let b=!1;const y=7e3;return new Promise((v,R)=>{const F=function(G){if(typeof G.data!="string"||G.data.indexOf(`"_callbackId":"${c}"`)===-1)return;let ae;try{ae=JSON.parse(G.data)}catch{return}if(!MP(ae)||!ae.hasOwnProperty("_response"))return;const V=_g(ae,G);if(window.removeEventListener("message",F),!b){b=!0;const we=V._response;if(we instanceof Error){R(we);return}v(we)}};window.addEventListener("message",F);let K=!0;try{K=!window.parent.origin}catch{}let D=K?document.referrer:window.parent.origin;o&&(D=o),r?r.postMessage(w,D):window.parent.postMessage(w,D),setTimeout(()=>{b||R("Send timeout expired. It could be possible that no handler for the postMessage request exists or that the handler freezed.")},y)})}function ni(a,i){const r=function(o){var c;return gg(this,void 0,void 0,function*(){if(typeof o.data!="string"||o.data.indexOf(`"_type":"${a}"`)===-1)return;let h;try{h=JSON.parse(o.data)}catch{return}if(!BP(h))return;const _=_g(h,o),g=yield Promise.resolve((()=>{if(!["datasetSubscribe","datasetGet","datasetUpdate","_collectionTest"].includes(a))return i(_._data,{_event_:o});const R=Rc({serializedData:h,origin:o.origin,type:a,privilegesToCheck:["create","delete","update","read"]});return R||i(_._data,{_event_:o})})()).catch(v=>xP(a,v)),w={_callbackId:_._callbackId,_type:_._type,_response:g??null},b=(()=>{let v=Kn(w);if(!["datasetSubscribe","datasetGet","_collectionTest"].includes(a))return v;const F=Rc({serializedData:v,origin:o.origin,privilegesToCheck:["read"],type:a});return F&&(v._response=F,v=Kn(v)),v})(),y=JSON.stringify(b);o.source?o.source.postMessage(y,{targetOrigin:(c=o.origin)!==null&&c!==void 0?c:"*"}):window.postMessage(y,window.origin)})};return window.addEventListener("message",r),()=>window.removeEventListener("message",r)}function wg(a,i){return r=>Vn(a,Object.assign(Object.assign({},i),r))}const vg=new Map;gg(void 0,void 0,void 0,function*(){ni("__registerWindow__",({sdkVersion:a},i)=>{let r,o;i._event_.source?(r=i._event_.source,o=i._event_.origin):(r=window,o=window.origin),yg.add({source:r,origin:o,sdkVersion:a})}),ni("datasetSubscribeRegistration",(a,{_event_:i})=>{let r,o;i.source?(r=i.source,o=i.origin):(r=window,o=window.origin),mg.add({id:a.id,source:r,origin:o,selectors:a.selectors});const c=vg.get(a.id);if(c){const h=LP(c,a.selectors,"datasetSubscribe",o);if(h instanceof Ua){console.error(h);return}Vn("datasetSubscribe",{id:a.id,data:h,selectors:a.selectors},r,o)}}),yield Vn("__registerWindow__",{sdkVersion:FP})}).catch(a=>console.error(a));window._swsdk={sourceRegistry:yg,subscriberRegistry:mg,datasets:vg,adminExtensions:qP};function BP(a){const i=a;return!!i._type&&!!i._data&&!!i._callbackId}function MP(a){const i=a;return!!i._type&&!!i.hasOwnProperty("_response")&&!!i._callbackId}var tc,Pf;function bg(){if(Pf)return tc;Pf=1;var a={};return tc=typeof process=="object"&&a&&a.NODE_DEBUG&&/\bsemver\b/i.test(a.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{},tc}var ac,Af;function Sg(){if(Af)return ac;Af=1;const a="2.0.0",i=256,r=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,c=i-6;return ac={MAX_LENGTH:i,MAX_SAFE_COMPONENT_LENGTH:o,MAX_SAFE_BUILD_LENGTH:c,MAX_SAFE_INTEGER:r,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:a,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},ac}var Qr={exports:{}},If;function UP(){return If||(If=1,function(a,i){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:c}=Sg(),h=bg();i=a.exports={};const _=i.re=[],g=i.safeRe=[],w=i.src=[],b=i.safeSrc=[],y=i.t={};let v=0;const R="[a-zA-Z0-9-]",F=[["\\s",1],["\\d",c],[R,o]],K=G=>{for(const[ae,V]of F)G=G.split(`${ae}*`).join(`${ae}{0,${V}}`).split(`${ae}+`).join(`${ae}{1,${V}}`);return G},D=(G,ae,V)=>{const we=K(ae),be=v++;h(G,be,ae),y[G]=be,w[be]=ae,b[be]=we,_[be]=new RegExp(ae,V?"g":void 0),g[be]=new RegExp(we,V?"g":void 0)};D("NUMERICIDENTIFIER","0|[1-9]\\d*"),D("NUMERICIDENTIFIERLOOSE","\\d+"),D("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${R}*`),D("MAINVERSION",`(${w[y.NUMERICIDENTIFIER]})\\.(${w[y.NUMERICIDENTIFIER]})\\.(${w[y.NUMERICIDENTIFIER]})`),D("MAINVERSIONLOOSE",`(${w[y.NUMERICIDENTIFIERLOOSE]})\\.(${w[y.NUMERICIDENTIFIERLOOSE]})\\.(${w[y.NUMERICIDENTIFIERLOOSE]})`),D("PRERELEASEIDENTIFIER",`(?:${w[y.NONNUMERICIDENTIFIER]}|${w[y.NUMERICIDENTIFIER]})`),D("PRERELEASEIDENTIFIERLOOSE",`(?:${w[y.NONNUMERICIDENTIFIER]}|${w[y.NUMERICIDENTIFIERLOOSE]})`),D("PRERELEASE",`(?:-(${w[y.PRERELEASEIDENTIFIER]}(?:\\.${w[y.PRERELEASEIDENTIFIER]})*))`),D("PRERELEASELOOSE",`(?:-?(${w[y.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${w[y.PRERELEASEIDENTIFIERLOOSE]})*))`),D("BUILDIDENTIFIER",`${R}+`),D("BUILD",`(?:\\+(${w[y.BUILDIDENTIFIER]}(?:\\.${w[y.BUILDIDENTIFIER]})*))`),D("FULLPLAIN",`v?${w[y.MAINVERSION]}${w[y.PRERELEASE]}?${w[y.BUILD]}?`),D("FULL",`^${w[y.FULLPLAIN]}$`),D("LOOSEPLAIN",`[v=\\s]*${w[y.MAINVERSIONLOOSE]}${w[y.PRERELEASELOOSE]}?${w[y.BUILD]}?`),D("LOOSE",`^${w[y.LOOSEPLAIN]}$`),D("GTLT","((?:<|>)?=?)"),D("XRANGEIDENTIFIERLOOSE",`${w[y.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),D("XRANGEIDENTIFIER",`${w[y.NUMERICIDENTIFIER]}|x|X|\\*`),D("XRANGEPLAIN",`[v=\\s]*(${w[y.XRANGEIDENTIFIER]})(?:\\.(${w[y.XRANGEIDENTIFIER]})(?:\\.(${w[y.XRANGEIDENTIFIER]})(?:${w[y.PRERELEASE]})?${w[y.BUILD]}?)?)?`),D("XRANGEPLAINLOOSE",`[v=\\s]*(${w[y.XRANGEIDENTIFIERLOOSE]})(?:\\.(${w[y.XRANGEIDENTIFIERLOOSE]})(?:\\.(${w[y.XRANGEIDENTIFIERLOOSE]})(?:${w[y.PRERELEASELOOSE]})?${w[y.BUILD]}?)?)?`),D("XRANGE",`^${w[y.GTLT]}\\s*${w[y.XRANGEPLAIN]}$`),D("XRANGELOOSE",`^${w[y.GTLT]}\\s*${w[y.XRANGEPLAINLOOSE]}$`),D("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),D("COERCE",`${w[y.COERCEPLAIN]}(?:$|[^\\d])`),D("COERCEFULL",w[y.COERCEPLAIN]+`(?:${w[y.PRERELEASE]})?(?:${w[y.BUILD]})?(?:$|[^\\d])`),D("COERCERTL",w[y.COERCE],!0),D("COERCERTLFULL",w[y.COERCEFULL],!0),D("LONETILDE","(?:~>?)"),D("TILDETRIM",`(\\s*)${w[y.LONETILDE]}\\s+`,!0),i.tildeTrimReplace="$1~",D("TILDE",`^${w[y.LONETILDE]}${w[y.XRANGEPLAIN]}$`),D("TILDELOOSE",`^${w[y.LONETILDE]}${w[y.XRANGEPLAINLOOSE]}$`),D("LONECARET","(?:\\^)"),D("CARETTRIM",`(\\s*)${w[y.LONECARET]}\\s+`,!0),i.caretTrimReplace="$1^",D("CARET",`^${w[y.LONECARET]}${w[y.XRANGEPLAIN]}$`),D("CARETLOOSE",`^${w[y.LONECARET]}${w[y.XRANGEPLAINLOOSE]}$`),D("COMPARATORLOOSE",`^${w[y.GTLT]}\\s*(${w[y.LOOSEPLAIN]})$|^$`),D("COMPARATOR",`^${w[y.GTLT]}\\s*(${w[y.FULLPLAIN]})$|^$`),D("COMPARATORTRIM",`(\\s*)${w[y.GTLT]}\\s*(${w[y.LOOSEPLAIN]}|${w[y.XRANGEPLAIN]})`,!0),i.comparatorTrimReplace="$1$2$3",D("HYPHENRANGE",`^\\s*(${w[y.XRANGEPLAIN]})\\s+-\\s+(${w[y.XRANGEPLAIN]})\\s*$`),D("HYPHENRANGELOOSE",`^\\s*(${w[y.XRANGEPLAINLOOSE]})\\s+-\\s+(${w[y.XRANGEPLAINLOOSE]})\\s*$`),D("STAR","(<|>)?=?\\s*\\*"),D("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),D("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(Qr,Qr.exports)),Qr.exports}var nc,Ef;function jP(){if(Ef)return nc;Ef=1;const a=Object.freeze({loose:!0}),i=Object.freeze({});return nc=o=>o?typeof o!="object"?a:o:i,nc}var rc,kf;function HP(){if(kf)return rc;kf=1;const a=/^[0-9]+$/,i=(o,c)=>{const h=a.test(o),_=a.test(c);return h&&_&&(o=+o,c=+c),o===c?0:h&&!_?-1:_&&!h?1:o<c?-1:1};return rc={compareIdentifiers:i,rcompareIdentifiers:(o,c)=>i(c,o)},rc}var ic,Rf;function Cg(){if(Rf)return ic;Rf=1;const a=bg(),{MAX_LENGTH:i,MAX_SAFE_INTEGER:r}=Sg(),{safeRe:o,t:c}=UP(),h=jP(),{compareIdentifiers:_}=HP();class g{constructor(b,y){if(y=h(y),b instanceof g){if(b.loose===!!y.loose&&b.includePrerelease===!!y.includePrerelease)return b;b=b.version}else if(typeof b!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof b}".`);if(b.length>i)throw new TypeError(`version is longer than ${i} characters`);a("SemVer",b,y),this.options=y,this.loose=!!y.loose,this.includePrerelease=!!y.includePrerelease;const v=b.trim().match(y.loose?o[c.LOOSE]:o[c.FULL]);if(!v)throw new TypeError(`Invalid Version: ${b}`);if(this.raw=b,this.major=+v[1],this.minor=+v[2],this.patch=+v[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");v[4]?this.prerelease=v[4].split(".").map(R=>{if(/^[0-9]+$/.test(R)){const F=+R;if(F>=0&&F<r)return F}return R}):this.prerelease=[],this.build=v[5]?v[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(b){if(a("SemVer.compare",this.version,this.options,b),!(b instanceof g)){if(typeof b=="string"&&b===this.version)return 0;b=new g(b,this.options)}return b.version===this.version?0:this.compareMain(b)||this.comparePre(b)}compareMain(b){return b instanceof g||(b=new g(b,this.options)),_(this.major,b.major)||_(this.minor,b.minor)||_(this.patch,b.patch)}comparePre(b){if(b instanceof g||(b=new g(b,this.options)),this.prerelease.length&&!b.prerelease.length)return-1;if(!this.prerelease.length&&b.prerelease.length)return 1;if(!this.prerelease.length&&!b.prerelease.length)return 0;let y=0;do{const v=this.prerelease[y],R=b.prerelease[y];if(a("prerelease compare",y,v,R),v===void 0&&R===void 0)return 0;if(R===void 0)return 1;if(v===void 0)return-1;if(v===R)continue;return _(v,R)}while(++y)}compareBuild(b){b instanceof g||(b=new g(b,this.options));let y=0;do{const v=this.build[y],R=b.build[y];if(a("build compare",y,v,R),v===void 0&&R===void 0)return 0;if(R===void 0)return 1;if(v===void 0)return-1;if(v===R)continue;return _(v,R)}while(++y)}inc(b,y,v){if(b.startsWith("pre")){if(!y&&v===!1)throw new Error("invalid increment argument: identifier is empty");if(y){const R=`-${y}`.match(this.options.loose?o[c.PRERELEASELOOSE]:o[c.PRERELEASE]);if(!R||R[1]!==y)throw new Error(`invalid identifier: ${y}`)}}switch(b){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",y,v);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",y,v);break;case"prepatch":this.prerelease.length=0,this.inc("patch",y,v),this.inc("pre",y,v);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",y,v),this.inc("pre",y,v);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const R=Number(v)?1:0;if(this.prerelease.length===0)this.prerelease=[R];else{let F=this.prerelease.length;for(;--F>=0;)typeof this.prerelease[F]=="number"&&(this.prerelease[F]++,F=-2);if(F===-1){if(y===this.prerelease.join(".")&&v===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(R)}}if(y){let F=[y,R];v===!1&&(F=[y]),_(this.prerelease[0],y)===0?isNaN(this.prerelease[1])&&(this.prerelease=F):this.prerelease=F}break}default:throw new Error(`invalid increment argument: ${b}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return ic=g,ic}var sc,$f;function pn(){if($f)return sc;$f=1;const a=Cg();return sc=(r,o,c)=>new a(r,c).compare(new a(o,c)),sc}var oc,Tf;function GP(){if(Tf)return oc;Tf=1;const a=pn();return oc=(r,o,c)=>a(r,o,c)===0,oc}var lc,xf;function WP(){if(xf)return lc;xf=1;const a=pn();return lc=(r,o,c)=>a(r,o,c)!==0,lc}var cc,Lf;function KP(){if(Lf)return cc;Lf=1;const a=pn();return cc=(r,o,c)=>a(r,o,c)>0,cc}var uc,Of;function VP(){if(Of)return uc;Of=1;const a=pn();return uc=(r,o,c)=>a(r,o,c)>=0,uc}var pc,Df;function YP(){if(Df)return pc;Df=1;const a=pn();return pc=(r,o,c)=>a(r,o,c)<0,pc}var dc,Nf;function XP(){if(Nf)return dc;Nf=1;const a=pn();return dc=(r,o,c)=>a(r,o,c)<=0,dc}var hc,zf;function ZP(){if(zf)return hc;zf=1;const a=GP(),i=WP(),r=KP(),o=VP(),c=YP(),h=XP();return hc=(g,w,b,y)=>{switch(w){case"===":return typeof g=="object"&&(g=g.version),typeof b=="object"&&(b=b.version),g===b;case"!==":return typeof g=="object"&&(g=g.version),typeof b=="object"&&(b=b.version),g!==b;case"":case"=":case"==":return a(g,b,y);case"!=":return i(g,b,y);case">":return r(g,b,y);case">=":return o(g,b,y);case"<":return c(g,b,y);case"<=":return h(g,b,y);default:throw new TypeError(`Invalid operator: ${w}`)}},hc}ZP();var fc,Ff;function JP(){if(Ff)return fc;Ff=1;const a=Cg();return fc=(r,o,c=!1)=>{if(r instanceof a)return r;try{return new a(r,o)}catch(h){if(!c)return null;throw h}},fc}var gc,qf;function QP(){if(qf)return gc;qf=1;const a=JP();return gc=(r,o)=>{const c=a(r,o);return c?c.version:null},gc}QP();var _c;wg("uiComponentSectionRenderer",{src:(_c=CC())!==null&&_c!==void 0?_c:void 0});const e0=wg("uiModulePaymentOverviewCard"),t0=Object.freeze(Object.defineProperty({__proto__:null,add:e0},Symbol.toStringTag,{value:"Module"})),a0=Object.freeze(Object.defineProperty({__proto__:null,overviewCard:t0},Symbol.toStringTag,{value:"Module"})),n0=Object.freeze(Object.defineProperty({__proto__:null,payment:a0},Symbol.toStringTag,{value:"Module"}));function ei(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var yc={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var Bf;function r0(){return Bf||(Bf=1,function(a,i){(function(r){a.exports=r()})(function(){return function r(o,c,h){function _(b,y){if(!c[b]){if(!o[b]){var v=typeof ei=="function"&&ei;if(!y&&v)return v(b,!0);if(g)return g(b,!0);var R=new Error("Cannot find module '"+b+"'");throw R.code="MODULE_NOT_FOUND",R}var F=c[b]={exports:{}};o[b][0].call(F.exports,function(K){var D=o[b][1][K];return _(D||K)},F,F.exports,r,o,c,h)}return c[b].exports}for(var g=typeof ei=="function"&&ei,w=0;w<h.length;w++)_(h[w]);return _}({1:[function(r,o,c){(function(h){var _=h.MutationObserver||h.WebKitMutationObserver,g;if(_){var w=0,b=new _(K),y=h.document.createTextNode("");b.observe(y,{characterData:!0}),g=function(){y.data=w=++w%2}}else if(!h.setImmediate&&typeof h.MessageChannel<"u"){var v=new h.MessageChannel;v.port1.onmessage=K,g=function(){v.port2.postMessage(0)}}else"document"in h&&"onreadystatechange"in h.document.createElement("script")?g=function(){var G=h.document.createElement("script");G.onreadystatechange=function(){K(),G.onreadystatechange=null,G.parentNode.removeChild(G),G=null},h.document.documentElement.appendChild(G)}:g=function(){setTimeout(K,0)};var R,F=[];function K(){R=!0;for(var G,ae,V=F.length;V;){for(ae=F,F=[],G=-1;++G<V;)ae[G]();V=F.length}R=!1}o.exports=D;function D(G){F.push(G)===1&&!R&&g()}}).call(this,typeof At<"u"?At:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,o,c){var h=r(1);function _(){}var g={},w=["REJECTED"],b=["FULFILLED"],y=["PENDING"];o.exports=v;function v(M){if(typeof M!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,M!==_&&D(this,M)}v.prototype.catch=function(M){return this.then(null,M)},v.prototype.then=function(M,ee){if(typeof M!="function"&&this.state===b||typeof ee!="function"&&this.state===w)return this;var X=new this.constructor(_);if(this.state!==y){var ue=this.state===b?M:ee;F(X,ue,this.outcome)}else this.queue.push(new R(X,M,ee));return X};function R(M,ee,X){this.promise=M,typeof ee=="function"&&(this.onFulfilled=ee,this.callFulfilled=this.otherCallFulfilled),typeof X=="function"&&(this.onRejected=X,this.callRejected=this.otherCallRejected)}R.prototype.callFulfilled=function(M){g.resolve(this.promise,M)},R.prototype.otherCallFulfilled=function(M){F(this.promise,this.onFulfilled,M)},R.prototype.callRejected=function(M){g.reject(this.promise,M)},R.prototype.otherCallRejected=function(M){F(this.promise,this.onRejected,M)};function F(M,ee,X){h(function(){var ue;try{ue=ee(X)}catch(fe){return g.reject(M,fe)}ue===M?g.reject(M,new TypeError("Cannot resolve promise with itself")):g.resolve(M,ue)})}g.resolve=function(M,ee){var X=G(K,ee);if(X.status==="error")return g.reject(M,X.value);var ue=X.value;if(ue)D(M,ue);else{M.state=b,M.outcome=ee;for(var fe=-1,De=M.queue.length;++fe<De;)M.queue[fe].callFulfilled(ee)}return M},g.reject=function(M,ee){M.state=w,M.outcome=ee;for(var X=-1,ue=M.queue.length;++X<ue;)M.queue[X].callRejected(ee);return M};function K(M){var ee=M&&M.then;if(M&&(typeof M=="object"||typeof M=="function")&&typeof ee=="function")return function(){ee.apply(M,arguments)}}function D(M,ee){var X=!1;function ue(Re){X||(X=!0,g.reject(M,Re))}function fe(Re){X||(X=!0,g.resolve(M,Re))}function De(){ee(fe,ue)}var te=G(De);te.status==="error"&&ue(te.value)}function G(M,ee){var X={};try{X.value=M(ee),X.status="success"}catch(ue){X.status="error",X.value=ue}return X}v.resolve=ae;function ae(M){return M instanceof this?M:g.resolve(new this(_),M)}v.reject=V;function V(M){var ee=new this(_);return g.reject(ee,M)}v.all=we;function we(M){var ee=this;if(Object.prototype.toString.call(M)!=="[object Array]")return this.reject(new TypeError("must be an array"));var X=M.length,ue=!1;if(!X)return this.resolve([]);for(var fe=new Array(X),De=0,te=-1,Re=new this(_);++te<X;)Ue(M[te],te);return Re;function Ue(It,sa){ee.resolve(It).then(Aa,function(We){ue||(ue=!0,g.reject(Re,We))});function Aa(We){fe[sa]=We,++De===X&&!ue&&(ue=!0,g.resolve(Re,fe))}}}v.race=be;function be(M){var ee=this;if(Object.prototype.toString.call(M)!=="[object Array]")return this.reject(new TypeError("must be an array"));var X=M.length,ue=!1;if(!X)return this.resolve([]);for(var fe=-1,De=new this(_);++fe<X;)te(M[fe]);return De;function te(Re){ee.resolve(Re).then(function(Ue){ue||(ue=!0,g.resolve(De,Ue))},function(Ue){ue||(ue=!0,g.reject(De,Ue))})}}},{1:1}],3:[function(r,o,c){(function(h){typeof h.Promise!="function"&&(h.Promise=r(2))}).call(this,typeof At<"u"?At:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,o,c){var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p};function _(p,S){if(!(p instanceof S))throw new TypeError("Cannot call a class as a function")}function g(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var w=g();function b(){try{if(!w||!w.open)return!1;var p=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),S=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!p||S)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function y(p,S){p=p||[],S=S||{};try{return new Blob(p,S)}catch(P){if(P.name!=="TypeError")throw P;for(var f=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,A=new f,k=0;k<p.length;k+=1)A.append(p[k]);return A.getBlob(S.type)}}typeof Promise>"u"&&r(3);var v=Promise;function R(p,S){S&&p.then(function(f){S(null,f)},function(f){S(f)})}function F(p,S,f){typeof S=="function"&&p.then(S),typeof f=="function"&&p.catch(f)}function K(p){return typeof p!="string"&&(console.warn(p+" used as a key, but it is not a string."),p=String(p)),p}function D(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var G="local-forage-detect-blob-support",ae=void 0,V={},we=Object.prototype.toString,be="readonly",M="readwrite";function ee(p){for(var S=p.length,f=new ArrayBuffer(S),A=new Uint8Array(f),k=0;k<S;k++)A[k]=p.charCodeAt(k);return f}function X(p){return new v(function(S){var f=p.transaction(G,M),A=y([""]);f.objectStore(G).put(A,"key"),f.onabort=function(k){k.preventDefault(),k.stopPropagation(),S(!1)},f.oncomplete=function(){var k=navigator.userAgent.match(/Chrome\/(\d+)/),P=navigator.userAgent.match(/Edge\//);S(P||!k||parseInt(k[1],10)>=43)}}).catch(function(){return!1})}function ue(p){return typeof ae=="boolean"?v.resolve(ae):X(p).then(function(S){return ae=S,ae})}function fe(p){var S=V[p.name],f={};f.promise=new v(function(A,k){f.resolve=A,f.reject=k}),S.deferredOperations.push(f),S.dbReady?S.dbReady=S.dbReady.then(function(){return f.promise}):S.dbReady=f.promise}function De(p){var S=V[p.name],f=S.deferredOperations.pop();if(f)return f.resolve(),f.promise}function te(p,S){var f=V[p.name],A=f.deferredOperations.pop();if(A)return A.reject(S),A.promise}function Re(p,S){return new v(function(f,A){if(V[p.name]=V[p.name]||ja(),p.db)if(S)fe(p),p.db.close();else return f(p.db);var k=[p.name];S&&k.push(p.version);var P=w.open.apply(w,k);S&&(P.onupgradeneeded=function(x){var z=P.result;try{z.createObjectStore(p.storeName),x.oldVersion<=1&&z.createObjectStore(G)}catch(q){if(q.name==="ConstraintError")console.warn('The database "'+p.name+'" has been upgraded from version '+x.oldVersion+" to version "+x.newVersion+', but the storage "'+p.storeName+'" already exists.');else throw q}}),P.onerror=function(x){x.preventDefault(),A(P.error)},P.onsuccess=function(){var x=P.result;x.onversionchange=function(z){z.target.close()},f(x),De(p)}})}function Ue(p){return Re(p,!1)}function It(p){return Re(p,!0)}function sa(p,S){if(!p.db)return!0;var f=!p.db.objectStoreNames.contains(p.storeName),A=p.version<p.db.version,k=p.version>p.db.version;if(A&&(p.version!==S&&console.warn('The database "'+p.name+`" can't be downgraded from version `+p.db.version+" to version "+p.version+"."),p.version=p.db.version),k||f){if(f){var P=p.db.version+1;P>p.version&&(p.version=P)}return!0}return!1}function Aa(p){return new v(function(S,f){var A=new FileReader;A.onerror=f,A.onloadend=function(k){var P=btoa(k.target.result||"");S({__local_forage_encoded_blob:!0,data:P,type:p.type})},A.readAsBinaryString(p)})}function We(p){var S=ee(atob(p.data));return y([S],{type:p.type})}function nt(p){return p&&p.__local_forage_encoded_blob}function dn(p){var S=this,f=S._initReady().then(function(){var A=V[S._dbInfo.name];if(A&&A.dbReady)return A.dbReady});return F(f,p,p),f}function oa(p){fe(p);for(var S=V[p.name],f=S.forages,A=0;A<f.length;A++){var k=f[A];k._dbInfo.db&&(k._dbInfo.db.close(),k._dbInfo.db=null)}return p.db=null,Ue(p).then(function(P){return p.db=P,sa(p)?It(p):P}).then(function(P){p.db=S.db=P;for(var x=0;x<f.length;x++)f[x]._dbInfo.db=P}).catch(function(P){throw te(p,P),P})}function xe(p,S,f,A){A===void 0&&(A=1);try{var k=p.db.transaction(p.storeName,S);f(null,k)}catch(P){if(A>0&&(!p.db||P.name==="InvalidStateError"||P.name==="NotFoundError"))return v.resolve().then(function(){if(!p.db||P.name==="NotFoundError"&&!p.db.objectStoreNames.contains(p.storeName)&&p.version<=p.db.version)return p.db&&(p.version=p.db.version+1),It(p)}).then(function(){return oa(p).then(function(){xe(p,S,f,A-1)})}).catch(f);f(P)}}function ja(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function hn(p){var S=this,f={db:null};if(p)for(var A in p)f[A]=p[A];var k=V[f.name];k||(k=ja(),V[f.name]=k),k.forages.push(S),S._initReady||(S._initReady=S.ready,S.ready=dn);var P=[];function x(){return v.resolve()}for(var z=0;z<k.forages.length;z++){var q=k.forages[z];q!==S&&P.push(q._initReady().catch(x))}var B=k.forages.slice(0);return v.all(P).then(function(){return f.db=k.db,Ue(f)}).then(function(U){return f.db=U,sa(f,S._defaultConfig.version)?It(f):U}).then(function(U){f.db=k.db=U,S._dbInfo=f;for(var W=0;W<B.length;W++){var le=B[W];le!==S&&(le._dbInfo.db=f.db,le._dbInfo.version=f.version)}})}function fn(p,S){var f=this;p=K(p);var A=new v(function(k,P){f.ready().then(function(){xe(f._dbInfo,be,function(x,z){if(x)return P(x);try{var q=z.objectStore(f._dbInfo.storeName),B=q.get(p);B.onsuccess=function(){var U=B.result;U===void 0&&(U=null),nt(U)&&(U=We(U)),k(U)},B.onerror=function(){P(B.error)}}catch(U){P(U)}})}).catch(P)});return R(A,S),A}function Lt(p,S){var f=this,A=new v(function(k,P){f.ready().then(function(){xe(f._dbInfo,be,function(x,z){if(x)return P(x);try{var q=z.objectStore(f._dbInfo.storeName),B=q.openCursor(),U=1;B.onsuccess=function(){var W=B.result;if(W){var le=W.value;nt(le)&&(le=We(le));var _e=p(le,W.key,U++);_e!==void 0?k(_e):W.continue()}else k()},B.onerror=function(){P(B.error)}}catch(W){P(W)}})}).catch(P)});return R(A,S),A}function la(p,S,f){var A=this;p=K(p);var k=new v(function(P,x){var z;A.ready().then(function(){return z=A._dbInfo,we.call(S)==="[object Blob]"?ue(z.db).then(function(q){return q?S:Aa(S)}):S}).then(function(q){xe(A._dbInfo,M,function(B,U){if(B)return x(B);try{var W=U.objectStore(A._dbInfo.storeName);q===null&&(q=void 0);var le=W.put(q,p);U.oncomplete=function(){q===void 0&&(q=null),P(q)},U.onabort=U.onerror=function(){var _e=le.error?le.error:le.transaction.error;x(_e)}}catch(_e){x(_e)}})}).catch(x)});return R(k,f),k}function gn(p,S){var f=this;p=K(p);var A=new v(function(k,P){f.ready().then(function(){xe(f._dbInfo,M,function(x,z){if(x)return P(x);try{var q=z.objectStore(f._dbInfo.storeName),B=q.delete(p);z.oncomplete=function(){k()},z.onerror=function(){P(B.error)},z.onabort=function(){var U=B.error?B.error:B.transaction.error;P(U)}}catch(U){P(U)}})}).catch(P)});return R(A,S),A}function jt(p){var S=this,f=new v(function(A,k){S.ready().then(function(){xe(S._dbInfo,M,function(P,x){if(P)return k(P);try{var z=x.objectStore(S._dbInfo.storeName),q=z.clear();x.oncomplete=function(){A()},x.onabort=x.onerror=function(){var B=q.error?q.error:q.transaction.error;k(B)}}catch(B){k(B)}})}).catch(k)});return R(f,p),f}function Ht(p){var S=this,f=new v(function(A,k){S.ready().then(function(){xe(S._dbInfo,be,function(P,x){if(P)return k(P);try{var z=x.objectStore(S._dbInfo.storeName),q=z.count();q.onsuccess=function(){A(q.result)},q.onerror=function(){k(q.error)}}catch(B){k(B)}})}).catch(k)});return R(f,p),f}function _n(p,S){var f=this,A=new v(function(k,P){if(p<0){k(null);return}f.ready().then(function(){xe(f._dbInfo,be,function(x,z){if(x)return P(x);try{var q=z.objectStore(f._dbInfo.storeName),B=!1,U=q.openKeyCursor();U.onsuccess=function(){var W=U.result;if(!W){k(null);return}p===0||B?k(W.key):(B=!0,W.advance(p))},U.onerror=function(){P(U.error)}}catch(W){P(W)}})}).catch(P)});return R(A,S),A}function ca(p){var S=this,f=new v(function(A,k){S.ready().then(function(){xe(S._dbInfo,be,function(P,x){if(P)return k(P);try{var z=x.objectStore(S._dbInfo.storeName),q=z.openKeyCursor(),B=[];q.onsuccess=function(){var U=q.result;if(!U){A(B);return}B.push(U.key),U.continue()},q.onerror=function(){k(q.error)}}catch(U){k(U)}})}).catch(k)});return R(f,p),f}function ua(p,S){S=D.apply(this,arguments);var f=this.config();p=typeof p!="function"&&p||{},p.name||(p.name=p.name||f.name,p.storeName=p.storeName||f.storeName);var A=this,k;if(!p.name)k=v.reject("Invalid arguments");else{var P=p.name===f.name&&A._dbInfo.db,x=P?v.resolve(A._dbInfo.db):Ue(p).then(function(z){var q=V[p.name],B=q.forages;q.db=z;for(var U=0;U<B.length;U++)B[U]._dbInfo.db=z;return z});p.storeName?k=x.then(function(z){if(z.objectStoreNames.contains(p.storeName)){var q=z.version+1;fe(p);var B=V[p.name],U=B.forages;z.close();for(var W=0;W<U.length;W++){var le=U[W];le._dbInfo.db=null,le._dbInfo.version=q}var _e=new v(function(ye,Ee){var Ce=w.open(p.name,q);Ce.onerror=function(Qe){var fa=Ce.result;fa.close(),Ee(Qe)},Ce.onupgradeneeded=function(){var Qe=Ce.result;Qe.deleteObjectStore(p.storeName)},Ce.onsuccess=function(){var Qe=Ce.result;Qe.close(),ye(Qe)}});return _e.then(function(ye){B.db=ye;for(var Ee=0;Ee<U.length;Ee++){var Ce=U[Ee];Ce._dbInfo.db=ye,De(Ce._dbInfo)}}).catch(function(ye){throw(te(p,ye)||v.resolve()).catch(function(){}),ye})}}):k=x.then(function(z){fe(p);var q=V[p.name],B=q.forages;z.close();for(var U=0;U<B.length;U++){var W=B[U];W._dbInfo.db=null}var le=new v(function(_e,ye){var Ee=w.deleteDatabase(p.name);Ee.onerror=function(){var Ce=Ee.result;Ce&&Ce.close(),ye(Ee.error)},Ee.onblocked=function(){console.warn('dropInstance blocked for database "'+p.name+'" until all open connections are closed')},Ee.onsuccess=function(){var Ce=Ee.result;Ce&&Ce.close(),_e(Ce)}});return le.then(function(_e){q.db=_e;for(var ye=0;ye<B.length;ye++){var Ee=B[ye];De(Ee._dbInfo)}}).catch(function(_e){throw(te(p,_e)||v.resolve()).catch(function(){}),_e})})}return R(k,S),k}var Ha={_driver:"asyncStorage",_initStorage:hn,_support:b(),iterate:Lt,getItem:fn,setItem:la,removeItem:gn,clear:jt,length:Ht,key:_n,keys:ca,dropInstance:ua};function Xe(){return typeof openDatabase=="function"}var se="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pa="~~local_forage_type~",ie=/^~~local_forage_type~([^~]+)~/,rt="__lfsc__:",_t=rt.length,Et="arbf",Fe="blob",je="si08",Le="ui08",Gt="uic8",ct="si16",Ga="si32",kt="ur16",Ke="ui32",Wt="fl32",Kt="fl64",da=_t+Et.length,Vt=Object.prototype.toString;function Ze(p){var S=p.length*.75,f=p.length,A,k=0,P,x,z,q;p[p.length-1]==="="&&(S--,p[p.length-2]==="="&&S--);var B=new ArrayBuffer(S),U=new Uint8Array(B);for(A=0;A<f;A+=4)P=se.indexOf(p[A]),x=se.indexOf(p[A+1]),z=se.indexOf(p[A+2]),q=se.indexOf(p[A+3]),U[k++]=P<<2|x>>4,U[k++]=(x&15)<<4|z>>2,U[k++]=(z&3)<<6|q&63;return B}function Je(p){var S=new Uint8Array(p),f="",A;for(A=0;A<S.length;A+=3)f+=se[S[A]>>2],f+=se[(S[A]&3)<<4|S[A+1]>>4],f+=se[(S[A+1]&15)<<2|S[A+2]>>6],f+=se[S[A+2]&63];return S.length%3===2?f=f.substring(0,f.length-1)+"=":S.length%3===1&&(f=f.substring(0,f.length-2)+"=="),f}function yn(p,S){var f="";if(p&&(f=Vt.call(p)),p&&(f==="[object ArrayBuffer]"||p.buffer&&Vt.call(p.buffer)==="[object ArrayBuffer]")){var A,k=rt;p instanceof ArrayBuffer?(A=p,k+=Et):(A=p.buffer,f==="[object Int8Array]"?k+=je:f==="[object Uint8Array]"?k+=Le:f==="[object Uint8ClampedArray]"?k+=Gt:f==="[object Int16Array]"?k+=ct:f==="[object Uint16Array]"?k+=kt:f==="[object Int32Array]"?k+=Ga:f==="[object Uint32Array]"?k+=Ke:f==="[object Float32Array]"?k+=Wt:f==="[object Float64Array]"?k+=Kt:S(new Error("Failed to get type for BinaryArray"))),S(k+Je(A))}else if(f==="[object Blob]"){var P=new FileReader;P.onload=function(){var x=pa+p.type+"~"+Je(this.result);S(rt+Fe+x)},P.readAsArrayBuffer(p)}else try{S(JSON.stringify(p))}catch(x){console.error("Couldn't convert value into a JSON string: ",p),S(null,x)}}function mn(p){if(p.substring(0,_t)!==rt)return JSON.parse(p);var S=p.substring(da),f=p.substring(_t,da),A;if(f===Fe&&ie.test(S)){var k=S.match(ie);A=k[1],S=S.substring(k[0].length)}var P=Ze(S);switch(f){case Et:return P;case Fe:return y([P],{type:A});case je:return new Int8Array(P);case Le:return new Uint8Array(P);case Gt:return new Uint8ClampedArray(P);case ct:return new Int16Array(P);case kt:return new Uint16Array(P);case Ga:return new Int32Array(P);case Ke:return new Uint32Array(P);case Wt:return new Float32Array(P);case Kt:return new Float64Array(P);default:throw new Error("Unkown type: "+f)}}var Ia={serialize:yn,deserialize:mn,stringToBuffer:Ze,bufferToString:Je};function Qn(p,S,f,A){p.executeSql("CREATE TABLE IF NOT EXISTS "+S.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],f,A)}function pi(p){var S=this,f={db:null};if(p)for(var A in p)f[A]=typeof p[A]!="string"?p[A].toString():p[A];var k=new v(function(P,x){try{f.db=openDatabase(f.name,String(f.version),f.description,f.size)}catch(z){return x(z)}f.db.transaction(function(z){Qn(z,f,function(){S._dbInfo=f,P()},function(q,B){x(B)})},x)});return f.serializer=Ia,k}function Ot(p,S,f,A,k,P){p.executeSql(f,A,k,function(x,z){z.code===z.SYNTAX_ERR?x.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[S.storeName],function(q,B){B.rows.length?P(q,z):Qn(q,S,function(){q.executeSql(f,A,k,P)},P)},P):P(x,z)},P)}function er(p,S){var f=this;p=K(p);var A=new v(function(k,P){f.ready().then(function(){var x=f._dbInfo;x.db.transaction(function(z){Ot(z,x,"SELECT * FROM "+x.storeName+" WHERE key = ? LIMIT 1",[p],function(q,B){var U=B.rows.length?B.rows.item(0).value:null;U&&(U=x.serializer.deserialize(U)),k(U)},function(q,B){P(B)})})}).catch(P)});return R(A,S),A}function tr(p,S){var f=this,A=new v(function(k,P){f.ready().then(function(){var x=f._dbInfo;x.db.transaction(function(z){Ot(z,x,"SELECT * FROM "+x.storeName,[],function(q,B){for(var U=B.rows,W=U.length,le=0;le<W;le++){var _e=U.item(le),ye=_e.value;if(ye&&(ye=x.serializer.deserialize(ye)),ye=p(ye,_e.key,le+1),ye!==void 0){k(ye);return}}k()},function(q,B){P(B)})})}).catch(P)});return R(A,S),A}function ar(p,S,f,A){var k=this;p=K(p);var P=new v(function(x,z){k.ready().then(function(){S===void 0&&(S=null);var q=S,B=k._dbInfo;B.serializer.serialize(S,function(U,W){W?z(W):B.db.transaction(function(le){Ot(le,B,"INSERT OR REPLACE INTO "+B.storeName+" (key, value) VALUES (?, ?)",[p,U],function(){x(q)},function(_e,ye){z(ye)})},function(le){if(le.code===le.QUOTA_ERR){if(A>0){x(ar.apply(k,[p,q,f,A-1]));return}z(le)}})})}).catch(z)});return R(P,f),P}function di(p,S,f){return ar.apply(this,[p,S,f,1])}function hi(p,S){var f=this;p=K(p);var A=new v(function(k,P){f.ready().then(function(){var x=f._dbInfo;x.db.transaction(function(z){Ot(z,x,"DELETE FROM "+x.storeName+" WHERE key = ?",[p],function(){k()},function(q,B){P(B)})})}).catch(P)});return R(A,S),A}function fi(p){var S=this,f=new v(function(A,k){S.ready().then(function(){var P=S._dbInfo;P.db.transaction(function(x){Ot(x,P,"DELETE FROM "+P.storeName,[],function(){A()},function(z,q){k(q)})})}).catch(k)});return R(f,p),f}function nr(p){var S=this,f=new v(function(A,k){S.ready().then(function(){var P=S._dbInfo;P.db.transaction(function(x){Ot(x,P,"SELECT COUNT(key) as c FROM "+P.storeName,[],function(z,q){var B=q.rows.item(0).c;A(B)},function(z,q){k(q)})})}).catch(k)});return R(f,p),f}function gi(p,S){var f=this,A=new v(function(k,P){f.ready().then(function(){var x=f._dbInfo;x.db.transaction(function(z){Ot(z,x,"SELECT key FROM "+x.storeName+" WHERE id = ? LIMIT 1",[p+1],function(q,B){var U=B.rows.length?B.rows.item(0).key:null;k(U)},function(q,B){P(B)})})}).catch(P)});return R(A,S),A}function _i(p){var S=this,f=new v(function(A,k){S.ready().then(function(){var P=S._dbInfo;P.db.transaction(function(x){Ot(x,P,"SELECT key FROM "+P.storeName,[],function(z,q){for(var B=[],U=0;U<q.rows.length;U++)B.push(q.rows.item(U).key);A(B)},function(z,q){k(q)})})}).catch(k)});return R(f,p),f}function yi(p){return new v(function(S,f){p.transaction(function(A){A.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(k,P){for(var x=[],z=0;z<P.rows.length;z++)x.push(P.rows.item(z).name);S({db:p,storeNames:x})},function(k,P){f(P)})},function(A){f(A)})})}function wn(p,S){S=D.apply(this,arguments);var f=this.config();p=typeof p!="function"&&p||{},p.name||(p.name=p.name||f.name,p.storeName=p.storeName||f.storeName);var A=this,k;return p.name?k=new v(function(P){var x;p.name===f.name?x=A._dbInfo.db:x=openDatabase(p.name,"","",0),p.storeName?P({db:x,storeNames:[p.storeName]}):P(yi(x))}).then(function(P){return new v(function(x,z){P.db.transaction(function(q){function B(_e){return new v(function(ye,Ee){q.executeSql("DROP TABLE IF EXISTS "+_e,[],function(){ye()},function(Ce,Qe){Ee(Qe)})})}for(var U=[],W=0,le=P.storeNames.length;W<le;W++)U.push(B(P.storeNames[W]));v.all(U).then(function(){x()}).catch(function(_e){z(_e)})},function(q){z(q)})})}):k=v.reject("Invalid arguments"),R(k,S),k}var mi={_driver:"webSQLStorage",_initStorage:pi,_support:Xe(),iterate:tr,getItem:er,setItem:di,removeItem:hi,clear:fi,length:nr,key:gi,keys:_i,dropInstance:wn};function vn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function rr(p,S){var f=p.name+"/";return p.storeName!==S.storeName&&(f+=p.storeName+"/"),f}function wi(){var p="_localforage_support_test";try{return localStorage.setItem(p,!0),localStorage.removeItem(p),!1}catch{return!0}}function vi(){return!wi()||localStorage.length>0}function bi(p){var S=this,f={};if(p)for(var A in p)f[A]=p[A];return f.keyPrefix=rr(p,S._defaultConfig),vi()?(S._dbInfo=f,f.serializer=Ia,v.resolve()):v.reject()}function Si(p){var S=this,f=S.ready().then(function(){for(var A=S._dbInfo.keyPrefix,k=localStorage.length-1;k>=0;k--){var P=localStorage.key(k);P.indexOf(A)===0&&localStorage.removeItem(P)}});return R(f,p),f}function Ci(p,S){var f=this;p=K(p);var A=f.ready().then(function(){var k=f._dbInfo,P=localStorage.getItem(k.keyPrefix+p);return P&&(P=k.serializer.deserialize(P)),P});return R(A,S),A}function Pi(p,S){var f=this,A=f.ready().then(function(){for(var k=f._dbInfo,P=k.keyPrefix,x=P.length,z=localStorage.length,q=1,B=0;B<z;B++){var U=localStorage.key(B);if(U.indexOf(P)===0){var W=localStorage.getItem(U);if(W&&(W=k.serializer.deserialize(W)),W=p(W,U.substring(x),q++),W!==void 0)return W}}});return R(A,S),A}function Ai(p,S){var f=this,A=f.ready().then(function(){var k=f._dbInfo,P;try{P=localStorage.key(p)}catch{P=null}return P&&(P=P.substring(k.keyPrefix.length)),P});return R(A,S),A}function ir(p){var S=this,f=S.ready().then(function(){for(var A=S._dbInfo,k=localStorage.length,P=[],x=0;x<k;x++){var z=localStorage.key(x);z.indexOf(A.keyPrefix)===0&&P.push(z.substring(A.keyPrefix.length))}return P});return R(f,p),f}function Ii(p){var S=this,f=S.keys().then(function(A){return A.length});return R(f,p),f}function Ei(p,S){var f=this;p=K(p);var A=f.ready().then(function(){var k=f._dbInfo;localStorage.removeItem(k.keyPrefix+p)});return R(A,S),A}function ki(p,S,f){var A=this;p=K(p);var k=A.ready().then(function(){S===void 0&&(S=null);var P=S;return new v(function(x,z){var q=A._dbInfo;q.serializer.serialize(S,function(B,U){if(U)z(U);else try{localStorage.setItem(q.keyPrefix+p,B),x(P)}catch(W){(W.name==="QuotaExceededError"||W.name==="NS_ERROR_DOM_QUOTA_REACHED")&&z(W),z(W)}})})});return R(k,f),k}function Ri(p,S){if(S=D.apply(this,arguments),p=typeof p!="function"&&p||{},!p.name){var f=this.config();p.name=p.name||f.name,p.storeName=p.storeName||f.storeName}var A=this,k;return p.name?k=new v(function(P){p.storeName?P(rr(p,A._defaultConfig)):P(p.name+"/")}).then(function(P){for(var x=localStorage.length-1;x>=0;x--){var z=localStorage.key(x);z.indexOf(P)===0&&localStorage.removeItem(z)}}):k=v.reject("Invalid arguments"),R(k,S),k}var $i={_driver:"localStorageWrapper",_initStorage:bi,_support:vn(),iterate:Pi,getItem:Ci,setItem:ki,removeItem:Ei,clear:Si,length:Ii,key:Ai,keys:ir,dropInstance:Ri},Ti=function(S,f){return S===f||typeof S=="number"&&typeof f=="number"&&isNaN(S)&&isNaN(f)},Wa=function(S,f){for(var A=S.length,k=0;k<A;){if(Ti(S[k],f))return!0;k++}return!1},sr=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"},Dt={},or={},ha={INDEXEDDB:Ha,WEBSQL:mi,LOCALSTORAGE:$i},xi=[ha.INDEXEDDB._driver,ha.WEBSQL._driver,ha.LOCALSTORAGE._driver],Ea=["dropInstance"],Ka=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ea),lr={description:"",driver:xi.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Li(p,S){p[S]=function(){var f=arguments;return p.ready().then(function(){return p[S].apply(p,f)})}}function bn(){for(var p=1;p<arguments.length;p++){var S=arguments[p];if(S)for(var f in S)S.hasOwnProperty(f)&&(sr(S[f])?arguments[0][f]=S[f].slice():arguments[0][f]=S[f])}return arguments[0]}var Oi=function(){function p(S){_(this,p);for(var f in ha)if(ha.hasOwnProperty(f)){var A=ha[f],k=A._driver;this[f]=k,Dt[k]||this.defineDriver(A)}this._defaultConfig=bn({},lr),this._config=bn({},this._defaultConfig,S),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return p.prototype.config=function(f){if((typeof f>"u"?"undefined":h(f))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var A in f){if(A==="storeName"&&(f[A]=f[A].replace(/\W/g,"_")),A==="version"&&typeof f[A]!="number")return new Error("Database version must be a number.");this._config[A]=f[A]}return"driver"in f&&f.driver?this.setDriver(this._config.driver):!0}else return typeof f=="string"?this._config[f]:this._config},p.prototype.defineDriver=function(f,A,k){var P=new v(function(x,z){try{var q=f._driver,B=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!f._driver){z(B);return}for(var U=Ka.concat("_initStorage"),W=0,le=U.length;W<le;W++){var _e=U[W],ye=!Wa(Ea,_e);if((ye||f[_e])&&typeof f[_e]!="function"){z(B);return}}var Ee=function(){for(var fa=function(ur){return function(){var zi=new Error("Method "+ur+" is not implemented by the current driver"),pr=v.reject(zi);return R(pr,arguments[arguments.length-1]),pr}},Sn=0,cr=Ea.length;Sn<cr;Sn++){var Va=Ea[Sn];f[Va]||(f[Va]=fa(Va))}};Ee();var Ce=function(fa){Dt[q]&&console.info("Redefining LocalForage driver: "+q),Dt[q]=f,or[q]=fa,x()};"_support"in f?f._support&&typeof f._support=="function"?f._support().then(Ce,z):Ce(!!f._support):Ce(!0)}catch(Qe){z(Qe)}});return F(P,A,k),P},p.prototype.driver=function(){return this._driver||null},p.prototype.getDriver=function(f,A,k){var P=Dt[f]?v.resolve(Dt[f]):v.reject(new Error("Driver not found."));return F(P,A,k),P},p.prototype.getSerializer=function(f){var A=v.resolve(Ia);return F(A,f),A},p.prototype.ready=function(f){var A=this,k=A._driverSet.then(function(){return A._ready===null&&(A._ready=A._initDriver()),A._ready});return F(k,f,f),k},p.prototype.setDriver=function(f,A,k){var P=this;sr(f)||(f=[f]);var x=this._getSupportedDrivers(f);function z(){P._config.driver=P.driver()}function q(W){return P._extend(W),z(),P._ready=P._initStorage(P._config),P._ready}function B(W){return function(){var le=0;function _e(){for(;le<W.length;){var ye=W[le];return le++,P._dbInfo=null,P._ready=null,P.getDriver(ye).then(q).catch(_e)}z();var Ee=new Error("No available storage method found.");return P._driverSet=v.reject(Ee),P._driverSet}return _e()}}var U=this._driverSet!==null?this._driverSet.catch(function(){return v.resolve()}):v.resolve();return this._driverSet=U.then(function(){var W=x[0];return P._dbInfo=null,P._ready=null,P.getDriver(W).then(function(le){P._driver=le._driver,z(),P._wrapLibraryMethodsWithReady(),P._initDriver=B(x)})}).catch(function(){z();var W=new Error("No available storage method found.");return P._driverSet=v.reject(W),P._driverSet}),F(this._driverSet,A,k),this._driverSet},p.prototype.supports=function(f){return!!or[f]},p.prototype._extend=function(f){bn(this,f)},p.prototype._getSupportedDrivers=function(f){for(var A=[],k=0,P=f.length;k<P;k++){var x=f[k];this.supports(x)&&A.push(x)}return A},p.prototype._wrapLibraryMethodsWithReady=function(){for(var f=0,A=Ka.length;f<A;f++)Li(this,Ka[f])},p.prototype.createInstance=function(f){return new p(f)},p}(),Di=new Oi;o.exports=Di},{3:3}]},{},[4])(4)})}(yc)),yc.exports}r0();var mc,Mf;function i0(){var a;return Mf||(Mf=1,mc=(a=window.Shopware)==null?void 0:a.Vue),mc}i0();fg({handle:ni,send:Vn});const s0={module:n0};Shopware.Component.register("swag-paypal-method-domain-association",()=>Te(()=>import("./index-DnLidD0f.js"),__vite__mapDeps([15,16])));Shopware.Component.register("swag-paypal-method-merchant-information",()=>Te(()=>import("./index-DW5rY_2a.js"),__vite__mapDeps([17,18])));Shopware.Component.register("swag-paypal-payment-method",()=>Te(()=>import("./index-D8Q_Oavj.js"),__vite__mapDeps([19,20])));Shopware.Component.register("swag-paypal-method-card",()=>Te(()=>import("./index-BBIxhann.js"),__vite__mapDeps([21,22])));Shopware.Component.override("sw-plugin-box",()=>Te(()=>import("./index-QD0Oy9I0.js"),[]));Shopware.Component.override("sw-settings-payment-detail",()=>Te(()=>import("./index-COETuq5G.js"),__vite__mapDeps([23,24])));s0.module.payment.overviewCard.add({positionId:"swag-paypal-method-card-before",component:"swag-paypal-method-card",paymentMethodHandlers:["handler_swag_trustlyapmhandler","handler_swag_sofortapmhandler","handler_swag_p24apmhandler","handler_swag_oxxoapmhandler","handler_swag_mybankapmhandler","handler_swag_multibancoapmhandler","handler_swag_idealapmhandler","handler_swag_giropayapmhandler","handler_swag_epsapmhandler","handler_swag_blikapmhandler","handler_swag_bancontactapmhandler","handler_swag_sepahandler","handler_swag_acdchandler","handler_swag_puihandler","handler_swag_paypalpaymenthandler","handler_swag_pospayment","handler_swag_venmohandler","handler_swag_paylaterhandler","handler_swag_applepayhandler","handler_swag_googlepayhandler"]});const o0=`{% block swag_paypal_payment_actions_v2 %} <div> <div class="swag-paypal-payment-actions-v2__button-container"> <div> {% block swag_paypal_payment_actions_v2_void %} <mt-button v-if="showVoidButton" size="small" :disabled="!acl.can('order.editor')" variant="secondary" @click="spawnModal('void')" > {{ $t('swag-paypal-payment.buttons.label.void') }} </mt-button> {% endblock %} {% block swag_paypal_payment_actions_v2_capture %} <mt-button v-if="captureableAmount > 0" size="small" :disabled="!acl.can('order.editor')" variant="secondary" @click="spawnModal('capture')" > {{ $t('swag-paypal-payment.buttons.label.capture') }} </mt-button> {% endblock %} </div> {% block swag_paypal_payment_actions_v2_refund %} <mt-button variant="primary" size="small" :disabled="refundableAmount <= 0 || !acl.can('order.editor')" @click="spawnModal('refund')" > {{ $t('swag-paypal-payment.buttons.label.refund') }} </mt-button> {% endblock %} </div> {% block swag_paypal_payment_actions_v2_modal %} {% block swag_paypal_payment_actions_v2_modal_refund %} <swag-paypal-payment-action-v2-refund v-if="modalType === 'refund'" :orderTransactionId="orderTransactionId" :paypalOrder="paypalOrder" :paypalPartnerAttributionId="paypalPartnerAttributionId" :refundableAmount="refundableAmount" @modal-close="closeModal" /> {% endblock %} {% block swag_paypal_payment_actions_v2_modal_capture %} <swag-paypal-payment-action-v2-capture v-if="modalType === 'capture'" :orderTransactionId="orderTransactionId" :paypalOrder="paypalOrder" :paypalPartnerAttributionId="paypalPartnerAttributionId" :captureableAmount="captureableAmount" @modal-close="closeModal" /> {% endblock %} {% block swag_paypal_payment_actions_v2_modal_void %} <swag-paypal-payment-action-v2-void v-if="modalType === 'void'" :orderTransactionId="orderTransactionId" :paypalOrder="paypalOrder" :paypalPartnerAttributionId="paypalPartnerAttributionId" @modal-close="closeModal" /> {% endblock %} {% endblock %} </div> {% endblock %}`,l0=`{% block swag_paypal_payment_action_capture_v2 %} <sw-modal variant="small" :title="$t(\`swag-paypal-payment.modal.title.capture\`)" @modal-close="$emit('modal-close')" > {% block swag_paypal_payment_action_capture_v2_max_amount %} <mt-text-field v-model="captureableAmount" :label="$t('swag-paypal-payment.captureAction.maxAmount')" :disabled="true" > <template v-if="currencyCode" #suffix> {{ currencyCode }} </template> </mt-text-field> {% endblock %} {% block swag_paypal_payment_action_capture_v2_amount %} <mt-number-field v-model="captureAmount" :max="captureableAmount" :min="0" :label="$t('swag-paypal-payment.captureAction.currentAmount')" > <template v-if="currencyCode" #suffix> {{ currencyCode }} </template> </mt-number-field> {% endblock %} {% block swag_paypal_payment_action_capture_v2_invoice_number %} <mt-text-field v-model="captureInvoiceNumber" :max-length="127" :label="$t('swag-paypal-payment.captureAction.captureInvoiceNumber.label')" :placeholder="$t('swag-paypal-payment.captureAction.captureInvoiceNumber.placeholder')" /> {% endblock %} {% block swag_paypal_payment_action_capture_v2_note_to_payer %} <mt-textarea v-model="captureNoteToPayer" :max-length="255" :placeholder="$t('swag-paypal-payment.captureAction.captureNoteToPayer.placeholder')" :label="$t('swag-paypal-payment.captureAction.captureNoteToPayer.label')" /> {% endblock %} {% block swag_paypal_payment_action_capture_v2_is_final_capture %} <mt-checkbox v-model:checked="isFinalCapture" :label="$t('swag-paypal-payment.captureAction.isFinal')" /> {% endblock %} {% block swag_paypal_payment_action_capture_v2_hint %} <mt-banner v-if="showHint"> {{ $t('swag-paypal-payment.captureAction.isFinalHint') }} </mt-banner> {% endblock %} {% block swag_paypal_payment_action_capture_v2_confirm_button %} <template #modal-footer> <mt-button variant="primary" @click="capture"> {{ $t('swag-paypal-payment.captureAction.button.text') }} </mt-button> </template> {% endblock %} <sw-loader v-if="isLoading" /> </sw-modal> {% endblock %}`,{Component:c0}=Shopware;c0.register("swag-paypal-payment-action-v2-capture",{template:l0,inject:["SwagPayPalOrderService"],emits:["modal-close"],mixins:[Shopware.Mixin.getByName("notification")],props:{paypalOrder:{type:Object,required:!0},orderTransactionId:{type:String,required:!0},paypalPartnerAttributionId:{type:String,required:!0},captureableAmount:{type:Number,required:!0}},data(){return{authorization:{},isFinalCapture:!0,captureAmount:this.captureableAmount,captureInvoiceNumber:"",captureNoteToPayer:"",currencyCode:"",isLoading:!0}},computed:{showHint(){return this.isFinalCapture&&this.captureAmount!==this.captureableAmount}},created(){this.createdComponent()},methods:{createdComponent(){this.authorization=this.paypalOrder.purchase_units[0].payments.authorizations[0],this.currencyCode=this.authorization.amount.currency_code,this.isLoading=!1},capture(){this.isLoading=!0;let a=this.captureAmount;a===0&&(a=this.captureableAmount),this.SwagPayPalOrderService.captureAuthorization(this.orderTransactionId,this.authorization.id,this.currencyCode,a,this.captureInvoiceNumber,this.captureNoteToPayer,this.paypalPartnerAttributionId,this.isFinalCapture).then(()=>{this.createNotificationSuccess({message:this.$t("swag-paypal-payment.captureAction.successMessage")}),this.isLoading=!1,this.$emit("modal-close")}).catch(i=>{try{this.createNotificationError({message:`${i.response.data.errors[0].title}: ${i.response.data.errors[0].detail}`,autoClose:!1})}catch{this.createNotificationError({message:`${i.title}: ${i.message}`,autoClose:!1})}finally{this.isLoading=!1}})}}});const u0=`{% block swag_paypal_payment_action_refund_v2 %} <sw-modal variant="small" :title="$t(\`swag-paypal-payment.modal.title.refund\`)" @modal-close="$emit('modal-close')" > {% block swag_paypal_payment_action_refund_v2_capture_select %} <mt-select v-model="selectedCaptureId" :label="$t('swag-paypal-payment.refundAction.invoiceSelect.label')" :options="captureOptions" @update:modelValue="setCapture" /> {% endblock %} {% block swag_paypal_payment_action_refund_v2_invoice_number %} <mt-text-field v-model="refundInvoiceNumber" :max-length="127" :label="$t('swag-paypal-payment.refundAction.refundInvoiceNumber.label')" :placeholder="$t('swag-paypal-payment.refundAction.refundInvoiceNumber.placeholder')" /> {% endblock %} {% block swag_paypal_payment_action_refund_v2_amount %} <mt-number-field v-model="refundAmount" :max="refundableAmountForSelectedCapture" :min="0" :label="$t('swag-paypal-payment.refundAction.refundAmount.label')" :helpText="$t('swag-paypal-payment.refundAction.refundAmount.helpText')" > <template #suffix> {{ selectedCapture.amount.currency_code }} </template> </mt-number-field> {% endblock %} {% block swag_paypal_payment_action_refund_v2_note_to_payer %} <mt-textarea v-model="refundNoteToPayer" :max-length="255" :placeholder="$t('swag-paypal-payment.refundAction.refundNoteToPayer.placeholder')" :label="$t('swag-paypal-payment.refundAction.refundNoteToPayer.label')" /> {% endblock %} {% block swag_paypal_payment_action_refund_v2_confirm_button %} <template #modal-footer> <mt-button variant="primary" @click="refund"> {{ $t('swag-paypal-payment.refundAction.confirmButton.text') }} </mt-button> </template> {% endblock %} <sw-loader v-if="isLoading" /> </sw-modal> {% endblock %}`,p0="REFUNDED",d0="CREATED",h0="PARTIALLY_CAPTURED",f0="PENDING",{Component:g0,Filter:_0}=Shopware;g0.register("swag-paypal-payment-action-v2-refund",{template:u0,inject:["SwagPayPalOrderService"],emits:["modal-close"],mixins:[Shopware.Mixin.getByName("notification")],props:{paypalOrder:{type:Object,required:!0},orderTransactionId:{type:String,required:!0},paypalPartnerAttributionId:{type:String,required:!0},refundableAmount:{type:Number,required:!1,default:0}},data(){return{captures:[],selectedCapture:{},refundAmount:0,refundInvoiceNumber:"",refundNoteToPayer:"",selectedCaptureId:"",isLoading:!0}},computed:{dateFilter(){return _0.getByName("date")},refundableAmountForSelectedCapture(){return this.selectedCapture.amount.value>this.refundableAmount?Number(this.refundableAmount):Number(this.selectedCapture.amount.value)},captureOptions(){return this.captures.map(a=>({id:a.id,value:a.id,label:`${this.dateFilter(a.create_time)} (${a.amount.value} ${a.amount.currency_code}) - ${a.id} [${a.status}]`}))}},created(){this.createdComponent()},methods:{createdComponent(){this.getRefundableCaptures();const a=this.captures[0];this.selectedCaptureId=a.id,this.selectedCapture=a,this.refundAmount=this.refundableAmountForSelectedCapture,this.isLoading=!1},getRefundableCaptures(){const a=this.paypalOrder.purchase_units[0].payments.captures,i=[];a.forEach(r=>{r.status!==p0&&i.push(r)}),this.captures=i},setCapture(){this.selectedCapture=this.captures.find(a=>a.id===this.selectedCaptureId),this.refundAmount=this.refundableAmountForSelectedCapture},refund(){this.isLoading=!0;let a=this.refundAmount;a===0&&(a=this.selectedCapture.amount.value),this.SwagPayPalOrderService.refundCapture(this.orderTransactionId,this.selectedCapture.id,this.paypalOrder.id,this.selectedCapture.amount.currency_code,a,this.refundInvoiceNumber,this.refundNoteToPayer,this.paypalPartnerAttributionId).then(()=>{this.createNotificationSuccess({message:this.$t("swag-paypal-payment.refundAction.successMessage")}),this.isLoading=!1,this.$emit("modal-close")}).catch(i=>{try{this.createNotificationError({message:`${i.response.data.errors[0].title}: ${i.response.data.errors[0].detail}`,autoClose:!1})}catch{this.createNotificationError({message:`${i.title}: ${i.message}`,autoClose:!1})}finally{this.isLoading=!1}})}}});const y0=`{% block swag_paypal_paymemnt_action_v2_void %} <sw-modal variant="small" :title="$t(\`swag-paypal-payment.modal.title.void\`)" @modal-close="closeModal" > {% block swag_paypal_paymemnt_action_v2_void_headline %} <p>{{ $t('swag-paypal-payment.voidAction.confirm.message') }}</p> {% endblock %} <template #modal-footer> {% block swag_paypal_paymemnt_action_v2_void_cancel_button %} <mt-button variant="secondary" @click="closeModal"> {{ $t('global.default.no') }} </mt-button> {% endblock %} {% block swag_paypal_paymemnt_action_v2_void_confirm_button %} <mt-button variant="primary" @click="voidPayment"> {{ $t('swag-paypal-payment.voidAction.confirm.button.confirm') }} </mt-button> {% endblock %} </template> <sw-loader v-if="isLoading" size="43px" /> </sw-modal> {% endblock %}`,{Component:m0}=Shopware;m0.register("swag-paypal-payment-action-v2-void",{template:y0,inject:["SwagPayPalOrderService"],emits:["modal-close"],mixins:[Shopware.Mixin.getByName("notification")],props:{paypalOrder:{type:Object,required:!0},orderTransactionId:{type:String,required:!0},paypalPartnerAttributionId:{type:String,required:!0}},data(){return{isLoading:!1}},methods:{voidPayment(){this.isLoading=!0;const a=this.paypalOrder.purchase_units[0].payments.authorizations[0];this.SwagPayPalOrderService.voidAuthorization(this.orderTransactionId,a.id,this.paypalPartnerAttributionId).then(()=>{this.createNotificationSuccess({message:this.$t("swag-paypal-payment.voidAction.successMessage")}),this.isLoading=!1,this.closeModal()}).catch(i=>{try{this.createNotificationError({message:`${i.response.data.errors[0].title}: ${i.response.data.errors[0].detail}`,autoClose:!1})}catch{this.createNotificationError({message:`${i.title}: ${i.message}`,autoClose:!1})}finally{this.isLoading=!1}})},closeModal(){this.$emit("modal-close")}}});const{Component:w0}=Shopware;w0.register("swag-paypal-payment-actions-v2",{template:o0,inject:["acl"],emits:["reload-paypal-order"],props:{paypalOrder:{type:Object,required:!0},orderTransactionId:{type:String,required:!0},paypalPartnerAttributionId:{type:String,required:!0},refundableAmount:{type:Number,required:!0},captureableAmount:{type:Number,required:!0},showVoidButton:{type:Boolean,required:!0}},data(){return{modalType:""}},methods:{spawnModal(a){this.modalType=a},closeModal(){this.modalType="",this.$emit("reload-paypal-order")}}});const v0=`{% block swag_paypal_payment_details_v1 %} <div class="swag-paypal-payment-details_v1"> <mt-card position-identifier="swag-paypal-payment-details-v1" :title="$t('swag-paypal-payment.paymentDetails.cardTitle')" > <template #grid> <sw-card-section divider="top"> <sw-container columns="1fr" gap="0px 30px"> {% block swag_paypal_payment_detail_invoice %} {% block swag_paypal_payment_detail_invoice_heading %} <h3> {{ $t('swag-paypal-payment.paymentDetails.invoice.heading') }} </h3> {% endblock %} {% block swag_paypal_payment_detail_invoice_list %} <sw-description-list class="swag-paypal-payment-detail__data" grid="1fr 1fr"> <dt>{{ $t('swag-paypal-payment.paymentDetails.invoice.totalAmount') }}</dt> <dd>{{ amount.total }} {{ currency }}</dd> <dt>{{ $t('swag-paypal-payment.paymentDetails.invoice.subTotal') }}</dt> <dd> {{ amount.details.subtotal }} {{ currency }}</dd> <dt>{{ $t('swag-paypal-payment.paymentDetails.invoice.shipping') }}</dt> <dd> {{ amount.details.shipping }} {{ currency }}</dd> </sw-description-list> {% endblock %} {% block swag_paypal_payment_detail_payment %} {% block swag_paypal_payment_detail_payment_heading %} <h3 class="swag-paypal-payment-detail__heading"> {{ $t('swag-paypal-payment.paymentDetails.payment.heading') }} </h3> {% endblock %} {% block swag_paypal_payment_detail_payment_list %} <sw-description-list class="swag-paypal-payment-detail__data" grid="1fr 1fr"> <dt>{{ $t('swag-paypal-payment.paymentDetails.payment.intent') }}</dt> <dd>{{ $t(\`swag-paypal-settings.options.intent.\${paymentResource.intent}\`) }}</dd> <dt>{{ $t('swag-paypal-payment.paymentDetails.payment.paymentId') }}</dt> <dd>{{ paymentResource.id }}</dd> <dt>{{ $t('swag-paypal-payment.paymentDetails.payment.cartId') }}</dt> <dd>{{ paymentResource.cart }}</dd> <dt>{{ $t('swag-paypal-payment.paymentDetails.payment.state') }}</dt> <dd>{{ paymentResource.state }}</dd> <dt>{{ $t('swag-paypal-payment.paymentDetails.payment.createTime') }}</dt> <dd>{{ createDateTime }}</dd> <dt>{{ $t('swag-paypal-payment.paymentDetails.payment.updateTime') }}</dt> <dd>{{ updateDateTime }}</dd> </sw-description-list> {% endblock %} {% endblock %} {% block swag_paypal_payment_detail_customer %} {% block swag_paypal_payment_detail_customer_heading %} <h3 class="swag-paypal-payment-detail__heading"> {{ $t('swag-paypal-payment.paymentDetails.customer.heading') }} </h3> {% endblock %} {% block swag_paypal_payment_detail_customer_list %} <sw-description-list class="swag-paypal-payment-detail__data" grid="1fr 1fr"> <dt>{{ $t('swag-paypal-payment.paymentDetails.customer.payerId') }}</dt> <dd>{{ payerId }}</dd> </sw-description-list> {% endblock %} {% endblock %} {% endblock %} </sw-container> </sw-card-section> </template> </mt-card> {% block swag_paypal_payment_transaction_history_card %} <mt-card position-identifier="swag-paypal-payment-transaction-history-v1" :title="$t('swag-paypal-payment.transactionHistory.cardTitle')" > <template #grid> {% block swag_paypal_payment_transaction_history_grid %} <sw-data-grid :dataSource="relatedResources" :columns="relatedResourceColumns" :showActions="false" :showSelection="false" /> {% endblock %} </template> </mt-card> {% endblock %} </div> {% endblock %}`,{Component:b0,Filter:S0}=Shopware;b0.register("swag-paypal-payment-details-v1",{template:v0,props:{paymentResource:{type:Object,required:!0},orderId:{type:String,required:!0}},data(){return{relatedResources:[],createDateTime:"",updateDateTime:"",currency:"",amount:{},payerId:""}},computed:{dateFilter(){return S0.getByName("date")},relatedResourceColumns(){return[{property:"type",label:this.$t("swag-paypal-payment.transactionHistory.types.type"),rawData:!0},{property:"total",label:this.$t("swag-paypal-payment.transactionHistory.types.amount"),rawData:!0},{property:"id",label:this.$t("swag-paypal-payment.transactionHistory.types.trackingId"),rawData:!0},{property:"status",label:this.$t("swag-paypal-payment.transactionHistory.types.state"),rawData:!0},{property:"transactionFee",label:this.$t("swag-paypal-payment.transactionHistory.types.transactionFee"),rawData:!0},{property:"paymentMode",label:this.$t("swag-paypal-payment.transactionHistory.types.paymentMode"),rawData:!0},{property:"create",label:this.$t("swag-paypal-payment.transactionHistory.types.createTime"),rawData:!0},{property:"update",label:this.$t("swag-paypal-payment.transactionHistory.types.updateTime"),rawData:!0}]}},created(){this.createdComponent()},methods:{createdComponent(){this.createDateTime=this.formatDate(this.paymentResource.create_time),this.updateDateTime=this.formatDate(this.paymentResource.update_time),this.amount=this.paymentResource.transactions[0].amount,this.currency=this.paymentResource.transactions[0].amount.currency,this.paymentResource.payer&&this.paymentResource.payer.payer_info&&(this.payerId=this.paymentResource.payer.payer_info.payer_id),this.setRelatedResources()},setRelatedResources(){const a=this.paymentResource.transactions[0].related_resources;a&&a.forEach(i=>{i.sale&&this.pushRelatedResource("sale",i.sale),i.authorization&&this.pushRelatedResource("authorization",i.authorization),i.order&&this.pushRelatedResource("order",i.order),i.refund&&this.pushRelatedResource("refund",i.refund),i.capture&&this.pushRelatedResource("capture",i.capture)})},pushRelatedResource(a,i){let r=null;const o=i.amount.currency;i.transaction_fee&&(r=`${i.transaction_fee.value} ${o}`),this.relatedResources.push({id:i.id,type:this.$t(`swag-paypal-payment.transactionHistory.states.${a}`),total:`${i.amount.total} ${o}`,create:this.formatDate(i.create_time),createRaw:i.create_time,update:this.formatDate(i.update_time),transactionFee:r,status:i.state,paymentMode:i.payment_mode}),this.relatedResources.sort((c,h)=>{const _=new Date(c.createRaw),g=new Date(h.createRaw);return _-g})},formatDate(a){return this.dateFilter(a,{hour:"2-digit",minute:"2-digit",second:"2-digit"})}}});const C0=`{% block swag_paypal_payment_details_v2 %} <div class="swag-paypal-payment-details_v2"> <mt-card position-identifier="swag-paypal-payment-details-v2" :title="$t('swag-paypal-payment.paymentDetails.cardTitle')" > <template #grid> {% block swag_paypal_payment_actions_section %} <sw-card-section secondary slim> <swag-paypal-payment-actions-v2 :orderTransactionId="orderTransaction.id" :paypalOrder="paypalOrder" :paypalPartnerAttributionId="orderTransaction.customFields.swag_paypal_partner_attribution_id" :refundableAmount="refundableAmount" :captureableAmount="captureableAmount" :showVoidButton="showVoidButton" @reloadPaypalOrder="$emit('reload-paypal-order')" /> </sw-card-section> {% endblock %} <sw-card-section divider="top"> {% block swag_paypal_payment_detail_invoice %} {% block swag_paypal_payment_detail_invoice_heading %} <h3> {{ $t('swag-paypal-payment.paymentDetails.invoice.heading') }} </h3> {% endblock %} {% block swag_paypal_payment_detail_invoice_list %} <sw-description-list class="swag-paypal-payment-detail__data" grid="1fr 1fr"> {% block swag_paypal_payment_detail_invoice_list_total %} <dt>{{ $t('swag-paypal-payment.paymentDetails.invoice.totalAmount') }}</dt> <dd>{{ amount.value }} {{ currency }}</dd> {% endblock %} <template v-if="amount.breakdown"> {% block swag_paypal_payment_detail_invoice_list_sub_total %} <dt>{{ $t('swag-paypal-payment.paymentDetails.invoice.subTotal') }}</dt> <dd> {{ amount.breakdown.item_total.value }} {{ currency }}</dd> {% endblock %} {% block swag_paypal_payment_detail_invoice_list_discount %} <template v-if="amount.breakdown.discount"> <dt>{{ $t('swag-paypal-payment.paymentDetails.invoice.discount') }}</dt> <dd> {{ amount.breakdown.discount.value }} {{ currency }}</dd> </template> {% endblock %} {% block swag_paypal_payment_detail_invoice_list_handling %} <template v-if="amount.breakdown.handling"> <dt>{{ $t('swag-paypal-payment.paymentDetails.invoice.handling') }}</dt> <dd> {{ amount.breakdown.handling.value }} {{ currency }}</dd> </template> {% endblock %} {% block swag_paypal_payment_detail_invoice_list_insurance %} <template v-if="amount.breakdown.insurance"> <dt>{{ $t('swag-paypal-payment.paymentDetails.invoice.insurance') }}</dt> <dd> {{ amount.breakdown.insurance.value }} {{ currency }}</dd> </template> {% endblock %} {% block swag_paypal_payment_detail_invoice_list_shipping %} <dt>{{ $t('swag-paypal-payment.paymentDetails.invoice.shipping') }}</dt> <dd> {{ amount.breakdown.shipping.value }} {{ currency }}</dd> {% endblock %} {% block swag_paypal_payment_detail_invoice_list_shipping_discount %} <template v-if="amount.breakdown.insurance"> <dt>{{ $t('swag-paypal-payment.paymentDetails.invoice.shipping_discount') }}</dt> <dd> {{ amount.breakdown.shipping_discount.value }} {{ currency }}</dd> </template> {% endblock %} </template> </sw-description-list> {% endblock %} {% block swag_paypal_payment_detail_payment %} {% block swag_paypal_payment_detail_payment_heading %} <h3 class="swag-paypal-payment-detail__heading"> {{ $t('swag-paypal-payment.paymentDetails.payment.heading') }} </h3> {% endblock %} {% block swag_paypal_payment_detail_payment_list %} <sw-description-list class="swag-paypal-payment-detail__data" grid="1fr 1fr"> {% block swag_paypal_payment_detail_payment_list_intent %} <dt>{{ $t('swag-paypal-payment.paymentDetails.payment.intent') }}</dt> <dd>{{ $t(\`swag-paypal-settings.options.intent.\${paypalOrder.intent}\`) }}</dd> {% endblock %} {% block swag_paypal_payment_detail_payment_list_id %} <dt>{{ $t('swag-paypal-payment.paymentDetails.payment.paymentId') }}</dt> <dd>{{ paypalOrder.id }}</dd> {% endblock %} {% block swag_paypal_payment_detail_payment_list_status %} <dt>{{ $t('swag-paypal-payment.paymentDetails.payment.state') }}</dt> <dd>{{ paypalOrder.status }}</dd> {% endblock %} {% block swag_paypal_payment_detail_payment_list_create_time %} <template v-if="createDateTime"> <dt>{{ $t('swag-paypal-payment.paymentDetails.payment.createTime') }}</dt> <dd>{{ createDateTime }}</dd> </template> {% endblock %} {% block swag_paypal_payment_detail_payment_list_update_time %} <template v-if="updateDateTime"> <dt>{{ $t('swag-paypal-payment.paymentDetails.payment.updateTime') }}</dt> <dd>{{ updateDateTime }}</dd> </template> {% endblock %} </sw-description-list> {% endblock %} {% endblock %} {% block swag_paypal_payment_detail_customer %} <template v-if="payerId"> {% block swag_paypal_payment_detail_customer_heading %} <h3 class="swag-paypal-payment-detail__heading"> {{ $t('swag-paypal-payment.paymentDetails.customer.heading') }} </h3> {% endblock %} {% block swag_paypal_payment_detail_customer_list %} <sw-description-list class="swag-paypal-payment-detail__data" grid="1fr 1fr"> <dt>{{ $t('swag-paypal-payment.paymentDetails.customer.payerId') }}</dt> <dd>{{ payerId }}</dd> </sw-description-list> {% endblock %} </template> {% endblock %} {% endblock %} </sw-card-section> </template> </mt-card> {% block swag_paypal_payment_pui_details %} <swag-paypal-pui-details v-if="puiDetails" :details="puiDetails" :purchase-unit-amount="amount" /> {% endblock %} {% block swag_paypal_payment_transaction_history_card %} <mt-card position-identifier="swag-paypal-payment-transaction-history-v2" :title="$t('swag-paypal-payment.transactionHistory.cardTitle')" > <template #grid> {% block swag_paypal_payment_transaction_history_grid %} <sw-data-grid :dataSource="payments" :columns="paymentColumns" :showActions="false" :showSelection="false" /> {% endblock %} </template> </mt-card> {% endblock %} </div> {% endblock %}`,{Component:P0,Filter:A0}=Shopware;P0.register("swag-paypal-payment-details-v2",{template:C0,emits:["reload-paypal-order"],props:{paypalOrder:{type:Object,required:!0},orderTransaction:{type:Object,required:!0}},data(){return{payments:[],createDateTime:"",updateDateTime:"",currency:"",amount:{},payerId:"",refundableAmount:0,captureableAmount:0,showVoidButton:!1}},computed:{dateFilter(){return A0.getByName("date")},paymentColumns(){return[{property:"type",label:this.$t("swag-paypal-payment.transactionHistory.types.type"),rawData:!0},{property:"id",label:this.$t("swag-paypal-payment.transactionHistory.types.trackingId"),rawData:!0},{property:"total",label:this.$t("swag-paypal-payment.transactionHistory.types.amount"),rawData:!0},{property:"status",label:this.$t("swag-paypal-payment.transactionHistory.types.state"),rawData:!0},{property:"transactionFee",label:this.$t("swag-paypal-payment.transactionHistory.types.transactionFee"),rawData:!0},{property:"create",label:this.$t("swag-paypal-payment.transactionHistory.types.createTime"),rawData:!0},{property:"update",label:this.$t("swag-paypal-payment.transactionHistory.types.updateTime"),rawData:!0}]},puiDetails(){return this.orderTransaction.customFields.swag_paypal_pui_payment_instruction}},created(){this.createdComponent()},methods:{createdComponent(){var a;this.createDateTime=this.formatDate(this.paypalOrder.create_time),this.updateDateTime=this.formatDate(this.paypalOrder.update_time),this.amount=this.paypalOrder.purchase_units[0].amount,this.currency=this.amount.currency_code,this.payerId=((a=this.paypalOrder.payer)==null?void 0:a.payer_id)??"",this.setPayments()},setPayments(){const a=this.paypalOrder.purchase_units[0].payments;if(!a)return;const i=a.authorizations,r=a.captures,o=a.refunds;i&&i.forEach(c=>{this.pushPayment("authorization",c);const h=c.status;(h===d0||h===h0)&&(this.captureableAmount+=Number(c.amount.value),this.showVoidButton=!0),h===f0&&(this.showVoidButton=!0)}),r&&r.forEach(c=>{this.pushPayment("capture",c);const h=Number(c.amount.value);this.refundableAmount+=h,this.captureableAmount-=h}),o&&o.forEach(c=>{this.pushPayment("refund",c),this.refundableAmount-=Number(c.amount.value)}),this.refundableAmount=this.formatAmount(this.refundableAmount),this.captureableAmount=this.formatAmount(this.captureableAmount)},pushPayment(a,i){this.payments.push({id:i.id,type:this.$t(`swag-paypal-payment.transactionHistory.states.${a}`),total:`${i.amount.value} ${i.amount.currency_code}`,create:this.formatDate(i.create_time),createRaw:i.create_time,update:this.formatDate(i.update_time),transactionFee:this.getTransactionFee(a,i),status:i.status}),this.payments.sort((r,o)=>{const c=new Date(r.createRaw),h=new Date(o.createRaw);return c-h})},getTransactionFee(a,i){var r,o;if(a==="capture"){const c=(r=i.seller_receivable_breakdown)==null?void 0:r.paypal_fee;if(c)return`${c.value} ${c.currency_code}`}if(a==="refund"){const c=(o=i.seller_payable_breakdown)==null?void 0:o.paypal_fee;if(c)return`${c.value} ${c.currency_code}`}return null},formatDate(a){return this.dateFilter(a,{hour:"2-digit",minute:"2-digit",second:"2-digit"})},formatAmount(a){return+`${Math.round(`${a}e2`)}e-2`}}});const I0=`{% block swag_paypal_pui_details %} <mt-card position-identifier="swag-paypal-pui-details" :title="$t('swag-paypal-payment.puiDetails.cardTitle')" > {% block swag_paypal_pui_details_textarea %} <div class="swag-paypal-pui-details__textarea"> <b>{{ $t('swag-paypal-payment.puiDetails.bank') }}</b> {{ bankName }}<br> <b>{{ $t('swag-paypal-payment.puiDetails.iban') }}</b> {{ iban }}<br> <b>{{ $t('swag-paypal-payment.puiDetails.bic') }}</b> {{ bic }}<br> <b>{{ $t('swag-paypal-payment.puiDetails.accountHolder') }}</b> {{ accountHolderName }}<br> <b>{{ $t('swag-paypal-payment.puiDetails.amount') }}</b> {{ amount }}<br> <b>{{ $t('swag-paypal-payment.puiDetails.reference') }}</b> {{ reference }}<br> </div> {% endblock %} {% block swag_paypal_pui_details_copy_button %} <mt-button class="swag-paypal-pui-details__copy-button" ghost size="small" variant="secondary" @click="onCopy" > {{ $t('swag-paypal-payment.puiDetails.buttonCopy') }} </mt-button> {% endblock %} </mt-card> {% endblock %}`,{Component:E0}=Shopware,k0=Shopware.Utils.dom;E0.register("swag-paypal-pui-details",{template:I0,props:{details:{type:Object,required:!0},purchaseUnitAmount:{type:Object,required:!0}},computed:{copyText(){return`${this.$t("swag-paypal-payment.puiDetails.bank")} ${this.bankName}
${this.$t("swag-paypal-payment.puiDetails.iban")} ${this.iban}
${this.$t("swag-paypal-payment.puiDetails.bic")} ${this.bic}
${this.$t("swag-paypal-payment.puiDetails.accountHolder")} ${this.accountHolderName}
${this.$t("swag-paypal-payment.puiDetails.amount")} ${this.amount}
${this.$t("swag-paypal-payment.puiDetails.reference")} ${this.reference}`},bankName(){return this.details.deposit_bank_details.bank_name},iban(){return this.details.deposit_bank_details.iban},bic(){return this.details.deposit_bank_details.bic},accountHolderName(){return this.details.deposit_bank_details.account_holder_name},reference(){return this.details.payment_reference},amount(){return`${this.purchaseUnitAmount.value} ${this.purchaseUnitAmount.currency_code}`}},methods:{async onCopy(){if(!(navigator!=null&&navigator.clipboard)){k0.copyToClipboard(this.copyText);return}await navigator.clipboard.writeText(this.copyText)}}});const R0=`{% block sw_order_detail_content_tabs_general %} {% parent %} <sw-tabs-item v-if="isPayPalPayment" :route="{ name: 'swag.paypal.payment.detail', params: { id: $route.params.id } }" :title="$t('swag-paypal-payment.tabs.order')" > {{ $t('swag-paypal-payment.tabs.order') }} </sw-tabs-item> {% endblock %} {% block sw_order_detail_actions_slot_smart_bar_actions %} <template v-if="isEditable"> {% parent %} </template> {% endblock %}`,{Component:$0}=Shopware,{isEmpty:T0}=Shopware.Utils.types;$0.override("sw-order-detail",{template:R0,computed:{isPayPalPayment(){var i,r,o,c;const a=(r=(i=this.order)==null?void 0:i.transactions)==null?void 0:r.last();return this.order&&!T0(a)&&(((o=a==null?void 0:a.customFields)==null?void 0:o.swag_paypal_order_id)||((c=a==null?void 0:a.customFields)==null?void 0:c.swag_paypal_transaction_id))},isEditable(){return!this.isPayPalPayment||this.$route.name!=="swag.paypal.payment.detail"}}});const x0=`{% block sw_order_detail_details_shipping_tracking_codes %} {% parent %} {% block sw_order_detail_details_shipping_paypal_carrier %} <div v-if="payPalResourceId" class="swag-paypal-order-carrier"> <mt-text-field v-model="payPalCarrier" disabled :label="$t('sw-order-detail.payPalCarrierLabel')" :helpText="$t('sw-order-detail.payPalCarrierHelpText')" :placeholder="$t('sw-order-detail.payPalCarrierPlaceholder')" /> <div class="swag-paypal-order-carrier__description" v-html="payPalCarrierDescription" /> </div> {% endblock %} {% endblock %}`,{Component:L0}=Shopware;L0.override("sw-order-detail-details",{template:x0,inject:["systemConfigApiService"],data(){return{isPayPalSandbox:!1}},computed:{transaction(){var a;return(a=this.order)==null?void 0:a.transactions.last()},payPalResourceId(){var a,i;return(i=(a=this.transaction)==null?void 0:a.customFields)==null?void 0:i.swag_paypal_resource_id},payPalCarrier(){var a,i,r,o;return((o=(r=(i=(a=this.order)==null?void 0:a.deliveries)==null?void 0:i.first().shippingMethod)==null?void 0:r.customFields)==null?void 0:o.swag_paypal_carrier)??""},payPalOrderLink(){return`https://${this.isPayPalSandbox?"sandbox":"www"}.paypal.com/activity/payment/${this.payPalResourceId}`},payPalCarrierDescription(){return this.$t("sw-order-detail.payPalCarrierDescription",{orderLink:this.payPalOrderLink},1)}},watch:{payPalResourceId:{async handler(a){if(!a)return;const i=await this.systemConfigApiService.getValues("SwagPayPal.settings",this.order.salesChannelId);Object.hasOwn(i,"SwagPayPal.settings.sandbox")&&(this.isPayPalSandbox=i["SwagPayPal.settings.sandbox"]);const r=await this.systemConfigApiService.getValues("SwagPayPal.settings");this.isPayPalSandbox=r["SwagPayPal.settings.sandbox"]},immediate:!0}}});const O0=`{% block sw_order_detail_base_secondary_info_order_overview_right_column_slot %} {% parent %} {% block sw_detail_base_secondary_info_order_overview_paypal_carrier %} <template v-if="payPalResourceId"> <dt> {{ $t('sw-order-detail.payPalCarrierLabel') }} <sw-help-text :text="$t('sw-order-detail.payPalCarrierHelpText')" /> </dt> <dd> <div> {{ payPalCarrier ? payPalCarrier : $t('sw-order-detail.payPalCarrierPlaceholder') }} </div> <div class="sw-user-card__paypal-carrier-description" v-html="payPalCarrierDescription" /> </dd> </template> {% endblock %} {% endblock %}`,{Component:D0}=Shopware;D0.override("sw-order-user-card",{template:O0,inject:["systemConfigApiService"],data(){return{isPayPalSandbox:!1}},computed:{transaction(){var a;return(a=this.currentOrder.transactions)==null?void 0:a.last()},payPalResourceId(){var a,i;return(i=(a=this.transaction)==null?void 0:a.customFields)==null?void 0:i.swag_paypal_resource_id},payPalCarrier(){var a,i,r;return((r=(i=(a=this.delivery)==null?void 0:a.shippingMethod)==null?void 0:i.customFields)==null?void 0:r.swag_paypal_carrier)??""},payPalOrderLink(){return`https://${this.isPayPalSandbox?"sandbox":"www"}.paypal.com/activity/payment/${this.payPalResourceId}`},payPalCarrierDescription(){return this.$t("sw-order-detail.payPalCarrierDescription",{orderLink:this.payPalOrderLink},1)}},watch:{payPalResourceId:{async handler(a){if(!a)return;const i=await this.systemConfigApiService.getValues("SwagPayPal.settings",this.currentOrder.salesChannelId);Object.hasOwn(i,"SwagPayPal.settings.sandbox")&&(this.isPayPalSandbox=i["SwagPayPal.settings.sandbox"]);const r=await this.systemConfigApiService.getValues("SwagPayPal.settings");this.isPayPalSandbox=r["SwagPayPal.settings.sandbox"]},immediate:!0}}});const N0=`{% block swag_paypal_payment_detail %} <div v-if="isLoading || loading" class="swag-paypal-payment-detail"> {% block swag_paypal_payment_detail_loading_state %} <sw-skeleton /> <sw-skeleton /> {% endblock %} </div> <div v-else-if="!hasPayPalDetails" class="swag-paypal-payment-detail"> {% block swag_paypal_payment_detail_error_page %} {% block swag_paypal_payment_detail_error_page_cancelled %} <sw-empty-state v-if="stateFailedCancelled" :title="$t('swag-paypal-payment.errorPage.title')" :subline="$t('swag-paypal-payment.errorPage.canceledPaymentContent')" :absolute="false" icon="regular-shopping-bag" color="#A092F0" /> {% endblock %} {% block swag_paypal_payment_detail_error_page_other %} <sw-empty-state v-else :title="$t('swag-paypal-payment.errorPage.title')" :subline="$t('swag-paypal-payment.errorPage.other')" :absolute="false" icon="regular-shopping-bag" color="#A092F0" /> {% endblock %} {% endblock %} </div> <div v-else class="swag-paypal-payment-detail"> {% block swag_paypal_payment_detail_components %} {% block swag_paypal_payment_detail_details_v1 %} <swag-paypal-payment-details-v1 v-if="!!paymentResource" :paymentResource="paymentResource" :orderId="order.id" /> {% endblock %} {% block swag_paypal_payment_detail_details_v2 %} <swag-paypal-payment-details-v2 v-if="!!paypalOrder" :paypalOrder="paypalOrder" :orderTransaction="orderTransaction" :orderTransactionId="orderTransaction.id" :paypalPartnerAttributionId="orderTransaction.customFields.swag_paypal_partner_attribution_id" @reloadPaypalOrder="fetchPayPalDetails" /> {% endblock %} {% endblock %} </div> {% endblock %}`,{Component:z0,Filter:F0}=Shopware,{isEmpty:q0}=Shopware.Utils.types;z0.register("swag-paypal-payment-detail",{template:N0,inject:["SwagPayPalPaymentService","SwagPayPalOrderService","repositoryFactory"],mixins:[Shopware.Mixin.getByName("notification")],props:{isLoading:{type:Boolean,required:!0}},data(){return{loading:!1,paypalOrder:null,paymentResource:null}},computed:{order(){return Shopware.Store.get("swOrderDetail").order},orderTransaction(){return this.order.transactions.last()},dateFilter(){return F0.getByName("date")},stateFailedCancelled(){return["cancelled","failed"].includes(this.orderTransaction.stateMachineState.technicalName)},hasPayPalDetails(){return!!this.paypalOrder||!!this.paymentResource}},watch:{order:{immediate:!0,handler(){this.paypalOrder=null,this.paymentResource=null,this.fetchPayPalDetails()}}},methods:{async fetchPayPalDetails(){if(!this.order||q0(this.orderTransaction.customFields))return;this.loading=!0;const a=this.orderTransaction.customFields.swag_paypal_transaction_id;a&&await this.handlePayPalPayment(a);const i=this.orderTransaction.customFields.swag_paypal_order_id;i&&await this.handlePayPalOrder(i)},handlePayPalOrder(a){return this.SwagPayPalOrderService.getOrderDetails(this.orderTransaction.id,a).then(i=>{this.paypalOrder=i,this.loading=!1}).catch(this.handleError)},handlePayPalPayment(a){return this.SwagPayPalPaymentService.getPaymentDetails(this.order.id,a).then(i=>{this.paymentResource=i,this.loading=!1}).catch(this.handleError)},handleError(a){try{this.createNotificationError({message:`${this.$t("swag-paypal-payment.paymentDetails.error.title")}: ${a.response.data.errors[0].detail}`,autoClose:!1})}catch{this.createNotificationError({message:`${this.$t("swag-paypal-payment.paymentDetails.error.title")}: ${a.message}`,autoClose:!1})}finally{this.loading=!1}}}});const{Module:B0}=Shopware;B0.register("swag-paypal-payment",{type:"plugin",name:"SwagPayPal",title:"swag-paypal-payment.general.title",description:"swag-paypal-payment.general.descriptionTextModule",version:"1.0.0",targetVersion:"1.0.0",color:"#2b52ff",routeMiddleware(a,i){i.name==="sw.order.detail"&&i.children.push({component:"swag-paypal-payment-detail",name:"swag.paypal.payment.detail",isChildren:!0,path:"/sw/order/detail/:id/paypal",meta:{parentPath:"sw.order.index",privilege:"order.viewer"}}),a(i)}});const M0='{% block swag_paypal_pos_status %} <mt-card position-identifier="swag-paypal-pos-status" :class="statusClasses" :isLoading="isLoading" :title="title"> {% block swag_paypal_pos_status_icon %} <div class="swag-paypal-pos-status__icon-base"> <mt-icon :class="iconClasses" :name="icon" /> </div> {% endblock %} {% block swag_paypal_pos_status_status %} <div class="swag-paypal-pos-status__status"> <slot name="status"> {{ status }} </slot> </div> {% endblock %} {% block swag_paypal_pos_status_detail %} <div class="swag-paypal-pos-status__detail"> <slot name="detail" /> </div> {% endblock %} {% block swag_paypal_pos_status_substatus %} <div v-if="showSubStatus" class="swag-paypal-pos-status__substatus"> {% block swag_paypal_pos_status_substatus_icon %} <mt-icon v-if="showSubIcon" :class="subIconClasses" :name="subIcon" /> {% endblock %} {% block swag_paypal_pos_status_substatus_content %} <span> <slot name="substatus" /> </span> {% endblock %} </div> {% endblock %} {% block swag_paypal_pos_status_actions %} <div class="swag-paypal-pos-status__actions"> <slot name="actions" /> </div> {% endblock %} {% block swag_paypal_pos_status_disabled %} <div v-if="disabled" class="swag-paypal-pos-status__disabled"> <slot name="disabledText"> {{ disabledText }} </slot> </div> {% endblock %} </mt-card> {% endblock %}',{Component:U0}=Shopware;U0.register("swag-paypal-pos-status",{template:M0,props:{title:{type:String,required:!1,default:""},status:{type:String,required:!0},disabled:{type:Boolean,required:!1,default:!1},disabledText:{type:String,required:!1,default:""},icon:{type:String,required:!0},iconAnimated:{type:Boolean,required:!1,default:!1},subIcon:{type:String,required:!1,default:""},showSubStatus:{type:Boolean,required:!1,default:!1},isLoading:{type:Boolean,required:!0},variant:{type:String,default:"info",validValues:["info","warning","error","success"],validator(a){return["info","warning","error","success"].includes(a)}},subVariant:{type:String,default:"info",validValues:["info","warning","error","success"],validator(a){return["info","warning","error","success"].includes(a)}}},computed:{statusClasses(){return{"swag-paypal-pos-status":!0,[`swag-paypal-pos-status--${this.variant}`]:!0,"swag-paypal-pos-status--disabled":this.disabled}},iconClasses(){return{"swag-paypal-pos-status__icon":!0,"swag-paypal-pos-status__icon-animated":this.iconAnimated}},subIconClasses(){return["swag-paypal-pos-status__subicon",`swag-paypal-pos-status--${this.subVariant}`]},showSubIcon(){return this.subIcon!==null&&this.subIcon!==void 0&&this.subIcon!==this.icon}}});const j0=`{% block swag_paypal_pos_account %} <mt-card class="swag-paypal-pos-account" position-identifier="swag-paypal-pos-account" :title="$t('sw-sales-channel.detail.titleAccount')" :isLoading="isLoading"> {% block swag_paypal_pos_account_grid %} <sw-container columns="min-content 1fr" align="center"> {% block swag_paypal_pos_account_grid_logo %} <img class="swag-paypal-pos-account__logo" alt="Zettle Logo" :src="assetFilter('/swagpaypal/administration/static/img/paypal-pos-logo.svg')"> {% endblock %} {% block swag_paypal_pos_account_grid_container %} <div class="swag-paypal-pos-account__container"> {% block swag_paypal_pos_account_grid_container_info %} <div class="swag-paypal-pos-account__account-info"> {% block swag_paypal_pos_account_grid_container_info_name %} <div class="swag-paypal-pos-account__name"> {{ accountName }} </div> {% endblock %} {% block swag_paypal_pos_account_grid_container_info_email %} <div class="swag-paypal-pos-account__email"> {{ accountEmail }} </div> {% endblock %} {% block swag_paypal_pos_account_grid_container_info_link %} <sw-external-link href="https://my.zettle.com" class="swag-paypal-pos-account__manage-link"> {% block swag_paypal_pos_account_grid_container_info_link_text %} {{ $t('swag-paypal-pos.account.manageAccount') }} {% endblock %} </sw-external-link> {% endblock %} {% block swag_paypal_pos_account_grid_container_info_edit_button %} {# ToDo PPI-109 - Implement edit connection functionality #} <mt-button v-if="false" class="swag-paypal-pos-account__edit-connection-button" size="small" block variant="secondary"> {{ $t('swag-paypal-pos.account.editConnection') }} </mt-button> {% endblock %} </div> {% endblock %} {% block swag_paypal_pos_account_grid_container_status %} <div class="swag-paypal-pos-account__status-container"> {% block swag_paypal_pos_account_grid_container_status_label %} <sw-label class="swag-paypal-pos-account__status-label" size="medium" appearance="pill" :variant="connectionStatusVariant" :ghost="false" :caps="false"> {% block swag_paypal_pos_account_grid_container_status_label_badge %} <sw-color-badge class="swag-paypal-pos-account__status-color-badge" rounded :variant="connectionStatusVariant" /> {% endblock %} {% block swag_paypal_pos_account_grid_container_status_label_text %} <span class="swag-paypal-pos-account__status-text"> {{ connectionStatusText }} </span> {% endblock %} </sw-label> {% endblock %} {% block swag_paypal_pos_account_grid_container_status_updated %} <div v-if="lastRun" class="swag-paypal-pos-account__status-updated"> {{ $t('swag-paypal-pos.account.lastUpdated') }} {{ dateFilter(lastRun.updatedAt, { hour: '2-digit', minute: '2-digit', second: '2-digit', day: '2-digit', month: 'short', year: 'numeric' }) }} </div> {% endblock %} </div> {% endblock %} </div> {% endblock %} </sw-container> {% endblock %} </mt-card> {% endblock %}`,{Component:H0}=Shopware;H0.register("swag-paypal-pos-account",{template:j0,inject:["SwagPayPalPosSettingApiService","repositoryFactory"],props:{salesChannel:{type:Object,require:!1,default:null},lastRun:{type:Object,require:!1,default:null}},data(){return{isLoading:!1,isError:!1,merchantInfo:null}},computed:{assetFilter(){return Shopware.Filter.getByName("asset")},accountName(){return this.isError?this.$t("swag-paypal-pos.account.errorName"):this.merchantInfo?this.merchantInfo.name:this.$t("swag-paypal-pos.account.loadingName")},accountEmail(){return this.isError?this.$t("swag-paypal-pos.account.errorEmail"):this.merchantInfo?this.merchantInfo.contactEmail:this.$t("swag-paypal-pos.account.loadingEmail")},connectionStatusText(){return this.isError?this.$t("swag-paypal-pos.account.noConnectionStatus"):this.$t("swag-paypal-pos.account.connectedStatus")},connectionStatusVariant(){return this.isError?"danger":"success"},runRepository(){return this.repositoryFactory.create("swag_paypal_pos_sales_channel_run")},dateFilter(){return Shopware.Filter.getByName("date")}},watch:{salesChannel(){this.loadMerchantData()}},created(){this.createdComponent()},methods:{createdComponent(){this.loadMerchantData()},loadMerchantData(){return this.isError=!1,this.isLoading=!0,this.salesChannel===null?Promise.resolve():this.SwagPayPalPosSettingApiService.fetchInformation(this.salesChannel).then(({merchantInformation:a})=>{this.merchantInfo=a,this.isError=!1}).catch(()=>{this.merchantInfo=null,this.isError=!0}).finally(()=>{this.isLoading=!1})}}});const G0=`{% block swag_paypal_pos_status_view %} <swag-paypal-pos-status :disabled="disabled" :disabledText="$t('swag-paypal-pos.detail.overview.status.disabled')" :icon="statusIcon" :subIcon="statusIconComplete" :iconAnimated="isSyncing" :isLoading="isLoading || status === null" :status="statusTitle" :showSubStatus="incompleteLastRun" :title="$t('swag-paypal-pos.detail.overview.titleSync')" :variant="statusVariant" :subVariant="statusCompleteErrorLevel"> {% block swag_paypal_pos_status_view_actions %} <template #actions> <slot name="actions" /> </template> {% endblock %} {% block swag_paypal_pos_status_view_detail %} <template v-if="isSyncing" #detail> {% block swag_paypal_pos_status_view_detail_syncing %} {{ $t('swag-paypal-pos.detail.overview.status.syncingDetail') }} {% endblock %} </template> <template v-if="!isSyncing && lastFinishedRun" #detail> <div> {% block swag_paypal_pos_status_view_detail_static %} {{ $t('swag-paypal-pos.detail.overview.status.lastSynced') }}: {{ dateFilter(lastFinishedRun.updatedAt, { hour: '2-digit', minute: '2-digit', second: '2-digit', day: '2-digit', month: 'short', year: 'numeric' }) }} {% endblock %} </div> {% block swag_paypal_pos_status_view_detail_errors %} <mt-banner v-if="syncErrors" variant="critical" :closable="true" :title="$t('swag-paypal-pos.detail.overview.syncErrorTitle')"> <ul> <li v-for="error in syncErrors"> {{ error.detail }} ({{ error.code }}) </li> </ul> </mt-banner> {% endblock %} </template> {% endblock %} {% block swag_paypal_pos_status_view_substatus %} <template v-if="incompleteLastRun" #substatus> {{ $t('swag-paypal-pos.detail.overview.status.lastSyncedComplete') }}: {{ dateFilter(lastCompleteRun.updatedAt, { hour: '2-digit', minute: '2-digit', second: '2-digit', day: '2-digit', month: 'short', year: 'numeric' }) }} </template> {% endblock %} </swag-paypal-pos-status> {% endblock %}`,{Component:W0}=Shopware;W0.register("swag-paypal-pos-status-view",{template:G0,props:{lastFinishedRun:{type:Object,required:!1,default:null},lastCompleteRun:{type:Object,required:!1,default:null},isLoading:{type:Boolean,default:!1},isSyncing:{type:Boolean,default:!1},salesChannel:{type:Object,required:!1,default:null},syncErrors:{type:Array,required:!1,default:null}},data(){return{statusErrorLevel:null,statusCompleteErrorLevel:null,iconConfig:{syncing:"regular-sync",warning:"regular-exclamation-triangle",error:"regular-times-xs",success:"regular-checkmark",noRunYet:"regular-blocked-circle"}}},computed:{status(){return this.isSyncing?"syncing":this.noRunYet?"noRunYet":this.statusErrorLevel},statusVariant(){return this.isSyncing||this.noRunYet?"info":this.statusErrorLevel},statusIcon(){return this.iconConfig[this.status]||"regular-info-circle"},statusIconComplete(){return this.iconConfig[this.statusCompleteErrorLevel]},noRunYet(){return this.salesChannel===null||this.salesChannel.id===null||this.lastFinishedRun===null},incompleteLastRun(){return this.salesChannel!==null&&this.salesChannel.id!==null&&this.lastFinishedRun!==null&&this.lastCompleteRun!==null&&this.lastFinishedRun.id!==this.lastCompleteRun.id},statusTitle(){let a=this.$t(`swag-paypal-pos.detail.overview.status.message.${this.status}`);if(this.incompleteLastRun){const i=this.$t(`swag-paypal-pos.detail.overview.status.task.${this.lastFinishedRun.task}`);this.isSyncing||(a+=` (${i})`)}return this.lastFinishedRun&&this.lastFinishedRun.status==="cancelled"&&!this.isSyncing&&(a=this.$t("swag-paypal-pos.detail.overview.status.message.aborted")),a},disabled(){return this.salesChannel!==null&&this.salesChannel.id!==null&&this.salesChannel.active===!1},dateFilter(){return Shopware.Filter.getByName("date")}},watch:{lastFinishedRun:{handler(){this.statusErrorLevel=this.getHighestLevel(this.lastFinishedRun)},immediate:!0},lastCompleteRun:{handler(){this.statusCompleteErrorLevel=this.getHighestLevel(this.lastCompleteRun)},immediate:!0}},methods:{getHighestLevel(a){if(a===null)return null;if(a.status==="cancelled")return"info";const i=Math.max(...a.logs.map(r=>r.level));return i>=400?"error":i>=300?"warning":"success"}}});const K0='{% block swag_paypal_pos_boolean_radio %} <sw-radio-field v-model:value="castedValue" v-bind="$attrs" class="swag-paypal-pos-boolean-radio" :name="name" :options="options" /> {% endblock %}',{Component:V0}=Shopware,Y0=Shopware.Utils;V0.register("swag-paypal-pos-boolean-radio",{template:K0,inject:["feature"],emits:["update:value"],props:{value:{type:Boolean,required:!1,default:!1},optionTrue:{type:Object,required:!0,validator(a){return Object.hasOwn(a,"name")}},optionFalse:{type:Object,required:!0,validator(a){return Object.hasOwn(a,"name")}}},data(){return{inputId:Y0.createId()}},computed:{options(){return[{value:!0,...this.optionTrue},{value:!1,...this.optionFalse}]},castedValue:{get(){return this.value},set(a){this.$emit("update:value",a)}},name(){return`swag-paypal-pos-boolean-radio-${this.inputId}`}}});const X0=`{% block swag_paypal_pos_detail_logs %} {% block swag_paypal_pos_detail_logs_grid %} <sw-data-grid identifier="swag-paypal-pos-detail-logs" :columns="columns" :dataSource="logs" :isLoading="isLoading || loadingLogs" :showActions="true" :showSelection="false" :showSettings="true" :allowColumnEdit="true" :sortBy="sortBy" :sortDirection="sortDirection" :skeletonItemAmount="limit" @column-sort="onSortColumn"> {% block swag_paypal_pos_detail_logs_grid_pagination %} <template #pagination> <sw-pagination :limit="limit" :page="page" :total="total" :total-visible="7" @page-change="onPageChange" /> </template> {% endblock %} {% block swag_paypal_pos_detail_logs_grid_column_date %} <template #column-date="{ item }"> {% block swag_paypal_pos_detail_logs_grid_column_date_formatted %} <template v-if="item.createdAt"> {{ dateFilter(item.createdAt, { hour: '2-digit', minute: '2-digit', day: '2-digit', month: '2-digit', year: '2-digit' }) }} </template> {% endblock %} {% block swag_paypal_pos_detail_logs_grid_column_date_empty %} <template v-else> {{ $t('swag-paypal-pos.detail.logs.noEntry') }} </template> {% endblock %} </template> {% endblock %} {% block swag_paypal_pos_detail_logs_grid_column_state %} <template #column-state="{ item }"> {% block swag_paypal_pos_detail_logs_grid_column_state_label %} <sw-label v-if="item.level" appearance="pill" :variant="getLabelVariantForItem(item)"> {{ $t(getLabelForItem(item)) }} </sw-label> {% endblock %} </template> {% endblock %} </sw-data-grid> {% endblock %} {% endblock %}`,{Component:Z0,Context:J0}=Shopware,{Criteria:Fn}=Shopware.Data;Z0.register("swag-paypal-pos-detail-logs",{template:X0,inject:["SwagPayPalPosApiService","repositoryFactory"],mixins:[Shopware.Mixin.getByName("notification"),Shopware.Mixin.getByName("swag-paypal-pos-log-label"),Shopware.Mixin.getByName("listing")],props:{runId:{type:String,required:!0}},data(){return{logs:[],limit:10,sortBy:"createdAt",sortDirection:"DESC",loadingLogs:!1,isLoading:!1,disableRouteParams:!0}},computed:{logRepository(){return this.repositoryFactory.create("swag_paypal_pos_sales_channel_run_log")},columns(){return[{property:"date",dataIndex:"createdAt",label:"swag-paypal-pos.detail.syncedProducts.columns.date",width:"140px",sortable:!0},{property:"state",dataIndex:"level",label:"swag-paypal-pos.detail.syncedProducts.columns.state",width:"120px",sortable:!0},{property:"message",dataIndex:"message",label:"swag-paypal-pos.detail.logs.columnLastSync",sortable:!0}]},dateFilter(){return Shopware.Filter.getByName("date")}},methods:{getListCriteria(){const a=this.getMainListingParams(),i=new Fn(this.page,this.limit);return i.addFilter(Fn.equals("runId",this.runId)),i.addAssociation("posSalesChannelRun"),i.addSorting(Fn.sort(a.sortBy,a.sortDirection,a.naturalSorting)),i.addSorting(Fn.sort("level","DESC")),i.addSorting(Fn.sort("createdAt","DESC")),i},getList(){return this.loadingLogs=!0,this.logRepository.search(this.getListCriteria(),J0.api).then(a=>{this.logs=a,this.total=a.total,this.page=a.criteria.page,this.limit=a.criteria.limit,this.loadingLogs=!1})},getLabelVariantForItem(a){return a.posSalesChannelRun&&a.posSalesChannelRun.status==="cancelled"?"info":this.getLabelVariant(a.level)},getLabelForItem(a){return a.posSalesChannelRun&&a.posSalesChannelRun.status==="cancelled"?"swag-paypal-pos.detail.logs.states.aborted":this.getLabel(a.level)}}});const Q0=`{% block swag_paypal_pos_getting_started %} <mt-card position-identifier="swag-paypal-pos-getting-started" :title="$t('swag-paypal-pos.gettingStarted.cardTitle')"> {% block swag_paypal_pos_getting_started_reader %} <sw-container class="swag-paypal-pos-getting-started__container-reader" columns="1fr 3fr" justify="left" align="center"> {% block swag_paypal_pos_getting_started_reader_image %} <img class="swag-paypal-pos-getting-started__image" :src="assetFilter('swagpaypal/administration/static/img/paypal-pos-reader.png')" :alt="$t('swag-paypal-pos.gettingStarted.readerImageAlt')"> {% endblock %} {% block swag_paypal_pos_getting_started_reader_description %} <div class="swag-paypal-pos-getting-started__description"> {% block swag_paypal_pos_getting_started_reader_description_headline %} <div class="swag-paypal-pos-getting-started__description-headline"> {{ $t('swag-paypal-pos.gettingStarted.readerHeadline') }} </div> {% endblock %} {% block swag_paypal_pos_getting_started_reader_description_text %} <div class="swag-paypal-pos-getting-started__description-text"> {{ $t('swag-paypal-pos.gettingStarted.readerText') }} {% block swag_paypal_pos_getting_started_reader_description_link %} <sw-external-link :href="$t('swag-paypal-pos.gettingStarted.readerLinkTarget')" class="swag-paypal-pos-getting-started__description-text-link"> {{ $t('swag-paypal-pos.gettingStarted.readerLinkText') }} </sw-external-link> {% endblock %} </div> {% endblock %} </div> {% endblock %} </sw-container> {% endblock %} {% block swag_paypal_pos_getting_started_app %} <sw-container class="swag-paypal-pos-getting-started__container-app" columns="1fr 3fr" justify="left" align="center"> {% block swag_paypal_pos_getting_started_app_image %} <img class="swag-paypal-pos-getting-started__image" :src="assetFilter('swagpaypal/administration/static/img/paypal-pos-app.png')" :alt="$t('swag-paypal-pos.gettingStarted.appImageAlt')"> {% endblock %} {% block swag_paypal_pos_getting_started_app_description %} <div class="swag-paypal-pos-getting-started__description "> {% block swag_paypal_pos_getting_started_app_description_headline %} <div class="swag-paypal-pos-getting-started__description-headline"> {{ $t('swag-paypal-pos.gettingStarted.appHeadline') }} </div> {% endblock %} {% block swag_paypal_pos_getting_started_app_description_text %} <div class="swag-paypal-pos-getting-started__description-text" v-html="$t('swag-paypal-pos.gettingStarted.appText')" /> {% endblock %} </div> {% endblock %} </sw-container> {% endblock %} </mt-card> {% endblock %}`,{Component:eA}=Shopware;eA.register("swag-paypal-pos-getting-started",{template:Q0,computed:{assetFilter(){return Shopware.Filter.getByName("asset")}}});const tA=`{% block swag_paypal_pos_continue_setup %} <mt-card position-identifier="swag-paypal-pos-continue-setup" :title="$t('swag-paypal-pos.detail.overview.continueSetup.cardTitle')"> {% block swag_paypal_pos_continue_setup_container %} <div class="swag-paypal-pos__continue-setup"> {% block swag_paypal_pos_continue_setup_container_headline %} <h6>{{ $t('swag-paypal-pos.detail.overview.continueSetup.content.headline') }}</h6> {% endblock %} {% block swag_paypal_pos_continue_setup_container_firstLine %} <p>{{ $t('swag-paypal-pos.detail.overview.continueSetup.content.firstLine') }}</p> {% endblock %} {% block swag_paypal_pos_continue_setup_container_secondLine %} <p>{{ $t('swag-paypal-pos.detail.overview.continueSetup.content.secondLine') }}</p> {% endblock %} </div> {% endblock %} {% block swag_paypal_pos_continue_setup_button %} <mt-button ghost variant="secondary" @click="onContinueSetup" > {{ $t('swag-paypal-pos.detail.overview.continueSetup.content.headline') }} </mt-button> {% endblock %} </mt-card> {% endblock %}`,{Component:aA}=Shopware;aA.register("swag-paypal-pos-continue-setup",{template:tA,methods:{onContinueSetup(){this.$router.push({name:"swag.paypal.pos.wizard.customization",params:{id:this.$route.params.id}})}}});const nA=`<mt-text-field v-bind="$attrs" :model-value="value" @update:model-value="updateValue" > <template #prefix> <mt-icon name="solid-lock" color="var(--color-icon-positive-default)" size="var(--scale-size-12)" aria-hidden="true" /> https:// </template> <template #hint> <p v-if="url === null" style="color: var(--color-text-critical-default)"> {{ $t('swag-paypal-pos.detail.settings.domainError') }} </p> </template> </mt-text-field>`,cn=2147483647,qt=36,jc=1,Yn=26,rA=38,iA=700,Pg=72,Ag=128,Ig="-",sA=/^xn--/,oA=/[^\0-\x7F]/,lA=/[\x2E\u3002\uFF0E\uFF61]/g,cA={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},wc=qt-jc,Bt=Math.floor,vc=String.fromCharCode;function Pa(a){throw new RangeError(cA[a])}function uA(a,i){const r=[];let o=a.length;for(;o--;)r[o]=i(a[o]);return r}function Eg(a,i){const r=a.split("@");let o="";r.length>1&&(o=r[0]+"@",a=r[1]),a=a.replace(lA,".");const c=a.split("."),h=uA(c,i).join(".");return o+h}function kg(a){const i=[];let r=0;const o=a.length;for(;r<o;){const c=a.charCodeAt(r++);if(c>=55296&&c<=56319&&r<o){const h=a.charCodeAt(r++);(h&64512)==56320?i.push(((c&1023)<<10)+(h&1023)+65536):(i.push(c),r--)}else i.push(c)}return i}const pA=a=>String.fromCodePoint(...a),dA=function(a){return a>=48&&a<58?26+(a-48):a>=65&&a<91?a-65:a>=97&&a<123?a-97:qt},Uf=function(a,i){return a+22+75*(a<26)-((i!=0)<<5)},Rg=function(a,i,r){let o=0;for(a=r?Bt(a/iA):a>>1,a+=Bt(a/i);a>wc*Yn>>1;o+=qt)a=Bt(a/wc);return Bt(o+(wc+1)*a/(a+rA))},$g=function(a){const i=[],r=a.length;let o=0,c=Ag,h=Pg,_=a.lastIndexOf(Ig);_<0&&(_=0);for(let g=0;g<_;++g)a.charCodeAt(g)>=128&&Pa("not-basic"),i.push(a.charCodeAt(g));for(let g=_>0?_+1:0;g<r;){const w=o;for(let y=1,v=qt;;v+=qt){g>=r&&Pa("invalid-input");const R=dA(a.charCodeAt(g++));R>=qt&&Pa("invalid-input"),R>Bt((cn-o)/y)&&Pa("overflow"),o+=R*y;const F=v<=h?jc:v>=h+Yn?Yn:v-h;if(R<F)break;const K=qt-F;y>Bt(cn/K)&&Pa("overflow"),y*=K}const b=i.length+1;h=Rg(o-w,b,w==0),Bt(o/b)>cn-c&&Pa("overflow"),c+=Bt(o/b),o%=b,i.splice(o++,0,c)}return String.fromCodePoint(...i)},Tg=function(a){const i=[];a=kg(a);const r=a.length;let o=Ag,c=0,h=Pg;for(const w of a)w<128&&i.push(vc(w));const _=i.length;let g=_;for(_&&i.push(Ig);g<r;){let w=cn;for(const y of a)y>=o&&y<w&&(w=y);const b=g+1;w-o>Bt((cn-c)/b)&&Pa("overflow"),c+=(w-o)*b,o=w;for(const y of a)if(y<o&&++c>cn&&Pa("overflow"),y===o){let v=c;for(let R=qt;;R+=qt){const F=R<=h?jc:R>=h+Yn?Yn:R-h;if(v<F)break;const K=v-F,D=qt-F;i.push(vc(Uf(F+K%D,0))),v=Bt(K/D)}i.push(vc(Uf(v,0))),h=Rg(c,b,g===_),c=0,++g}++c,++o}return i.join("")},hA=function(a){return Eg(a,function(i){return sA.test(i)?$g(i.slice(4).toLowerCase()):i})},fA=function(a){return Eg(a,function(i){return oA.test(i)?"xn--"+Tg(i):i})},gA={version:"2.3.1",ucs2:{decode:kg,encode:pA},decode:$g,encode:Tg,toASCII:fA,toUnicode:hA};Shopware.Component.register("swag-paypal-pos-url-field",{template:nA,emits:["update:model-value"],props:{modelValue:{type:String,required:!1,default:null}},data(){return{value:""}},computed:{url(){if(!this.value)return"";try{const a=new URL(this.value.startsWith("http")?this.value:`https://${this.value}`);return a.protocol="https:",a.toString().replace(a.hash||a.search?"":/\/$/,"")}catch{return null}}},watch:{modelValue:{handler(a){this.updateValue(a??"")},immediate:!0},url(a){a!==null&&this.$emit("update:model-value",a)}},methods:{updateValue(a){this.value=decodeURI(gA.toUnicode(a.replace(/^https?:\/\//,"")))}}});const Hc="1ce0868f406d47d98cfe4b281e62f099",xg="paypalPosSalesChannel",{Component:_A}=Shopware;_A.override("sw-sales-channel-menu",{computed:{buildMenuTree(){const a=this.$super("buildMenuTree"),i=[];return this.salesChannels.forEach(r=>{r.type.id===Hc&&i.push(r.id)}),a.forEach(r=>{i.includes(r.id)&&(r.path="swag.paypal.pos.detail")}),a}}});const{Component:yA}=Shopware;yA.override("sw-sales-channel-modal",{methods:{onAddChannel(a){if(this.isPayPalPosSalesChannel(a)){this.onCloseModal(),this.$router.push({name:"swag.paypal.pos.wizard"});return}this.$super("onAddChannel",a)},isPayPalPosSalesChannel(a){return a===Hc}}});const mA=`{% block swag_paypal_pos %} <sw-page class="swag-paypal-pos"> {% block swag_paypal_pos_header %} <template #smart-bar-header> <h2> {{ $t('swag-paypal-pos.header') }} </h2> </template> {% endblock %} {% block swag_paypal_pos_actions %} <template #smart-bar-actions> <mt-button v-for="button in buttonConfig" size="small" :disabled="button.disabled" :isLoading="button.isLoading || isLoading" :variant="button.variant" @click="onButtonClick(button.action)"> {{ button.label }} </mt-button> </template> {% endblock %} {% block swag_paypal_pos_content %} <template #content> <sw-card-view> {% block swag_paypal_pos_content_tabs %} <sw-tabs v-if="!isLoading" position-identifier="swag_paypal_pos_content_tabs" class="swag-paypal-pos__tabs"> {% block swag_paypal_pos_content_tab_base %} <sw-tabs-item :route="{ name: 'swag.paypal.pos.detail.overview', params: { id: $route.params.id } }" :title="$t('swag-paypal-pos.tabTitle.overview')"> {{ $t('swag-paypal-pos.tabTitle.overview') }} </sw-tabs-item> {% endblock %} {% block swag_paypal_pos_content_tab_synced_products %} <sw-tabs-item :route="{ name: 'swag.paypal.pos.detail.syncedProducts', params: { id: $route.params.id } }" :title="$t('swag-paypal-pos.tabTitle.syncedProducts')"> {{ $t('swag-paypal-pos.tabTitle.syncedProducts') }} </sw-tabs-item> {% endblock %} {% block swag_paypal_pos_content_tab_settings %} <sw-tabs-item :route="{ name: 'swag.paypal.pos.detail.settings', params: { id: $route.params.id } }" :title="$t('swag-paypal-pos.tabTitle.settings')"> {{ $t('swag-paypal-pos.tabTitle.settings') }} </sw-tabs-item> {% endblock %} {% block swag_paypal_pos_content_tab_runs %} <sw-tabs-item :route="{ name: 'swag.paypal.pos.detail.runs', params: { id: $route.params.id } }" :title="$t('swag-paypal-pos.tabTitle.runs')"> {{ $t('swag-paypal-pos.tabTitle.runs') }} </sw-tabs-item> {% endblock %} {% block swag_paypal_pos_content_tab_help %} <sw-tabs-item href="https://www.izettle.com/help/articles/1083274-what-is-pos" target="_blank" class="swag-paypal-pos__tab-help" :title="$t('swag-paypal-pos.tabTitle.help')"> {{ $t('swag-paypal-pos.tabTitle.help') }} </sw-tabs-item> {% endblock %} </sw-tabs> {% endblock %} {% block swag_paypal_pos_content_account %} <swag-paypal-pos-account :lastRun="lastRun" :salesChannel="salesChannel" /> {% endblock %} {% block swag_paypal_pos_content_card %} <router-view v-if="!isLoading" :key="$route.params.id" v-slot="{ Component }"> <component :is="Component" :salesChannel="salesChannel" :cloneSalesChannelId="cloneSalesChannelId" :lastRun="lastRun" :lastCompleteRun="lastCompleteRun" @buttons-update="updateButtons" @load-sales-channel="loadSalesChannel" @run-update="loadLastRun" @update-clone-sales-channel="updateCloneSalesChannel" /> </router-view> <sw-loader v-if="isLoading" /> {% endblock %} {% block swag_paypal_pos_disclaimer %} <div v-show="!isLoading" class="swag-paypal-pos__disclaimer"> {% block swag_paypal_pos_disclaimer_title %} <div class="swag-paypal-pos__disclaimer-title disclaimer-content"> {{ $t('swag-paypal-pos.detail.disclaimer.headline') }} </div> {% endblock %} {% block swag_paypal_pos_disclaimer_subtitle %} <div class="swag-paypal-pos__disclaimer-subtitle disclaimer-content"> {{ $t('swag-paypal-pos.detail.disclaimer.subheadline') }} </div> {% endblock %} {% block swag_paypal_pos_disclaimer_link %} <a :href="$t('swag-paypal-pos.detail.disclaimer.linkTarget')" class="link swag-paypal-pos__disclaimer-link disclaimer-content" target="_blank"> {{ $t('swag-paypal-pos.detail.disclaimer.linkText') }} </a> {% endblock %} </div> {% endblock %} </sw-card-view> </template> {% endblock %} </sw-page> {% endblock %}`,{Component:wA}=Shopware,{Criteria:za}=Shopware.Data;wA.register("swag-paypal-pos",{template:mA,inject:["salesChannelService","repositoryFactory"],mixins:[Shopware.Mixin.getByName("placeholder")],data(){return{isLoading:!1,previousApiKey:null,salesChannel:{},lastRun:null,lastCompleteRun:null,cloneSalesChannelId:null,buttonConfig:[]}},metaInfo(){return{title:this.title}},computed:{title(){return[this.$t("global.sw-admin-menu.textShopwareAdmin"),this.$t("sw-sales-channel.general.titleMenuItems"),this.$t("swag-paypal-pos.general.moduleTitle")].reverse().join(" | ")},paypalPosSalesChannelRepository(){return this.repositoryFactory.create("swag_paypal_pos_sales_channel")},salesChannelRepository(){return this.repositoryFactory.create("sales_channel")},runRepository(){return this.repositoryFactory.create("swag_paypal_pos_sales_channel_run")},salesChannelCriteria(){const a=new za(1,500);return a.addAssociation(xg),a.addAssociation("countries"),a.addAssociation("currencies"),a.addAssociation("domains"),a.addAssociation("languages"),a}},watch:{"$route.params.id"(){this.loadSalesChannel()}},created(){this.createdComponent()},methods:{createdComponent(){this.loadSalesChannel()},loadSalesChannel(){return this.$route.params.id?(this.salesChannel&&(this.salesChannel=null),this.isLoading=!0,this.salesChannelRepository.get(this.$route.params.id,Shopware.Context.api,this.salesChannelCriteria).then(a=>{this.salesChannel=a,this.previousApiKey=a.extensions.paypalPosSalesChannel.apiKey,this.updateRun(),this.isLoading=!1})):Promise.resolve()},updateCloneSalesChannel(a){this.cloneSalesChannelId=a},updateButtons(a){this.buttonConfig=a},onButtonClick(a){if(typeof a=="string"){this.redirect(a);return}typeof a=="function"&&a.call()},updateRun(){return setTimeout(this.updateRun,2e4),this.loadLastRun()},loadLastRun(a=!1){const i=new za(1,1);return i.addFilter(za.equals("salesChannelId",this.salesChannel.id)),i.addFilter(za.not("AND",[za.equals("status","in_progress")])),i.addSorting(za.sort("createdAt","DESC")),a?i.addFilter(za.equals("task","complete")):i.addAssociation("logs"),this.runRepository.search(i,Shopware.Context.api).then(r=>{if(a){this.lastCompleteRun=r.first(),this.$forceUpdate();return}this.lastRun=r.first(),this.lastRun!==null&&this.lastRun.task!=="complete"?this.loadLastRun(!0):this.lastCompleteRun=this.lastRun,this.$forceUpdate()})}}});const vA=`{% block swag_paypal_pos_synced_products %} <div class="swag-paypal-pos-detail-synced-products"> {% block swag_paypal_pos_synced_products_grid %} <mt-card position-identifier="swag-paypal-pos-synced-products-grid" :title="$t('swag-paypal-pos.detail.syncedProducts.title')" :isLoading="isLoading"> {% block swag_paypal_pos_synced_products_grid %} <template #grid> <sw-data-grid v-if="total > 0" identifier="swag-paypal-pos-detail-synced-products" :dataSource="products" :columns="columns" :isLoading="isLoading" :showActions="actions.length > 0" :showSelection="false" :showSettings="true" :allowColumnEdit="true" :sortBy="sortBy" :sortDirection="sortDirection" :skeletonItemAmount="limit" @column-sort="onSortColumn"> {% block swag_paypal_pos_synced_products_grid_pagination %} <template #pagination> <sw-pagination :limit="limit" :page="page" :total="total" :total-visible="7" @page-change="onPageChange" /> </template> {% endblock %} {% block swag_paypal_pos_synced_products_grid_column_date %} <template #column-date="{ item }"> {% block swag_paypal_pos_synced_products_grid_column_date_formatted %} <template v-if="hasSync(item)"> {{ dateFilter(getSyncDate(item), { hour: '2-digit', minute: '2-digit', day: '2-digit', month: '2-digit', year: '2-digit' }) }} </template> {% endblock %} {% block swag_paypal_pos_synced_products_grid_column_date_empty %} <template v-else> {{ $t('swag-paypal-pos.detail.syncedProducts.notSyncedYet') }} </template> {% endblock %} </template> {% endblock %} {% block swag_paypal_pos_synced_products_grid_column_state %} <template #column-state="{ item }"> {% block swag_paypal_pos_synced_products_grid_column_state_label_log %} <template v-if="hasSync(item)"> <sw-label appearance="pill" :variant="getLabelVariant(getLevel(item))"> {{ $t(getLabel(getLevel(item))) }} </sw-label> </template> {% endblock %} </template> {% endblock %} {% block swag_paypal_pos_synced_products_grid_actions %} <template v-if="actions" #actions="{ item }"> <sw-context-menu-item v-for="action in actions" @click="action.callback(item)"> {{ $t(action.label) }} </sw-context-menu-item> </template> {% endblock %} </sw-data-grid> </template> {% endblock %} {% block swag_paypal_pos_synced_products_empty_state %} <sw-empty-state v-if="total < 1" class="swag-paypal-pos-detail-synced-products__empty-state" :title="$t('swag-paypal-pos.detail.syncedProducts.emptyState.title')" :subline="$t('swag-paypal-pos.detail.syncedProducts.emptyState.message')" /> {% endblock %} </mt-card> {% endblock %} </div> {% endblock %}`,{Component:bA}=Shopware;bA.register("swag-paypal-pos-detail-synced-products",{template:vA,inject:["SwagPayPalPosApiService"],emits:["buttons-update"],mixins:[Shopware.Mixin.getByName("swag-paypal-pos-log-label"),Shopware.Mixin.getByName("listing")],props:{salesChannel:{type:Object,required:!0}},data(){return{products:[],limit:10,isLoading:!1,actions:[{label:"swag-paypal-pos.detail.syncedProducts.actions.productDetails",callback:this.onProductDetails}],columns:[{property:"name",label:"swag-paypal-pos.detail.syncedProducts.columns.name",sortable:!1},{property:"state",label:"swag-paypal-pos.detail.syncedProducts.columns.state",sortable:!1},{property:"date",label:"swag-paypal-pos.detail.syncedProducts.columns.date",sortable:!1}]}},created(){this.createdComponent()},computed:{dateFilter(){return Shopware.Filter.getByName("date")}},methods:{createdComponent(){this.$emit("buttons-update",[]),this.getList()},getList(){if(this.salesChannel===null||this.salesChannel.id===null)return Promise.resolve();this.isLoading=!0;const a=this.getMainListingParams();return this.SwagPayPalPosApiService.getProductLog(this.salesChannel.id,a.page,a.limit).then(i=>{this.products=Object.values(i.elements),this.total=i.total,this.isLoading=!1})},onProductDetails(a){this.$router.push({name:"sw.product.detail.base",params:{id:a.id}})},hasSync(a){return a.extensions.paypalPosLog.length||a.extensions.paypalPosSync.length},getSyncDate(a){return this.hasSync(a)?a.extensions.paypalPosLog[0]?a.extensions.paypalPosLog[0].posSalesChannelRun.updatedAt||a.extensions.paypalPosLog[0].createdAt:a.extensions.paypalPosSync[0].updatedAt||a.extensions.paypalPosSync[0].createdAt:null},getLevel(a){return a.extensions.paypalPosLog[0]?a.extensions.paypalPosLog[0].level:200}}});const SA=`{% block swag_paypal_pos_detail_overview %} <div class="sw-sales-channel-detail-overview"> {% block swag_paypal_pos_detail_overview_status %} <swag-paypal-pos-status-view v-if="salesChannel.active" :isLoading="isLoading" :isSyncing="isSyncing" :lastCompleteRun="lastCompleteRun" :lastFinishedRun="lastRun" :salesChannel="salesChannel" :syncErrors="syncErrors"> {% block swag_paypal_pos_detail_overview_status_actions %} <template #actions> <sw-button-group v-if="salesChannel && salesChannel.active && !isSyncing"> {% block swag_paypal_pos_detail_overview_status_actions_sync_button %} <mt-button class="swag-paypal-pos-detail-overview__sync-button" variant="primary" @click="onStartSync"> {{ $t('swag-paypal-pos.detail.overview.buttonSync') }} </mt-button> {% endblock %} {% block swag_paypal_pos_detail_overview_status_actions_sync_context_menu %} <sw-context-button> {% block swag_paypal_pos_detail_overview_status_actions_sync_context_menu_button %} <template #button> <mt-button class="swag-paypal-pos-detail-overview__sync-button-context" variant="primary" square :disabled="isSyncing"> <mt-icon name="regular-chevron-down-xs" size="16px" /> </mt-button> </template> {% endblock %} {% block swag_paypal_pos_detail_overview_status_actions_sync_context_menu_item_products %} <sw-context-menu-item @click="onStartProductSync"> {{ $t('swag-paypal-pos.detail.overview.buttonSyncProducts') }} </sw-context-menu-item> {% endblock %} {% block swag_paypal_pos_detail_overview_status_actions_sync_context_menu_item_image %} <sw-context-menu-item @click="onStartImageSync"> {{ $t('swag-paypal-pos.detail.overview.buttonSyncImages') }} </sw-context-menu-item> {% endblock %} {% block swag_paypal_pos_detail_overview_status_actions_sync_context_menu_item_inventory %} <sw-context-menu-item @click="onStartInventorySync"> {{ $t('swag-paypal-pos.detail.overview.buttonSyncInventory') }} </sw-context-menu-item> {% endblock %} </sw-context-button> {% endblock %} </sw-button-group> {% block swag_paypal_pos_detail_overview_status_actions_sync_abort_button %} <mt-button v-if="isSyncing" variant="secondary" @click="onSyncAbort"> {{ $t('swag-paypal-pos.detail.overview.buttonSyncAbort') }} </mt-button> {% endblock %} </template> {% endblock %} </swag-paypal-pos-status-view> {% endblock %} {% block swag_paypal_pos_detail_overview_setup %} <swag-paypal-pos-continue-setup v-else /> {% endblock %} {% block swag_paypal_pos_detail_overview_getting_started %} <swag-paypal-pos-getting-started /> {% endblock %} </div> {% endblock %}`,{Component:CA}=Shopware,{Criteria:ti}=Shopware.Data;CA.register("swag-paypal-pos-detail-overview",{template:SA,inject:["SwagPayPalPosApiService","salesChannelService","repositoryFactory"],emits:["run-update","buttons-update"],mixins:[Shopware.Mixin.getByName("placeholder")],props:{salesChannel:{type:Object,required:!1,default:null},lastRun:{type:Object,required:!1,default:null},lastCompleteRun:{type:Object,required:!1,default:null}},data(){return{isSyncing:!1,syncErrors:null,syncingRunId:null,statusErrorLevel:null,isLoading:!1}},computed:{runRepository(){return this.repositoryFactory.create("swag_paypal_pos_sales_channel_run")}},watch:{"salesChannel.id"(){this.checkForSync()},lastRun(){this.$forceUpdate()}},created(){this.createdComponent()},mounted(){this.mountedComponent()},methods:{createdComponent(){this.checkForSync()},mountedComponent(){this.updateButtons()},forceUpdate(){this.$forceUpdate()},startSync(a){this.syncErrors=null,this.isSyncing=!0,this.updateButtons(!0),a(this.salesChannel.id).then(i=>{this.syncingRunId=i.runId,this.updateSync()}).catch(i=>{this.syncErrors=i.response.data.errors,this.$emit("run-update"),this.isSyncing=!1,this.updateButtons()})},updateSync(){this.syncingRunId!==null&&this.runRepository.get(this.syncingRunId,Shopware.Context.api).then(a=>{if(a!==null&&a.status==="in_progress"){setTimeout(this.updateSync,1500);return}this.syncingRunId=null,this.$emit("run-update"),this.isSyncing=!1,this.updateButtons()})},onStartSync(){this.startSync(this.SwagPayPalPosApiService.startCompleteSync.bind(this.SwagPayPalPosApiService))},onStartProductSync(){this.startSync(this.SwagPayPalPosApiService.startProductSync.bind(this.SwagPayPalPosApiService))},onStartImageSync(){this.startSync(this.SwagPayPalPosApiService.startImageSync.bind(this.SwagPayPalPosApiService))},onStartInventorySync(){this.startSync(this.SwagPayPalPosApiService.startInventorySync.bind(this.SwagPayPalPosApiService))},onSyncAbort(){this.syncingRunId!==null&&this.SwagPayPalPosApiService.abortSync(this.syncingRunId).then(()=>{this.updateSync()})},checkForSync(){if(this.salesChannel===null||this.salesChannel.id===null)return;const a=new ti(1,1);a.addFilter(ti.equals("salesChannelId",this.salesChannel.id)),a.addFilter(ti.equals("status","in_progress")),a.addSorting(ti.sort("createdAt","DESC")),this.runRepository.search(a,Shopware.Context.api).then(i=>{i.first()!==null&&(this.isSyncing=!0,this.syncingRunId=i.first().id,this.updateSync())})},updateButtons(a=!1){const i=[{key:"sync",label:this.$t("swag-paypal-pos.detail.overview.buttonSync"),variant:"primary",action:this.onStartSync,disabled:!(this.salesChannel&&this.salesChannel.active),isLoading:this.isSyncing}];a&&i.unshift({key:"abortSync",label:this.$t("swag-paypal-pos.detail.overview.buttonSyncAbort"),action:this.onSyncAbort,disabled:!(this.salesChannel&&this.salesChannel.active)}),this.$emit("buttons-update",i)}}});const PA=`{% block swag_paypal_pos_detail_settings %} <div class="swag-paypal-pos-detail-settings"> {% block swag_paypal_pos_detail_settings_alert %} <mt-banner class="swag-paypal-pos-detail-settings__save-alert"> {{ $t('swag-paypal-pos.detail.settings.saveAlert') }} </mt-banner> {% endblock %} {% block swag_paypal_pos_detail_settings_basic %} <mt-card position-identifier="swag-paypal-pos-detail-settings-basic" :isLoading="isLoading" :title="$t('swag-paypal-pos.detail.settings.titleGeneralSettings')"> <sw-container columns="1fr 200px" gap="0px 30px"> {% block swag_paypal_pos_detail_settings_input_name %} <mt-text-field v-model="salesChannel.name" required type="text" validation="required" :error="salesChannelNameError" :disabled="!acl.can('sales_channel.editor')" :label="$t('sw-sales-channel.detail.labelInputName')" :placeholder="placeholder(salesChannel, 'name', $t('sw-sales-channel.detail.placeholderName'))" /> {% endblock %} {% block swag_paypal_pos_detail_settings_input_active %} <mt-switch v-model="salesChannel.active" bordered :disabled="!acl.can('sales_channel.editor')" :label="$t('sw-sales-channel.detail.labelInputActive')" :helpText="$t('swag-paypal-pos.detail.settings.activeHelpText')" /> {% endblock %} </sw-container> {% block swag_paypal_pos_detail_settings_input_media_domain %} <swag-paypal-pos-url-field v-model="swagPaypalPosSalesChannel.mediaDomain" required :error="swagPaypalPosSalesChannelMediaDomainError" :disabled="!acl.can('sales_channel.editor')" :label="$t('swag-paypal-pos.detail.settings.domain')" :helpText="$t('swag-paypal-pos.detail.settings.domainHelpText')" @update:model-value="forceUpdate" /> {% endblock %} {% block swag_paypal_pos_detail_settings_input_language %} <sw-entity-single-select v-model:value="salesChannel.languageId" entity="language" required :disabled="!acl.can('sales_channel.editor')" :label="$t('global.entities.language')" @update:value="changeLanguage" /> {% endblock %} {% block swag_paypal_pos_detail_settings_input_product_stream %} {# ToDo PPI-56 - implement support for product streams #} <sw-entity-single-select v-if="false" v-model:value="swagPaypalPosSalesChannel.productStreamId" entity="product_stream" :disabled="!acl.can('sales_channel.editor')" :label="$t('swag-paypal-pos.detail.settings.productStream')" @update:value="forceUpdate" /> {% endblock %} </mt-card> {% endblock %} {% block swag_paypal_pos_detail_settings_sync %} <div class="sw-sales-channel-detail-sync"> <mt-card position-identifier="swag-paypal-pos-detail-settings-sync" :isLoading="isLoading" :title="$t('swag-paypal-pos.detail.settings.titleSync')"> {% block swag_paypal_pos_detail_settings_sync_input %} <sw-radio-field v-model:value="salesChannel.extensions.paypalPosSalesChannel.replace" :label="$t('swag-paypal-pos.wizard.syncLibrary.description')" class="swag-paypal-pos-boolean-radio" :options="optionsReplace" :disabled="!acl.can('sales_channel.editor')" @update:value="forceUpdate" /> {% endblock %} </mt-card> </div> {% endblock %} {% block swag_paypal_pos_detail_settings_prices %} <div class="sw-sales-channel-detail-prices"> <mt-card position-identifier="swag-paypal-pos-detail-settings-prices" :isLoading="isLoading" :title="$t('swag-paypal-pos.detail.settings.titlePrices')"> {% block swag_paypal_pos_detail_settings_prices_input %} <swag-paypal-pos-boolean-radio v-model:value="swagPaypalPosSalesChannel.syncPrices" class="swag-paypal-pos-detail-settings__sync-prices-input" :label="$t('swag-paypal-pos.wizard.syncPrices.description')" :optionTrue="optionSyncPrices" :optionFalse="optionNotSyncPrices" :disabled="!acl.can('sales_channel.editor')" @update:value="forceUpdate" /> {% endblock %} </mt-card> </div> {% endblock %} {% block swag_paypal_pos_detail_settings_credentials %} <div class="sw-sales-channel-detail-credentials"> <mt-card position-identifier="swag-paypal-pos-detail-settings-credentials" :isLoading="isLoading" :title="$t('swag-paypal-pos.detail.settings.titleCredentials')"> {% block swag_paypal_pos_detail_settings_credentials_apikey %} <mt-password-field v-model="swagPaypalPosSalesChannel.apiKey" class="swag-paypal-pos-detail-settings__apikey-field" required :label="$t('swag-paypal-pos.authentication.labelApiKey')" :disabled="!acl.can('sales_channel.editor')" :placeholder="$t('swag-paypal-pos.authentication.placeholderApiKey')" @update:modelValue="forceUpdate" /> {% endblock %} {% block swag_paypal_pos_detail_settings_credentials_apikey_description %} <div class="swag-paypal-pos-detail-settings__apikey-description"> {% block swag_paypal_pos_detail_settings_credentials_apikey_description_text %} <div class="swag-paypal-pos-detail-settings__apikey-description-text"> {{ $t('swag-paypal-pos.authentication.apiKeyDescription') }} </div> {% endblock %} {% block swag_paypal_pos_detail_settings_credentials_apikey_description_link %} <sw-external-link v-if="acl.can('sales_channel.editor')" :href="apiKeyUrl" class="swag-paypal-pos-detail-settings__apikey-description-link"> {% block swag_paypal_pos_detail_settings_credentials_apikey_description_link_text %} {{ $t('swag-paypal-pos.authentication.buttonGenerateKey') }} {% endblock %} </sw-external-link> {% endblock %} </div> {% endblock %} </mt-card> </div> {% endblock %} {% block swag_paypal_pos_detail_settings_options %} <mt-card position-identifier="swag-paypal-pos-detail-settings-options" :title="$t('swag-paypal-pos.detail.settings.optionsTitle')" :isLoading="isLoading"> <template #grid> <sw-container rows="auto auto"> {% block swag_paypal_pos_detail_settings_options_reset %} <sw-card-section> <sw-container columns="1fr 175px" gap="0px 30px" class="swag-paypal-pos-detail-settings__reset-sync"> {% block sw_sales_channel_detail_base_options_reset_text %} <div class="swag-paypal-pos-detail-settings__options-description-text"> {{ $t('swag-paypal-pos.detail.settings.reset.descriptionText') }} </div> {% endblock %} {% block sw_sales_channel_detail_base_options_reset_button %} <div class="swag-paypal-pos-detail-settings__options-button"> <mt-button size="small" :disabled="!acl.can('sales_channel.editor')" variant="secondary" @click="showResetModal = true"> {{ $t('swag-paypal-pos.detail.settings.reset.buttonTitle') }} </mt-button> </div> {% endblock %} </sw-container> </sw-card-section> {% endblock %} {% block swag_paypal_pos_detail_settings_options_delete %} <sw-card-section divider="top"> <sw-container columns="1fr 175px" gap="0px 30px" class="sw-sales-channel-detail-settings__delete-sales-channel"> {% block sw_sales_channel_detail_base_options_delete_text %} <div class="swag-paypal-pos-detail-settings__options-description-text"> <strong>{{ $t('global.default.warning') }}</strong> {{ $t('sw-sales-channel.detail.textDeleteSalesChannelWarning') }} </div> {% endblock %} {% block sw_sales_channel_detail_base_options_delete_button %} <div class="swag-paypal-pos-detail-settings__options-button"> <mt-button variant="critical" size="small" :disabled="!acl.can('sales_channel.deleter')" @click="showDeleteModal = true"> {{ $t('sw-sales-channel.detail.buttonDelete') }} </mt-button> </div> {% endblock %} </sw-container> </sw-card-section> {% endblock %} </sw-container> </template> {% block swag_paypal_pos_detail_settings_options_reset_modal %} <sw-modal v-if="showResetModal" ref="modal" class="swag-paypal-pos-detail-settings__reset-sync-modal" variant="small" :title="$t('swag-paypal-pos.detail.settings.reset.modalTitle')" @modal-close="showResetModal = false"> {% block swag_paypal_pos_detail_settings_options_reset_modal_confirmtext %} <p class="swag-paypal-pos-detail-settings__reset-modal-confirm-text"> {{ $t('swag-paypal-pos.detail.settings.reset.modalConfirmText') }} </p> <p class="swag-paypal-pos-detail-settings__reset-modal-name"> <strong>{{ placeholder(salesChannel, 'name') }}</strong> </p> <p>{{ $t('swag-paypal-pos.detail.settings.reset.modalTextInfo') }}</p> {% endblock %} {% block sw_sales_channel_detail_options_reset_modal_footer %} <template #modal-footer> {% block swag_paypal_pos_detail_settings_options_reset_modal_abort %} <mt-button size="small" variant="secondary" @click="showResetModal = false"> {{ $t('global.default.cancel') }} </mt-button> {% endblock %} {% block swag_paypal_pos_detail_settings_options_reset_modal_confirm %} <mt-button size="small" variant="critical" @click="onConfirmReset"> {{ $t('swag-paypal-pos.detail.settings.reset.modalButtonConfirm') }} </mt-button> {% endblock %} </template> {% endblock %} </sw-modal> {% endblock %} {% block swag_paypal_pos_detail_settings_options_delete_modal %} <sw-modal v-if="showDeleteModal" ref="modal" class="sw-sales-channel-detail-settings__delete-modal" variant="small" :title="$t('sw-sales-channel.detail.deleteModalTitle')" @modal-close="showDeleteModal = false"> {% block swag_paypal_pos_detail_settings_options_delete_modal_confirmtext %} <p class="sw-sales-channel-detail-settings__delete-modal-confirm-text"> {{ $t('sw-sales-channel.detail.textConfirmDelete') }} </p> <p class="sw-sales-channel-detail-settings__delete-modal-name"> <strong>{{ placeholder(salesChannel, 'name') }}</strong> </p> <p>{{ $t('sw-sales-channel.detail.textDeleteInfo') }}</p> {% endblock %} {% block sw_sales_channel_detail_options_delete_modal_footer %} <template #modal-footer> {% block swag_paypal_pos_detail_settings_options_delete_modal_abort %} <mt-button size="small" variant="secondary" @click="showDeleteModal = false"> {{ $t('global.default.cancel') }} </mt-button> {% endblock %} {% block swag_paypal_pos_detail_settings_options_delete_modal_confirm %} <mt-button size="small" variant="critical" @click="onConfirmDelete"> {{ $t('sw-sales-channel.detail.buttonConfirmDelete') }} </mt-button> {% endblock %} </template> {% endblock %} </sw-modal> {% endblock %} </mt-card> {% endblock %} </div> {% endblock %}`,{Component:Lg,Context:AA,State:IA}=Shopware,{mapPropertyErrors:jf}=Lg.getComponentHelper(),{ShopwareError:EA}=Shopware.Classes;Lg.register("swag-paypal-pos-detail-settings",{template:PA,inject:["SwagPayPalPosApiService","SwagPayPalPosSettingApiService","SwagPayPalPosWebhookRegisterService","salesChannelService","repositoryFactory","acl"],emits:["load-sales-channel","buttons-update"],mixins:[Shopware.Mixin.getByName("swag-paypal-pos-catch-error"),Shopware.Mixin.getByName("placeholder"),Shopware.Mixin.getByName("notification")],props:{salesChannel:{type:Object,required:!0},cloneSalesChannelId:{type:String,required:!1,default:null}},data(){return{isLoading:!1,showDeleteModal:!1,showResetModal:!1,isSaveSuccessful:!1,isTestingCredentials:!1,isTestCredentialsSuccessful:!1,apiKeyUrl:this.SwagPayPalPosSettingApiService.generateApiUrl(),previousApiKey:this.salesChannel.extensions.paypalPosSalesChannel.apiKey}},computed:{...jf("salesChannel",["name"]),...jf("swagPaypalPosSalesChannel",["mediaDomain"]),salesChannelRepository(){return this.repositoryFactory.create("sales_channel")},optionSyncPrices(){return{name:this.$t("swag-paypal-pos.wizard.syncPrices.optionTrueLabel"),description:this.$t("swag-paypal-pos.wizard.syncPrices.optionTrueDescription")}},optionNotSyncPrices(){return{name:this.$t("swag-paypal-pos.wizard.syncPrices.optionFalseLabel"),description:this.$t("swag-paypal-pos.wizard.syncPrices.optionFalseDescription")}},optionsReplace(){return[{value:2,name:this.$t("swag-paypal-pos.wizard.syncLibrary.optionReplacePermanentlyLabel"),description:this.$t("swag-paypal-pos.wizard.syncLibrary.optionReplacePermanentlyDescription")},{value:1,name:this.$t("swag-paypal-pos.wizard.syncLibrary.optionReplaceOneTimeLabel"),description:this.$t("swag-paypal-pos.wizard.syncLibrary.optionReplaceOneTimeDescription")},{value:0,name:this.$t("swag-paypal-pos.wizard.syncLibrary.optionReplaceNotLabel"),description:this.$t("swag-paypal-pos.wizard.syncLibrary.optionReplaceNotDescription")}]},swagPaypalPosSalesChannel(){return this.salesChannel.extensions.paypalPosSalesChannel}},mounted(){this.mountedComponent()},methods:{mountedComponent(){this.updateButtons()},forceUpdate(){this.$forceUpdate()},onSave(){return this.isLoading=!0,this.isSaveSuccessful=!1,this.updateButtons(),this.swagPaypalPosSalesChannel.apiKey===this.previousApiKey?this.save():this.SwagPayPalPosSettingApiService.validateApiCredentials(this.swagPaypalPosSalesChannel.apiKey,this.salesChannel.id).then(()=>this.SwagPayPalPosSettingApiService.fetchInformation(this.salesChannel,!0)).then(this.save).catch(a=>{throw this.catchAuthenticationError(a),this.isLoading=!1,this.updateButtons(),a})},save(){return this.SwagPayPalPosWebhookRegisterService.registerWebhook(this.salesChannel.id).catch(this.catchError.bind(this,"swag-paypal-pos.messageWebhookRegisterError")),this.salesChannelRepository.save(this.salesChannel,AA.api).then(()=>{this.isLoading=!1,this.isSaveSuccessful=!0,this.updateButtons(),this.$emit("load-sales-channel"),Shopware.Utils.EventBus.emit("sw-sales-channel-detail-sales-channel-change"),this.cloneSalesChannelId!==null&&this.SwagPayPalPosSettingApiService.cloneProductVisibility(this.cloneSalesChannelId,this.salesChannel.id).catch(this.catchError.bind(this,"swag-paypal-pos.messageCloneError"))}).catch(()=>{this.isLoading=!1,this.updateButtons(),this.createNotificationError({message:this.$t("sw-sales-channel.detail.messageSaveError",0,{name:this.salesChannel.name||this.placeholder(this.salesChannel,"name")})})}).finally(()=>{if(this.swagPaypalPosSalesChannel.mediaDomain===null){const a=`swag_paypal_pos_sales_channel.${this.swagPaypalPosSalesChannel.id}.mediaDomain`,i=new EA({code:"INVALID_URL"});IA.commit("error/addApiError",{expression:a,error:i})}})},testCredentials(){const a=this.swagPaypalPosSalesChannel.apiKey;this.isTestingCredentials=!0,this.isTestCredentialsSuccessful=!1,this.SwagPayPalPosSettingApiService.validateApiCredentials(a).then(i=>{const r=i.credentialsValid;this.isTestingCredentials=!1,this.isTestCredentialsSuccessful=r}).catch(i=>{this.catchAuthenticationError(i),this.isTestingCredentials=!1})},catchAuthenticationError(a){this.catchError("swag-paypal-pos.authentication.messageTestError",a),this.isTestingCredentials=!1,this.isTestCredentialsSuccessful=!1},updateButtons(){const a=[{key:"save",label:this.$t("global.default.save"),variant:"primary",action:this.onSave,disabled:!1,isLoading:this.isLoading}];this.$emit("buttons-update",a)},onConfirmDelete(){this.showDeleteModal=!1,this.$nextTick(()=>{this.deleteSalesChannel(this.salesChannel.id),this.$router.push({name:"sw.dashboard.index"})})},deleteSalesChannel(a){return this.SwagPayPalPosWebhookRegisterService.unregisterWebhook(a).finally(()=>this.salesChannelRepository.delete(a,Shopware.Context.api).then(()=>{Shopware.Utils.EventBus.emit("sw-sales-channel-detail-sales-channel-change")}))},onConfirmReset(){this.showResetModal=!1,this.$nextTick(()=>{this.SwagPayPalPosApiService.resetSync(this.salesChannel.id).then(()=>{this.$router.push({name:"swag.paypal.pos.detail.overview",params:{id:this.salesChannel.id}})})})},changeLanguage(){this.$nextTick(()=>{this.salesChannel.languages.length=0,this.salesChannel.languages.push({id:this.salesChannel.languageId}),this.$forceUpdate()})}}});const kA=`{% block swag_paypal_pos_detail_runs %} <div class="swag-paypal-pos-detail-runs"> {% block swag_paypal_pos_detail_runs_card %} <mt-card position-identifier="swag-paypal-pos-detail-runs" :title="$t('swag-paypal-pos.detail.runs.title')" :isLoading="isLoading"> {% block swag_paypal_pos_detail_runs_card_grid %} <template #grid> <sw-data-grid v-if="total > 0" identifier="swag-paypal-pos-detail-runs" :columns="columns" :dataSource="runs" :isLoading="isLoading || total === 0" :showActions="true" :showSelection="false" :showSettings="true" :allowColumnEdit="true" :sortBy="sortBy" :sortDirection="sortDirection" :skeletonItemAmount="limit" @column-sort="onSortColumn"> {% block swag_paypal_pos_detail_runs_card_grid_pagination %} <template #pagination> <sw-pagination :limit="limit" :page="page" :total="total" :total-visible="7" @page-change="onPageChange" /> </template> {% endblock %} {% block swag_paypal_pos_detail_runs_other_grid_column_log %} <template #column-task="{ item }"> {{ $t(\`swag-paypal-pos.detail.runs.\${item.task}Task\`) }} </template> {% endblock %} {% block swag_paypal_pos_detail_runs_card_grid_column_state %} <template #column-state="{ item }"> {% block swag_paypal_pos_detail_runs_card_grid_column_state_label %} <sw-label appearance="pill" :variant="getLabelVariant(item)"> {{ $t(getLabel(item)) }} </sw-label> {% endblock %} </template> {% endblock %} {% block swag_paypal_pos_detail_runs_card_grid_column_date %} <template #column-date="{ item }"> {% block swag_paypal_pos_detail_runs_card_grid_column_date_formatted %} {{ dateFilter(item.finishedAt, { hour: '2-digit', minute: '2-digit', day: '2-digit', month: '2-digit', year: '2-digit' }) }} {% endblock %} </template> {% endblock %} {% block swag_paypal_pos_detail_runs_card_grid_actions %} <template #actions="{ item }"> {% block swag_paypal_pos_detail_runs_card_grid_actions_details %} <sw-context-menu-item :disabled="item.logs.length <= 0" @click="onShowModal(item.id)"> {{ $t('swag-paypal-pos.detail.runs.actions.showDetails') }} </sw-context-menu-item> {% endblock %} </template> {% endblock %} </sw-data-grid> </template> {% endblock %} {% block swag_paypal_pos_detail_runs_card_empty_state %} <template #default> <sw-empty-state v-if="total < 1" class="swag-paypal-pos-detail-runs__empty-state" :title="$t('swag-paypal-pos.detail.runs.emptyState.title')" :subline="$t('swag-paypal-pos.detail.runs.emptyState.message')" /> </template> {% endblock %} {% block swag_paypal_pos_detail_runs_card_toolbar %} <template v-if="total > 0" #toolbar> {% block swag_paypal_pos_detail_runs_card_toolbar_container %} <sw-container columns="1fr min-content" align="center"> {% block swag_paypal_pos_detail_runs_card_toolbar_container_text %} <p>{{ $t('swag-paypal-pos.detail.runs.toolbarText') }}</p> {% endblock %} {% block swag_paypal_pos_detail_runs_card_toolbar_container_button %} <mt-button :disabled="!acl.can('sales_channel.editor')" variant="secondary" @click="onClearLogs"> {{ $t('swag-paypal-pos.detail.cleanLog') }} </mt-button> {% endblock %} </sw-container> {% endblock %} </template> {% endblock %} </mt-card> {% endblock %} {% block swag_paypal_pos_detail_runs_log_modal %} <sw-modal v-if="showModal" class="swag-paypal-pos-detail-runs__modal" :title="$t('swag-paypal-pos.detail.runs.title')" :isLoading="isLoading" variant="large" @modal-close="onCloseModal"> {% block swag_paypal_pos_detail_runs_log_modal_logs %} <swag-paypal-pos-detail-logs :runId="currentRunId" /> {% endblock %} {% block swag_paypal_pos_detail_runs_log_modal_footer %} <template #modal-footer> {% block swag_paypal_pos_detail_runs_log_modal_footer_close_modal_button %} <mt-button variant="primary" @click="onCloseModal"> {{ $t('global.default.cancel') }} </mt-button> {% endblock %} </template> {% endblock %} </sw-modal> {% endblock %} </div> {% endblock %}`,{Component:RA,Context:$A}=Shopware,{Criteria:Fa}=Shopware.Data;RA.register("swag-paypal-pos-detail-runs",{template:kA,inject:["SwagPayPalPosApiService","repositoryFactory","acl"],emits:["buttons-update","run-update"],mixins:[Shopware.Mixin.getByName("swag-paypal-pos-catch-error"),Shopware.Mixin.getByName("notification"),Shopware.Mixin.getByName("listing")],props:{salesChannel:{type:Object,required:!1,default:null}},data(){return{runs:[],limit:10,sortBy:"finishedAt",sortDirection:"DESC",isLoading:!1,isCleaningLog:!1,showModal:!1,currentRunId:""}},computed:{runRepository(){return this.repositoryFactory.create("swag_paypal_pos_sales_channel_run")},columns(){return[{property:"task",dataIndex:"task",label:"swag-paypal-pos.detail.runs.columns.task",sortable:!0},{property:"state",dataIndex:"logs.level",label:"swag-paypal-pos.detail.runs.columns.state",sortable:!0},{property:"date",dataIndex:"finishedAt",label:"swag-paypal-pos.detail.runs.columns.date",sortable:!0}]},dateFilter(){return Shopware.Filter.getByName("date")}},created(){this.createdComponent()},methods:{createdComponent(){this.$emit("buttons-update",[])},getListCriteria(){const a=new Fa(this.page,this.limit);a.addFilter(Fa.equals("salesChannelId",this.salesChannel.id)),a.addFilter(Fa.not("AND",[Fa.equals("status","in_progress")])),a.addAssociation("logs"),a.getAssociation("logs").limit=1,a.getAssociation("logs").addSorting(Fa.sort("level","DESC"));const i=this.getMainListingParams();return a.addSorting(Fa.sort(i.sortBy,i.sortDirection,i.naturalSorting)),a.addSorting(Fa.sort("finishedAt","DESC")),a},getList(){return this.salesChannel===null||this.salesChannel.id===null?Promise.resolve():(this.isLoading=!0,this.runRepository.search(this.getListCriteria(),$A.api).then(a=>{this.runs=a,this.total=a.total,this.page=a.criteria.page,this.limit=a.criteria.limit,this.isLoading=!1}))},onShowModal(a){this.currentRunId=a,this.showModal=!0},onCloseModal(){this.showModal=!1,this.currentRunId=""},onClearLogs(){return this.isLoading=!0,this.SwagPayPalPosApiService.startLogCleanup(this.salesChannel.id).then(()=>(this.$emit("run-update"),this.getList())).catch(a=>{this.catchError(null,a),this.getList()})},getLabelVariant(a){return a.status==="cancelled"?"info":a.status==="failed"?"danger":a.logs.length<=0?"success":a.logs[0].level>=400?"danger":a.logs[0].level>=300?"warning":a.logs[0].level>200?"info":"success"},getLabel(a){return a.status==="cancelled"?"swag-paypal-pos.detail.runs.states.aborted":a.status==="failed"?"swag-paypal-pos.detail.runs.states.failed":a.logs.length<=0?"swag-paypal-pos.detail.runs.states.successful":a.logs[0].level>200?"swag-paypal-pos.detail.runs.states.withWarnings":"swag-paypal-pos.detail.runs.states.successful"}}});const TA='{% block sw_first_run_wizard_modal %} <div class="swag-paypal-pos-wizard"> <sw-modal v-if="showModal" class="swag-paypal-pos-wizard-modal" position-identifier="swag-paypal-pos-wizard-modal" :title="title" :variant="variant" @modal-close="onCloseModal"> {% block swag_paypal_pos_wizard_modal_content %} <div class="swag-paypal-pos-wizard__modal-content"> <sw-container class="swag-paypal-pos-wizard__columns" :class="{ \'swag-paypal-pos-wizard__columns--two\': showSteps }"> {% block swag_paypal_pos_wizard_modal_content_steps %} <div v-if="showSteps" class="swag-paypal-pos-wizard__steps"> <sw-step-display :initialItemVariants="stepInitialItemVariants" :itemIndex="stepIndex" :itemVariant="stepVariant"> <sw-step-item v-for="pageName in displayStepperPages" :key="pageName"> {{ $t(`swag-paypal-pos.wizard.stepItemTitle.${pageName}`) }} </sw-step-item> </sw-step-display> </div> {% endblock %} {% block swag_paypal_pos_wizard_modal_content_page %} <div class="swag-paypal-pos-wizard__page"> <router-view v-slot="{ Component }" > <component :is="Component" :salesChannel="salesChannel" :cloneSalesChannelId="cloneSalesChannelId" :saveSalesChannel="save" :isLoading="isLoading" @buttons-update="updateButtons" @frw-set-title="setTitle" @frw-finish="onFinishWizard" @toggle-loading="toggleLoading" @recreate-sales-channel="createNewSalesChannel" @update-clone-sales-channel="updateCloneSalesChannel" /> </router-view> </div> {% endblock %} </sw-container> </div> {% endblock %} {% block swag_paypal_pos_wizard_modal_footer %} <template #modal-footer> <div class="swag-paypal-pos-wizard__footer"> {% block swag_paypal_pos_wizard_modal_footer_left %} <div class="footer-left"> <mt-button v-for="button in buttons.left" :key="button.action" size="small" :disabled="button.disabled" :isLoading="isLoading" :variant="button.variant" @click="onButtonClick(button.action)"> {{ button.label }} </mt-button> </div> {% endblock %} {% block swag_paypal_pos_wizard_modal_footer_right %} <div class="footer-right"> <mt-button v-for="button in buttons.right" :key="button.action" size="small" :disabled="button.disabled" :isLoading="isLoading" :variant="button.variant" @click="onButtonClick(button.action)"> {{ button.label }} </mt-button> </div> {% endblock %} </div> </template> {% endblock %} </sw-modal> </div> {% endblock %}',{Component:xA,Context:qa}=Shopware,{Criteria:LA}=Shopware.Data;xA.extend("swag-paypal-pos-wizard","sw-first-run-wizard-modal",{template:TA,inject:["SwagPayPalPosApiService","SwagPayPalPosSettingApiService","SwagPayPalPosWebhookRegisterService","salesChannelService","repositoryFactory"],mixins:[Shopware.Mixin.getByName("swag-paypal-pos-catch-error"),Shopware.Mixin.getByName("notification")],data(){return{showModal:!0,isLoading:!1,salesChannel:{},cloneSalesChannelId:null,stepperPages:["connection","connectionSuccess","connectionDisconnect","customization","productSelection","syncLibrary","syncPrices","finish"],stepper:{},currentStep:{}}},metaInfo(){return{title:this.wizardTitle}},computed:{displayStepperPages(){return this.stepperPages.filter(a=>a!=="connectionDisconnect")},stepInitialItemVariants(){const a=this.stepperPages.length,{navigationIndex:i}=this.currentStep,r=[];for(let o=1;o<=a;o+=1)o<i?r.push("success"):o===i?r.push("info"):r.push("disabled");return r},paypalPosSalesChannelRepository(){return this.repositoryFactory.create("swag_paypal_pos_sales_channel")},salesChannelRepository(){return this.repositoryFactory.create("sales_channel")},salesChannelCriteria(){return new LA(1,500).addAssociation(xg).addAssociation("countries").addAssociation("currencies").addAssociation("domains").addAssociation("languages")},wizardTitle(){return[this.$t("global.sw-admin-menu.textShopwareAdmin"),this.$t("swag-paypal-pos.general.moduleTitle"),this.title].reverse().join(" | ")}},watch:{$route(a){this.handleRouteUpdate(a)}},mounted(){this.mountedComponent()},methods:{handleRouteUpdate(a){const i=a.name.replace("swag.paypal.pos.wizard.","");this.currentStep=this.stepper[i]},createdComponent(){if(this.generateStepper(),this.$route.params.id){this.loadSalesChannel();return}this.createNewSalesChannel()},mountedComponent(){const a=this.$route.name.replace("swag.paypal.pos.wizard.","");this.currentStep=this.stepper[a]},generateStepper(){let a=1;this.stepper=this.stepperPages.reduce((i,r)=>(r==="connectionDisconnect"&&(a-=1),i[r]={name:`swag.paypal.pos.wizard.${r}`,variant:"large",navigationIndex:a},a===1&&(this.currentStep=i[r]),a+=1,i),{})},onCloseModal(){if(!this.salesChannel._isNew&&(this.$route.params.id||this.salesChannel.id)){this.routeToDetailOverview();return}this.routeToDashboard()},onFinishWizard(){this.routeToDetailOverview(!0)},routeToDashboard(){this.showModal=!1,this.$nextTick(()=>{this.$router.push({name:"sw.dashboard.index"})})},routeToDetailOverview(a=!1){this.showModal=!1,this.save(a).then(()=>{a&&this.SwagPayPalPosApiService.startCompleteSync(this.salesChannel.id),this.$router.push({name:"swag.paypal.pos.detail.overview",params:{id:this.salesChannel.id}})})},save(a=!1,i=!1){return a&&(this.salesChannel.active=!0),this.salesChannelRepository.save(this.salesChannel,qa.api).then(async()=>{this.isLoading=!1,this.isSaveSuccessful=!0,this.isNewEntity=!1,Shopware.Utils.EventBus.emit("sw-sales-channel-detail-sales-channel-change"),await this.loadSalesChannel(),this.cloneProductVisibility(),this.registerWebhook(i)}).catch(()=>{this.isLoading=!1,this.createNotificationError({message:this.$t("sw-sales-channel.detail.messageSaveError",0,{name:this.salesChannel.name||this.placeholder(this.salesChannel,"name")})})})},registerWebhook(a=!1){const i=this.SwagPayPalPosWebhookRegisterService.registerWebhook(this.salesChannel.id);return a?i:i.catch(this.catchError.bind(this,"swag-paypal-pos.messageWebhookRegisterError"))},cloneProductVisibility(){this.cloneSalesChannelId!==null&&this.SwagPayPalPosSettingApiService.cloneProductVisibility(this.cloneSalesChannelId,this.salesChannel.id).catch(a=>{a.response.data&&a.response.data.errors&&this.createNotificationError({message:this.$t("swag-paypal-pos.messageCloneError")})})},createNewSalesChannel(){qa.api.languageId!==qa.api.systemLanguageId&&(qa.api.languageId=qa.api.systemLanguageId),this.previousApiKey=null,this.salesChannel=this.salesChannelRepository.create(qa.api),this.salesChannel.typeId=Hc,this.salesChannel.name=this.$t("swag-paypal-pos.wizard.salesChannelPrototypeName"),this.salesChannel.active=!1,this.salesChannel.extensions.paypalPosSalesChannel=this.paypalPosSalesChannelRepository.create(qa.api),Object.assign(this.salesChannel.extensions.paypalPosSalesChannel,{mediaDomain:"",apiKey:"",imageDomain:"",productStreamId:null,syncPrices:!0,replace:0}),this.salesChannelService.generateKey().then(a=>{this.salesChannel.accessKey=a.accessKey}).catch(()=>{this.createNotificationError({message:this.$t("sw-sales-channel.detail.messageAPIError")})})},loadSalesChannel(){const a=this.$route.params.id||this.salesChannel.id;return a?(this.isLoading=!0,this.salesChannelRepository.get(a,Shopware.Context.api,this.salesChannelCriteria).then(i=>{this.salesChannel=i,this.previousApiKey=i.extensions.paypalPosSalesChannel.apiKey,this.isLoading=!1})):new Promise(i=>{i()})},updateCloneSalesChannel(a){this.cloneSalesChannelId=a},toggleLoading(a){this.isLoading=a}}});const OA=`{% block swag_paypal_pos_wizard_connection %} <div class="swag-paypal-pos-wizard-connection"> {% block swag_paypal_pos_wizard_connection_headline %} <div class="swag-paypal-pos-wizard-connection__headline"> {{ $t('swag-paypal-pos.wizard.connection.headerConnect') }} </div> {% endblock %} {% block swag_paypal_pos_wizard_connection_apikey %} <mt-password-field v-model="salesChannel.extensions.paypalPosSalesChannel.apiKey" class="swag-paypal-pos-wizard-connection__apikey-field" required :label="$t('swag-paypal-pos.authentication.labelApiKey')" :placeholder="$t('swag-paypal-pos.authentication.placeholderApiKey')" @update:modelValue="forceUpdate" /> {% endblock %} {% block swag_paypal_pos_wizard_connection_apikey_description %} <div class="swag-paypal-pos-wizard-connection__apikey-description"> {% block swag_paypal_pos_wizard_connection_apikey_description_text %} <div class="swag-paypal-pos-wizard-connection__apikey-description-text"> {{ $t('swag-paypal-pos.authentication.apiKeyDescription') }} </div> {% endblock %} {% block swag_paypal_pos_wizard_connection_apikey_description_link %} <mt-link :to="apiKeyUrl" class="swag-paypal-pos-wizard-connection__apikey-description-link" type="external" > {% block swag_paypal_pos_wizard_connection_apikey_description_link_text %} {{ $t('swag-paypal-pos.authentication.buttonGenerateKey') }} {% endblock %} </mt-link> {% endblock %} </div> {% endblock %} {% block swag_paypal_pos_wizard_connection_header_new_customer %} <div class="swag-paypal-pos-wizard-connection__new-customer-headline"> {{ $t('swag-paypal-pos.wizard.connection.headerNewCustomer') }} </div> {% endblock %} {% block swag_paypal_pos_wizard_connection_new_customer %} <mt-card position-identifier="swag-paypal-pos-wizard-connection-new-customer" :isLoading="isConnecting"> <div class="swag-paypal-pos-wizard-connection__new-customer-container"> {% block swag_paypal_pos_wizard_connection_new_customer_image %} <img class="swag-paypal-pos-wizard-connection__pos-logo" :src="assetFilter('swagpaypal/administration/static/img/paypal-pos-logo-full.png')" alt="Zettle logo" > {% endblock %} {% block swag_paypal_pos_wizard_connection_new_customer_button %} <mt-button class="swag-paypal-pos-wizard-connection__pos-link" ghost size="small" :link="$t('swag-paypal-pos.wizard.connection.buttonCreateAccountLink')" variant="secondary" > {% block swag_paypal_pos_wizard_connection_new_customer_button_text %} <span class="swag-paypal-pos-wizard-connection__pos-link-text"> {{ $t('swag-paypal-pos.wizard.connection.buttonCreateAccount') }} </span> {% endblock %} {% block swag_paypal_pos_wizard_connection_new_customer_button_icon %} <template #iconBack> <mt-icon name="regular-external-link-s" class="swag-paypal-pos-wizard-connection__pos-link-icon" size="10px" /> </template> {% endblock %} </mt-button> {% endblock %} </div> </mt-card> {% endblock %} </div> {% endblock %}`,{Component:DA}=Shopware;DA.register("swag-paypal-pos-wizard-connection",{template:OA,inject:["SwagPayPalPosSettingApiService"],emits:["frw-set-title","buttons-update","toggle-loading"],mixins:[Shopware.Mixin.getByName("notification"),Shopware.Mixin.getByName("swag-paypal-pos-catch-error")],props:{salesChannel:{type:Object,required:!0},cloneSalesChannelId:{type:String,required:!1,default:null},isLoading:{type:Boolean,required:!1,default:!1}},data(){return{isConnecting:!1,apiKeyUrl:this.SwagPayPalPosSettingApiService.generateApiUrl()}},computed:{assetFilter(){return Shopware.Filter.getByName("asset")}},watch:{"salesChannel.extensions.paypalPosSalesChannel.apiKey"(a){a&&this.updateButtons()}},created(){this.createdComponent()},methods:{createdComponent(){this.updateButtons(),this.setTitle()},setTitle(){this.$emit("frw-set-title",this.$t("swag-paypal-pos.wizard.connection.modalTitle"))},updateButtons(){const a=[{key:"next",label:this.$t("sw-first-run-wizard.general.buttonNext"),position:"right",variant:"primary",action:this.routeToConnectionSuccess,disabled:this.isLoading||!this.salesChannel.extensions.paypalPosSalesChannel.apiKey}];this.$emit("buttons-update",a)},routeToConnectionSuccess(){this.toggleLoadingState(!0);const a=this.salesChannel.extensions.paypalPosSalesChannel.apiKey;this.SwagPayPalPosSettingApiService.validateApiCredentials(a).then(i=>{i.credentialsValid===!0&&(this.toggleLoadingState(!1),this.$router.push({name:"swag.paypal.pos.wizard.connectionSuccess"}))}).catch(this.catchError.bind(this,"swag-paypal-pos.authentication.messageTestError")).finally(()=>{this.toggleLoadingState(!1)})},forceUpdate(){this.$forceUpdate(),this.updateButtons()},toggleLoadingState(a){this.isConnecting=a,this.$emit("toggle-loading",a)}}});const NA=`{% block swag_paypal_pos_wizard_connection_success %} <div class="swag-paypal-pos-wizard-connection-success"> {% block swag_paypal_pos_wizard_connection_success_headline_content %} <div class="swag-paypal-pos-wizard-connection-success__content"> {% block swag_paypal_pos_wizard_connection_success_icon %} <div class="swag-paypal-pos-wizard-connection-success__icon-wrapper"> <mt-icon class="swag-paypal-pos-wizard-connection-success__icon" name="regular-thumbs-up" size="80px" color="#37D046" /> </div> {% endblock %} {% block swag_paypal_pos_wizard_connection_success_headline %} <div class="swag-paypal-pos-wizard-connection-success__headline"> {{ $t('swag-paypal-pos.wizard.connectionSuccess.headline') }} </div> {% endblock %} {% block swag_paypal_pos_wizard_connection_success_info %} <div class="swag-paypal-pos-wizard-connection-success__info"> {{ $t('swag-paypal-pos.wizard.connectionSuccess.info') }} </div> {% endblock %} {% block swag_paypal_pos_wizard_connection_success_user %} <mt-card class="swag-paypal-pos-wizard-connection-success__user" position-identifier="swag-paypal-pos-wizard-connection-success-user" :isLoading="isFetchingInformation"> <sw-container class="swag-paypal-pos-wizard-connection-success__user-container" columns="30px auto auto" align="center" gap="30px"> {% block swag_paypal_pos_wizard_connection_success_user_avatar %} <sw-avatar class="swag-paypal-pos-wizard-connection-success__user-avatar" size="40px" :firstName="posUser.firstName" :lastName="posUser.lastName" /> {% endblock %} {% block swag_paypal_pos_wizard_connection_success_user_information %} <div class="swag-paypal-pos-wizard-connection-success__user-info"> {% block swag_paypal_pos_wizard_connection_success_user_information_real %} <div class="swag-paypal-pos-wizard-connection-success__user-info-name"> {{ posUser.fullName }} </div> <div class="swag-paypal-pos-wizard-connection-success__user-info-mail"> {{ posUser.mail }} </div> {% endblock %} </div> {% endblock %} {% block swag_paypal_pos_wizard_connection_success_user_disconnect_button %} <mt-button class="swag-paypal-pos-wizard-connection-success__user-disconnect" ghost size="small" variant="secondary" @click="onDisconnect"> {{ $t('swag-paypal-pos.wizard.connectionSuccess.disconnectButton') }} </mt-button> {% endblock %} </sw-container> </mt-card> {% endblock %} </div> {% endblock %} {% block swag_paypal_pos_wizard_connection_success_disclaimer %} <div class="swag-paypal-pos-wizard-connection-success__disclaimer"> {{ $t('swag-paypal-pos.wizard.connectionSuccess.disclaimer') }} </div> {% endblock %} </div> {% endblock %}`,{Component:zA,Context:Hf}=Shopware;zA.register("swag-paypal-pos-wizard-connection-success",{template:NA,inject:["repositoryFactory","SwagPayPalPosSettingApiService"],emits:["frw-set-title","buttons-update"],mixin:["placeholder"],props:{salesChannel:{type:Object,required:!0},cloneSalesChannelId:{type:String,required:!1,default:null},saveSalesChannel:{type:Function,required:!0}},data(){return{posData:null,isFetchingInformation:!0}},computed:{posUser(){if(this.isFetchingInformation){const i=this.$t("swag-paypal-pos.wizard.connectionSuccess.fakeFirstName"),r=this.$t("swag-paypal-pos.wizard.connectionSuccess.fakeLastName"),o=this.$t("swag-paypal-pos.wizard.connectionSuccess.fakeMail");return{firstName:i,lastName:r,fullName:`${i} ${r}`,mail:o}}const a=this.posData.merchantInformation.name.split(" ");return{firstName:a[0],lastName:a[a.length-1],fullName:this.posData.merchantInformation.name,mail:this.posData.merchantInformation.contactEmail}}},created(){this.createdComponent()},methods:{createdComponent(){return this.isFetchingInformation=!0,this.updateButtons(),this.setTitle(),this.SwagPayPalPosSettingApiService.fetchInformation(this.salesChannel,!0).then(a=>(this.posData=a,this.salesChannel.languageId===null&&(this.salesChannel.languageId=Hf.api.systemLanguageId,this.salesChannel.languages.push({id:Hf.api.systemLanguageId})),this.saveSalesChannel(!1,!0))).finally(()=>{this.isFetchingInformation=!1,this.updateButtons()})},setTitle(){this.$emit("frw-set-title",this.$t("swag-paypal-pos.wizard.connectionSuccess.modalTitle"))},updateButtons(){const a=[{key:"next",label:this.$t("sw-first-run-wizard.general.buttonNext"),position:"right",variant:"primary",action:this.routeToCustomization,disabled:this.isFetchingInformation}];this.$emit("buttons-update",a)},routeToCustomization(){this.$router.push({name:"swag.paypal.pos.wizard.customization",params:{id:this.salesChannel.id}})},onDisconnect(){this.$router.push({name:"swag.paypal.pos.wizard.connectionDisconnect",params:{id:this.salesChannel.id}})},forceUpdate(){this.$forceUpdate(),this.updateButtons()}}});const FA=`{% block swag_paypal_pos_wizard_connection_disconnect %} <div class="swag-paypal-pos-wizard-connection-disconnect"> {% block swag_paypal_pos_wizard_connection_disconnect_headline_content %} <div class="swag-paypal-pos-wizard-connection-disconnect__content"> {% block swag_paypal_pos_wizard_connection_disconnect_icon %} <div class="swag-paypal-pos-wizard-connection-disconnect__icon-wrapper"> <mt-icon class="swag-paypal-pos-wizard-connection-disconnect__icon" name="regular-exclamation-triangle" size="80px" color="#de294c" /> </div> {% endblock %} {% block swag_paypal_pos_wizard_connection_disconnect_headline %} <div class="swag-paypal-pos-wizard-connection-disconnect__headline"> {{ $t('swag-paypal-pos.wizard.connectionDisconnect.headline') }} </div> {% endblock %} {% block swag_paypal_pos_wizard_connection_disconnect_info %} <div class="swag-paypal-pos-wizard-connection-disconnect__info"> {{ $t('swag-paypal-pos.wizard.connectionDisconnect.info') }} </div> {% endblock %} {% block swag_paypal_pos_wizard_connection_disconnect_user %} <mt-card class="swag-paypal-pos-wizard-connection-disconnect__user" position-identifier="swag-paypal-pos-wizard-connection-disconnect-user" :isLoading="isFetchingInformation"> <sw-container class="swag-paypal-pos-wizard-connection-disconnect__user-container" columns="30px auto 150px" align="center" gap="30px"> {% block swag_paypal_pos_wizard_connection_disconnect_user_avatar %} <sw-avatar class="swag-paypal-pos-wizard-connection-disconnect__user-avatar" size="40px" :firstName="posUser.firstName" :lastName="posUser.lastName" /> {% endblock %} {% block swag_paypal_pos_wizard_connection_disconnect_user_information %} <div class="swag-paypal-pos-wizard-connection-disconnect__user-info"> {% block swag_paypal_pos_wizard_connection_disconnect_user_information_real %} <div class="swag-paypal-pos-wizard-connection-disconnect__user-info-name"> {{ posUser.fullName }} </div> <div class="swag-paypal-pos-wizard-connection-disconnect__user-info-mail"> {{ posUser.mail }} </div> {% endblock %} </div> {% endblock %} </sw-container> </mt-card> {% endblock %} </div> {% endblock %} </div> {% endblock %}`,{Component:qA,Context:BA}=Shopware;qA.register("swag-paypal-pos-wizard-connection-disconnect",{template:FA,inject:["repositoryFactory","SwagPayPalPosSettingApiService"],emits:["frw-set-title","buttons-update","recreate-sales-channel"],mixin:[Shopware.Mixin.getByName("placeholder"),Shopware.Mixin.getByName("notification")],props:{salesChannel:{type:Object,required:!0},cloneSalesChannelId:{type:String,required:!1,default:null},saveSalesChannel:{type:Function,required:!0}},data(){return{posData:null,isFetchingInformation:!0}},computed:{salesChannelRepository(){return this.repositoryFactory.create("sales_channel")},posUser(){if(this.isFetchingInformation){const i=this.$t("swag-paypal-pos.wizard.connectionSuccess.fakeFirstName"),r=this.$t("swag-paypal-pos.wizard.connectionSuccess.fakeLastName"),o=this.$t("swag-paypal-pos.wizard.connectionSuccess.fakeMail");return{firstName:i,lastName:r,fullName:`${i} ${r}`,mail:o}}const a=this.posData.merchantInformation.name.split(" ");return{firstName:a[0],lastName:a[a.length-1],fullName:this.posData.merchantInformation.name,mail:this.posData.merchantInformation.contactEmail}}},created(){this.createdComponent()},methods:{createdComponent(){this.isFetchingInformation=!0,this.updateButtons(),this.setTitle(),this.SwagPayPalPosSettingApiService.fetchInformation(this.salesChannel,!0).then(a=>{this.posData=a}).finally(()=>{this.isFetchingInformation=!1,this.updateButtons()})},setTitle(){this.$emit("frw-set-title",this.$t("swag-paypal-pos.wizard.connectionDisconnect.modalTitle"))},updateButtons(){const a=[{key:"cancel",label:this.$t("global.default.cancel"),position:"right",action:this.routeBackToConnectionSuccess,disabled:!1},{key:"next",label:this.$t("swag-paypal-pos.wizard.connectionDisconnect.disconnectButton"),position:"right",variant:"danger",action:this.onDisconnect,disabled:this.isFetchingInformation}];this.$emit("buttons-update",a)},routeBackToConnectionSuccess(){this.$router.push({name:"swag.paypal.pos.wizard.connectionSuccess",params:{id:this.salesChannel.id}})},onDisconnect(){this.salesChannelRepository.delete(this.salesChannel.id,BA.api).then(()=>{Shopware.Utils.EventBus.emit("sw-sales-channel-detail-sales-channel-change"),this.$emit("recreate-sales-channel"),this.forceUpdate(),this.$router.push({name:"swag.paypal.pos.wizard.connection"})}).catch(()=>{this.createNotificationError({message:this.$t("swag-paypal-pos.wizard.connectionDisconnect.disconnectErrorMessage")})})},forceUpdate(){this.$forceUpdate(),this.updateButtons()}}});const MA=`{% block swag_paypal_pos_wizard_customization %} <div v-if="!isLoading" class="swag-paypal-pos-wizard-customization"> {% block swag_paypal_pos_wizard_customization_name %} <mt-text-field v-model="salesChannel.name" class="swag-paypal-pos-wizard-customization__name-field" validation="required" required :label="$t('swag-paypal-pos.wizard.customization.salesChannelLabel')" :placeholder="$t('sw-sales-channel.detail.placeholderName')" @update:model-value="forceUpdate" /> {% endblock %} {% block swag_paypal_pos_wizard_customization_language %} <sw-entity-single-select v-model:value="salesChannel.languageId" entity="language" required :label="$t('global.entities.language')" @update:value="changeLanguage" /> {% endblock %} {% block swag_paypal_pos_wizard_customization_media_domain %} <mt-url-field v-model="salesChannel.extensions.paypalPosSalesChannel.mediaDomain" class="swag-paypal-pos-wizard-customization__domain-field" required :label="$t('swag-paypal-pos.wizard.customization.labelDomain')" :placeholder="$t('swag-paypal-pos.wizard.customization.placeholderDomain')" :model-value="salesChannel.extensions.paypalPosSalesChannel.mediaDomain" @update:model-value="forceUpdate" /> {% endblock %} {% block swag_paypal_pos_wizard_connection_success_disclaimer %} <div class="swag-paypal-pos-wizard-customization__subtitle"> {{ $t('swag-paypal-pos.wizard.customization.subtitle') }} </div> {% endblock %} </div> {% endblock %}`,{Component:UA}=Shopware,{EntityCollection:jA}=Shopware.Data;UA.register("swag-paypal-pos-wizard-customization",{template:MA,inject:["repositoryFactory"],emits:["frw-set-title","buttons-update","toggle-loading"],props:{salesChannel:{type:Object,required:!0},cloneSalesChannelId:{type:String,required:!1,default:null},saveSalesChannel:{type:Function,required:!0},isLoading:{type:Boolean,required:!1,default:!1}},computed:{languageRepository(){return this.repositoryFactory.create("language")}},watch:{isLoading(a){a||this.updateButtons()}},created(){this.createdComponent()},methods:{createdComponent(){this.updateButtons(),this.setTitle(),this.changeLanguage()},setTitle(){this.$emit("frw-set-title",this.$t("swag-paypal-pos.wizard.customization.modalTitle"))},updateButtons(){const a=[{key:"back",label:this.$t("sw-first-run-wizard.general.buttonBack"),position:"left",action:this.routeBackToConnectionSuccess,disabled:!1},{key:"next",label:this.$t("sw-first-run-wizard.general.buttonNext"),position:"right",variant:"primary",action:this.routeToProductSelection,disabled:this.nextButtonDisabled()}];this.$emit("buttons-update",a)},nextButtonDisabled(){return this.isLoading||!this.salesChannel.name||!this.salesChannel.languageId||!this.salesChannel.extensions.paypalPosSalesChannel.mediaDomain},routeBackToConnectionSuccess(){this.$router.push({name:"swag.paypal.pos.wizard.connectionSuccess",params:{id:this.salesChannel.id}})},routeToProductSelection(){this.$router.push({name:"swag.paypal.pos.wizard.productSelection",params:{id:this.salesChannel.id}})},forceUpdate(){this.$forceUpdate(),this.$nextTick().then(()=>{this.updateButtons()})},changeLanguage(){this.salesChannel.languages=new jA("language","language",Shopware.Context.api),this.salesChannel.languages.push({id:this.salesChannel.languageId}),this.$forceUpdate()},toggleLoadingState(a){this.isConnecting=a,this.$emit("toggle-loading",a)}}});const HA=`{% block swag_paypal_pos_wizard_product_selection %} <div class="swag-paypal-pos-wizard-product-selection"> {% block swag_paypal_pos_wizard_product_selection_info %} <p class="swag-paypal-pos-wizard-product-selection__info"> {{ $t('swag-paypal-pos.wizard.productSelection.info') }} </p> {% endblock %} {% block swag_paypal_pos_wizard_product_selection_sales_channel_toggle %} <mt-switch v-model="hasClone" class="swag-paypal-pos-wizard-product-selection__clone-switch" bordered :label="$t('swag-paypal-pos.wizard.productSelection.labelToggle')" @update:modelValue="updateClone" /> {% endblock %} {% block swag_paypal_pos_wizard_product_selection_sales_channel_select %} <sw-entity-single-select v-model:value="localCloneSalesChannelId" class="swag-paypal-pos-wizard-product-selection__saleschannel-select" entity="sales_channel" :criteria="salesChannelCriteria" :disabled="!hasClone" :label="$t('swag-paypal-pos.wizard.productSelection.labelSelect')" @update:value="forceUpdate" /> {% endblock %} </div> {% endblock %}`,{Component:GA}=Shopware,{Criteria:bc}=Shopware.Data;GA.register("swag-paypal-pos-wizard-product-selection",{template:HA,emits:["update-clone-sales-channel","frw-set-title","buttons-update","toggle-loading"],props:{salesChannel:{type:Object,required:!0},cloneSalesChannelId:{type:String,required:!1,default:null},saveSalesChannel:{type:Function,required:!0}},data(){return{manualSalesChannel:!1,hasClone:!1}},computed:{localCloneSalesChannelId:{get(){return this.updateButtons(),this.cloneSalesChannelId},set(a){this.$emit("update-clone-sales-channel",a)}},salesChannelCriteria(){const a=new bc(1,500);return a.addFilter(bc.not("and",[bc.equals("id",this.salesChannel.id)])),a}},created(){this.createdComponent()},methods:{createdComponent(){this.updateButtons(),this.setTitle()},setTitle(){this.$emit("frw-set-title",this.$t("swag-paypal-pos.wizard.productSelection.modalTitle"))},updateButtons(){const a=[{key:"back",label:this.$t("sw-first-run-wizard.general.buttonBack"),position:"left",action:this.routeBackToCustomization,disabled:!1},{key:"next",label:this.$t("sw-first-run-wizard.general.buttonNext"),position:"right",variant:"primary",action:this.routeToSyncLibrary,disabled:!1}];this.$emit("buttons-update",a)},routeBackToCustomization(){this.$router.push({name:"swag.paypal.pos.wizard.customization",params:{id:this.salesChannel.id}})},routeToSyncLibrary(){this.$router.push({name:"swag.paypal.pos.wizard.syncLibrary",params:{id:this.salesChannel.id}})},updateClone(){this.$emit("update-clone-sales-channel",null),this.forceUpdate()},forceUpdate(){this.$forceUpdate(),this.updateButtons()},toggleLoadingState(a){this.isConnecting=a,this.$emit("toggle-loading",a)}}});const WA=`{% block swag_paypal_pos_wizard_sync_prices %} <div class="swag-paypal-pos-wizard-sync-prices"> {% block swag_paypal_pos_wizard_sync_prices_header %} <div class="swag-paypal-pos-wizard-sync-prices__headline"> {{ $t('swag-paypal-pos.wizard.syncPrices.header') }} </div> {% endblock %} {% block swag_paypal_pos_wizard_sync_prices_description_input %} <swag-paypal-pos-boolean-radio v-model:value="salesChannel.extensions.paypalPosSalesChannel.syncPrices" :label="$t('swag-paypal-pos.wizard.syncPrices.description')" :optionTrue="optionTrue" :optionFalse="optionFalse" /> {% endblock %} {% block swag_paypal_pos_wizard_sync_prices_disclaimer %} <div class="swag-paypal-pos-wizard-sync-prices__disclaimer"> {{ $t('swag-paypal-pos.wizard.syncPrices.disclaimer') }} </div> {% endblock %} </div> {% endblock %}`,{Component:KA}=Shopware;KA.register("swag-paypal-pos-wizard-sync-prices",{template:WA,emits:["frw-set-title","buttons-update","toggle-loading"],props:{salesChannel:{type:Object,required:!0},cloneSalesChannelId:{type:String,required:!1,default:null},saveSalesChannel:{type:Function,required:!0}},computed:{optionTrue(){return{name:this.$t("swag-paypal-pos.wizard.syncPrices.optionTrueLabel"),description:this.$t("swag-paypal-pos.wizard.syncPrices.optionTrueDescription")}},optionFalse(){return{name:this.$t("swag-paypal-pos.wizard.syncPrices.optionFalseLabel"),description:this.$t("swag-paypal-pos.wizard.syncPrices.optionFalseDescription")}}},created(){this.createdComponent()},methods:{createdComponent(){this.updateButtons(),this.setTitle()},setTitle(){this.$emit("frw-set-title",this.$t("swag-paypal-pos.wizard.syncPrices.modalTitle"))},updateButtons(){const a=[{key:"back",label:this.$t("sw-first-run-wizard.general.buttonBack"),position:"left",action:this.routeBackToSyncLibrary,disabled:!1},{key:"next",label:this.$t("sw-first-run-wizard.general.buttonNext"),position:"right",variant:"primary",action:this.routeToFinish,disabled:!1}];this.$emit("buttons-update",a)},routeBackToSyncLibrary(){this.$router.push({name:"swag.paypal.pos.wizard.syncLibrary",params:{id:this.salesChannel.id}})},routeToFinish(){this.$router.push({name:"swag.paypal.pos.wizard.finish",params:{id:this.salesChannel.id}})},forceUpdate(){this.$forceUpdate()},toggleLoadingState(a){this.isConnecting=a,this.$emit("toggle-loading",a)}}});const VA=`{% block swag_paypal_pos_wizard_sync_library %} <div class="swag-paypal-pos-wizard-sync-library"> {% block swag_paypal_pos_wizard_sync_library_header %} <i18n class="swag-paypal-pos-wizard-sync-library__headline" path="swag-paypal-pos.wizard.syncLibrary.header" tag="div"> <template #shopwareProducts> <span>{{ $t('swag-paypal-pos.wizard.syncLibrary.shopwareProducts', shopwareProductsCount) }}</span> </template> <template #posProducts> <span>{{ $t('swag-paypal-pos.wizard.syncLibrary.posProducts', posProductsCount) }}</span> </template> </i18n> {% endblock %} {% block swag_paypal_pos_wizard_sync_library_description_input %} <sw-radio-field v-model:value="salesChannel.extensions.paypalPosSalesChannel.replace" class="swag-paypal-pos-boolean-radio" :label="$t('swag-paypal-pos.wizard.syncLibrary.description')" :options="options" /> {% endblock %} {% block swag_paypal_pos_wizard_sync_library_disclaimer %} <div class="swag-paypal-pos-wizard-sync-library__disclaimer"> {{ $t('swag-paypal-pos.wizard.syncLibrary.disclaimer') }} </div> {% endblock %} </div> {% endblock %}`,{Component:YA}=Shopware;YA.register("swag-paypal-pos-wizard-sync-library",{template:VA,inject:["SwagPayPalPosSettingApiService"],emits:["frw-set-title","buttons-update","toggle-loading"],props:{salesChannel:{type:Object,required:!0},cloneSalesChannelId:{type:String,required:!1,default:null},saveSalesChannel:{type:Function,required:!0}},data(){return{shopwareProductsCount:0,posProductsCount:0}},computed:{options(){return[{value:2,name:this.$t("swag-paypal-pos.wizard.syncLibrary.optionReplacePermanentlyLabel"),description:this.$t("swag-paypal-pos.wizard.syncLibrary.optionReplacePermanentlyDescription")},{value:1,name:this.$t("swag-paypal-pos.wizard.syncLibrary.optionReplaceOneTimeLabel"),description:this.$t("swag-paypal-pos.wizard.syncLibrary.optionReplaceOneTimeDescription")},{value:0,name:this.$t("swag-paypal-pos.wizard.syncLibrary.optionReplaceNotLabel"),description:this.$t("swag-paypal-pos.wizard.syncLibrary.optionReplaceNotDescription")}]}},created(){this.createdComponent()},methods:{createdComponent(){this.updateButtons(),this.setTitle(),this.fetchProductCounts()},setTitle(){this.$emit("frw-set-title",this.$t("swag-paypal-pos.wizard.syncLibrary.modalTitle"))},updateButtons(){const a=[{key:"back",label:this.$t("sw-first-run-wizard.general.buttonBack"),position:"left",action:this.routeBackToProductSelection,disabled:!1},{key:"next",label:this.$t("sw-first-run-wizard.general.buttonNext"),position:"right",variant:"primary",action:this.routeToSyncPrices,disabled:!1}];this.$emit("buttons-update",a)},routeBackToProductSelection(){this.$router.push({name:"swag.paypal.pos.wizard.productSelection",params:{id:this.salesChannel.id}})},routeToSyncPrices(){this.$router.push({name:"swag.paypal.pos.wizard.syncPrices",params:{id:this.salesChannel.id}})},forceUpdate(){this.$forceUpdate()},toggleLoadingState(a){this.isConnecting=a,this.$emit("toggle-loading",a)},fetchProductCounts(){this.toggleLoadingState(!0),this.SwagPayPalPosSettingApiService.getProductCount(this.salesChannel.id,this.cloneSalesChannelId).then(a=>{this.shopwareProductsCount=a.localCount,this.posProductsCount=a.remoteCount}).finally(()=>{this.toggleLoadingState(!1)})}}});const XA=`{% block swag_paypal_pos_wizard_finish %} <div class="swag-paypal-pos-wizard-finish"> {% block swag_paypal_pos_wizard_finish_content %} <div class="swag-paypal-pos-wizard-finish__content"> {% block swag_paypal_pos_wizard_finish_content_icon %} <div class="swag-paypal-pos-wizard-finish__icon-wrapper"> <mt-icon class="swag-paypal-pos-wizard-finish__icon" name="regular-checkmark" size="80px" color="#37D046" /> </div> {% endblock %} {% block swag_paypal_pos_wizard_finish_content_header %} <div class="swag-paypal-pos-wizard-finish__content-header"> {{ $t('swag-paypal-pos.wizard.finish.header') }} </div> {% endblock %} {% block swag_paypal_pos_wizard_finish_content_description %} <div class="swag-paypal-pos-wizard-finish__content-description"> <p class="swag-paypal-pos-wizard-finish__first-paragraph"> {{ $t('swag-paypal-pos.wizard.finish.firstParagraph') }} </p> <p class="swag-paypal-pos-wizard-finish__second-paragraph"> {{ $t('swag-paypal-pos.wizard.finish.secondParagraph') }} </p> </div> {% endblock %} </div> {% endblock %} </div> {% endblock %}`,{Component:ZA}=Shopware;ZA.register("swag-paypal-pos-wizard-finish",{template:XA,inject:["SwagPayPalPosApiService"],emits:["frw-set-title","buttons-update","frw-finish"],props:{salesChannel:{type:Object,required:!0},cloneSalesChannelId:{type:String,required:!1,default:null}},created(){this.createdComponent()},methods:{createdComponent(){this.updateButtons(),this.setTitle()},setTitle(){this.$emit("frw-set-title",this.$t("swag-paypal-pos.wizard.finish.modalTitle"))},updateButtons(){const a=[{key:"back",label:this.$t("sw-first-run-wizard.general.buttonBack"),position:"left",action:this.routeBackToSyncPrices,disabled:!1},{key:"finish",label:this.$t("sw-first-run-wizard.general.buttonFinish"),position:"right",variant:"primary",action:this.onFinish,disabled:!1}];this.$emit("buttons-update",a)},routeBackToSyncPrices(){this.$router.push({name:"swag.paypal.pos.wizard.syncPrices",params:{id:this.salesChannel.id}})},onFinish(){this.$emit("frw-finish")}}});const{Module:JA}=Shopware;JA.register("swag-paypal-pos",{type:"plugin",name:"SwagPayPalPos",title:"swag-paypal-settings.module.title",description:"swag-paypal-settings.module.description",version:"1.0.0",targetVersion:"1.0.0",color:"#9AA8B5",icon:"regular-sync",routes:{detail:{component:"swag-paypal-pos",path:":id/detail",redirect:{name:"swag.paypal.pos.detail.overview"},meta:{privilege:"sales_channel.viewer"},children:{overview:{component:"swag-paypal-pos-detail-overview",path:"overview",meta:{privilege:"sales_channel.viewer"}},syncedProducts:{component:"swag-paypal-pos-detail-synced-products",path:"synced-products",meta:{privilege:"sales_channel.viewer"}},settings:{component:"swag-paypal-pos-detail-settings",path:"settings",meta:{privilege:"sales_channel.viewer"}},runs:{component:"swag-paypal-pos-detail-runs",path:"runs",meta:{privilege:"sales_channel.viewer"}}}},wizard:{component:"swag-paypal-pos-wizard",path:":id?/wizard",redirect:{name:"swag.paypal.pos.wizard.connection"},meta:{privilege:"sales_channel.creator"},children:{connection:{component:"swag-paypal-pos-wizard-connection",path:"connection",meta:{privilege:"sales_channel.creator"}},connectionSuccess:{component:"swag-paypal-pos-wizard-connection-success",path:"connection-success",meta:{privilege:"sales_channel.creator"}},connectionDisconnect:{component:"swag-paypal-pos-wizard-connection-disconnect",path:"connection-disconnect",meta:{privilege:"sales_channel.creator"}},customization:{component:"swag-paypal-pos-wizard-customization",path:"customization",meta:{privilege:"sales_channel.creator"}},productSelection:{component:"swag-paypal-pos-wizard-product-selection",path:"product-selection",meta:{privilege:"sales_channel.creator"}},syncPrices:{component:"swag-paypal-pos-wizard-sync-prices",path:"sync-prices",meta:{privilege:"sales_channel.creator"}},syncLibrary:{component:"swag-paypal-pos-wizard-sync-library",path:"sync-library",meta:{privilege:"sales_channel.creator"}},finish:{component:"swag-paypal-pos-wizard-finish",path:"finish",meta:{privilege:"sales_channel.creator"}}}}}});Shopware.Component.register("swag-paypal-settings-icon",()=>Te(()=>import("./index-DruaxD0u.js"),__vite__mapDeps([25,26])));Shopware.Component.register("swag-paypal-settings-locale-select",()=>Te(()=>import("./index--u8pWelW.js"),__vite__mapDeps([27,3,28])));Shopware.Component.register("swag-paypal-settings-sales-channel-switch",()=>Te(()=>import("./index-CjRcIrtF.js"),__vite__mapDeps([29,30])));Shopware.Component.register("swag-paypal-settings-webhook",()=>Te(()=>import("./index-8wR70pcV.js"),__vite__mapDeps([31,32])));Shopware.Component.register("swag-paypal-settings-advanced",()=>Te(()=>import("./index-D5gYQ7Vb.js"),__vite__mapDeps([33,3,34])));Shopware.Component.register("swag-paypal-settings-general",()=>Te(()=>import("./index-BUtGqtya.js"),__vite__mapDeps([35,3,36])));Shopware.Component.register("swag-paypal-settings-storefront",()=>Te(()=>import("./index-DOE3gRvp.js"),__vite__mapDeps([37,3])));Shopware.Component.register("swag-paypal-settings",()=>Te(()=>import("./index-CnMEVSY-.js"),[]));Shopware.Module.register("swag-paypal-settings",{type:"plugin",name:"SwagPayPalSettings",title:"swag-paypal-settings.module.title",description:"swag-paypal-settings.module.description",version:"1.0.0",targetVersion:"1.0.0",color:"#9AA8B5",icon:"regular-cog",routes:{index:{component:"swag-paypal-settings",path:"index",redirect:{name:"swag.paypal.settings.index.general"},meta:{parentPath:"sw.settings.index.plugins",privilege:"swag_paypal.viewer"},children:{general:{path:"general",component:"swag-paypal-settings-general",meta:{privilege:"swag_paypal.viewer",parentPath:"sw.settings.index"}},storefront:{path:"storefront",component:"swag-paypal-settings-storefront",meta:{privilege:"swag_paypal.viewer",parentPath:"sw.settings.index"}},advanced:{path:"advanced",component:"swag-paypal-settings-advanced",meta:{privilege:"swag_paypal.viewer",parentPath:"sw.settings.index"}}}}},settingsItem:{group:"plugins",to:"swag.paypal.settings.index",iconComponent:"swag-paypal-settings-icon",backgroundEnabled:!0,privilege:"swag_paypal.viewer"}});const qn=Shopware.Classes.ApiService,{EntityCollection:Sc}=Shopware.Data;class QA extends qn{constructor(i,r,o="paypal/pos"){super(i,r,o)}validateApiCredentials(i,r=null){return this.httpClient.post(`_action/${this.getApiBasePath()}/validate-api-credentials`,{apiKey:i,salesChannelId:r},{headers:this.getBasicHeaders()}).then(qn.handleResponse.bind(this))}fetchInformation(i,r=!1){var o,c;return this.httpClient.post(`${this.getApiBasePath()}/fetch-information`,{apiKey:(c=(o=i.extensions)==null?void 0:o.paypalPosSalesChannel)==null?void 0:c.apiKey},{headers:this.getBasicHeaders()}).then(qn.handleResponse.bind(this)).then(h=>(delete h.extensions,i.languages??(i.languages=new Sc("language","language",Shopware.Context.api)),i.currencies??(i.currencies=new Sc("currency","currency",Shopware.Context.api)),i.countries??(i.countries=new Sc("country","country",Shopware.Context.api)),h.languageId!==null&&(i.id===null||r)?(i.languages.length=0,i.languages.push({id:h.languageId})):delete h.languageId,Object.assign(i,h),i.currencies.length=0,i.currencies.push({id:h.currencyId}),i.countries.length=0,i.countries.push({id:h.countryId}),h))}cloneProductVisibility(i,r){return this.httpClient.post(`_action/${this.getApiBasePath()}/clone-product-visibility`,{fromSalesChannelId:i,toSalesChannelId:r},{headers:this.getBasicHeaders()}).then(qn.handleResponse.bind(this))}getProductCount(i,r){return this.httpClient.get(`${this.getApiBasePath()}/product-count`,{params:{salesChannelId:i,cloneSalesChannelId:r},headers:this.getBasicHeaders()}).then(qn.handleResponse.bind(this))}generateApiUrl(){return`https://my.izettle.com/apps/api-keys?name=Shopware%20integration&scopes=${["READ:PURCHASE","READ:FINANCE","READ:USERINFO","READ:PRODUCT","WRITE:PRODUCT"].join("%20")}&utm_source=local_partnership&utm_medium=ecommerce&utm_campaign=shopware`}}const ra=Shopware.Classes.ApiService;class eI extends ra{constructor(r,o,c="paypal/pos"){super(r,o,c);Qp(this,"basicConfig");this.basicConfig={timeout:3e5}}startCompleteSync(r){return this.httpClient.post(`_action/${this.getApiBasePath()}/sync/${r}`,null,{...this.basicConfig,headers:this.getBasicHeaders()}).then(ra.handleResponse.bind(this))}startProductSync(r){return this.httpClient.post(`_action/${this.getApiBasePath()}/sync/${r}/products`,null,{...this.basicConfig,headers:this.getBasicHeaders()}).then(ra.handleResponse.bind(this))}startInventorySync(r){return this.httpClient.post(`_action/${this.getApiBasePath()}/sync/${r}/inventory`,null,{...this.basicConfig,headers:this.getBasicHeaders()}).then(ra.handleResponse.bind(this))}startImageSync(r){return this.httpClient.post(`_action/${this.getApiBasePath()}/sync/${r}/images`,null,{...this.basicConfig,headers:this.getBasicHeaders()}).then(ra.handleResponse.bind(this))}startLogCleanup(r){return this.httpClient.post(`_action/${this.getApiBasePath()}/log/cleanup/${r}`,null,{...this.basicConfig,headers:this.getBasicHeaders()}).then(ra.handleResponse.bind(this))}abortSync(r){return this.httpClient.post(`_action/${this.getApiBasePath()}/sync/abort/${r}`,null,{...this.basicConfig,headers:this.getBasicHeaders()}).then(ra.handleResponse.bind(this))}resetSync(r){return this.httpClient.post(`_action/${this.getApiBasePath()}/sync/reset/${r}`,null,{...this.basicConfig,headers:this.getBasicHeaders()}).then(ra.handleResponse.bind(this))}getProductLog(r,o=1,c=10){return this.httpClient.get(`${this.getApiBasePath()}/product-log/${r}`,{...this.basicConfig,headers:this.getBasicHeaders(),params:{page:o,limit:c}}).then(ra.handleResponse.bind(this))}}const Cc=Shopware.Classes.ApiService;class tI extends Cc{constructor(i,r,o="paypal/pos"){super(i,r,o)}registerWebhook(i){return this.httpClient.post(`_action/${this.getApiBasePath()}/webhook/registration/${i}`,{},{headers:this.getBasicHeaders()}).then(Cc.handleResponse.bind(this))}unregisterWebhook(i){return this.httpClient.delete(`_action/${this.getApiBasePath()}/webhook/registration/${i}`,{headers:this.getBasicHeaders()}).then(Cc.handleResponse.bind(this))}}const ai=Shopware.Classes.ApiService;class aI extends ai{constructor(i,r,o="paypal"){super(i,r,o)}register(i){return this.httpClient.post(`_action/${this.getApiBasePath()}/webhook/register/${i}`,{},{headers:this.getBasicHeaders()}).then(ai.handleResponse.bind(this))}unregister(i){return this.httpClient.delete(`_action/${this.getApiBasePath()}/webhook/register/${i}`,{headers:this.getBasicHeaders()}).then(ai.handleResponse.bind(this))}status(i){return this.httpClient.get(`_action/${this.getApiBasePath()}/webhook/status/${i}`,{headers:this.getBasicHeaders()}).then(ai.handleResponse.bind(this))}}const Bn=Shopware.Classes.ApiService;class nI extends Bn{constructor(i,r,o="paypal"){super(i,r,o)}getPaymentDetails(i,r){return this.httpClient.get(`${this.getApiBasePath()}/payment-details/${i}/${r}`,{headers:this.getBasicHeaders()}).then(Bn.handleResponse.bind(this))}capturePayment(i,r,o,c,h,_){return this.httpClient.post(`_action/${this.getApiBasePath()}/capture-payment/${r}/${o}/${i}`,{captureAmount:c,currency:h,captureIsFinal:_},{headers:this.getBasicHeaders()}).then(Bn.handleResponse.bind(this))}refundPayment(i,r,o,c,h,_,g,w){return this.httpClient.post(`_action/${this.getApiBasePath()}/refund-payment/${r}/${o}/${i}`,{refundAmount:c,currency:h,description:_,reason:g,refundInvoiceNumber:w},{headers:this.getBasicHeaders()}).then(Bn.handleResponse.bind(this))}voidPayment(i,r,o){return this.httpClient.post(`_action/${this.getApiBasePath()}/void-payment/${r}/${o}/${i}`,{},{headers:this.getBasicHeaders()}).then(Bn.handleResponse.bind(this))}}const Pc=Shopware.Classes.ApiService;class rI extends Pc{constructor(i,r,o="paypal-v2"){super(i,r,o)}getOrderDetails(i,r){return this.httpClient.get(`${this.getApiBasePath()}/order/${i}/${r}`,{headers:this.getBasicHeaders()}).then(Pc.handleResponse.bind(this))}refundCapture(i,r,o,c,h,_,g,w){return this.doPostRequest(`${this.getApiBasePath("","_action")}/refund-capture/${i}/${r}/${o}`,w,{currency:c,amount:h,invoiceNumber:_,noteToPayer:g})}captureAuthorization(i,r,o,c,h,_,g,w){return this.doPostRequest(`${this.getApiBasePath("","_action")}/capture-authorization/${i}/${r}`,g,{currency:o,amount:c,invoiceNumber:h,noteToPayer:_,isFinal:w})}voidAuthorization(i,r,o){return this.doPostRequest(`${this.getApiBasePath("","_action")}/void-authorization/${i}/${r}`,o)}doPostRequest(i,r,o={}){return this.httpClient.post(i,{partnerAttributionId:r,...o},{headers:this.getBasicHeaders()}).then(Pc.handleResponse.bind(this))}}const Gf=Shopware.Classes.ApiService;class iI extends Gf{constructor(i,r,o="paypal"){super(i,r,o)}setDefaultPaymentForSalesChannel(i=null){return this.httpClient.post(`_action/${this.getApiBasePath()}/saleschannel-default`,{salesChannelId:i},{headers:this.getBasicHeaders()}).then(Gf.handleResponse.bind(this))}}const Ac=Shopware.Classes.ApiService;class sI extends Ac{constructor(i,r,o="paypal/dispute"){super(i,r,o)}list(i=null,r=null){return this.httpClient.get(this.getApiBasePath(),{params:{salesChannelId:i,disputeStateFilter:r},headers:this.getBasicHeaders()}).then(Ac.handleResponse.bind(this))}detail(i,r){return this.httpClient.get(`${this.getApiBasePath()}/${i}`,{params:{salesChannelId:r},headers:this.getBasicHeaders()}).then(Ac.handleResponse.bind(this))}}const Mn=Shopware.Classes.ApiService;class oI extends Mn{constructor(i,r,o="paypal"){super(i,r,o)}save(i){return this.httpClient.post(`_action/${this.getApiBasePath()}/save-settings`,i,{headers:this.getBasicHeaders()}).then(Mn.handleResponse.bind(this))}testApiCredentials(i,r,o,c){return this.httpClient.post(`_action/${this.getApiBasePath()}/test-api-credentials`,{clientId:i,clientSecret:r,sandboxActive:c,merchantPayerId:o},{headers:this.getBasicHeaders()}).then(Mn.handleResponse.bind(this))}getApiCredentials(i,r,o,c,h={},_={}){return this.httpClient.post(`_action/${this.getApiBasePath()}/get-api-credentials`,{authCode:i,sharedId:r,nonce:o,sandboxActive:c},{params:h,headers:this.getBasicHeaders(_)}).then(Mn.handleResponse.bind(this))}getMerchantInformation(i=null){return this.httpClient.get(`_action/${this.getApiBasePath()}/merchant-information`,{params:{salesChannelId:i},headers:this.getBasicHeaders()}).then(Mn.handleResponse.bind(this))}}const{Application:Ut}=Shopware,ia=Ut.getContainer("init");Ut.addServiceProvider("SwagPayPalPosSettingApiService",a=>new QA(ia.httpClient,a.loginService));Ut.addServiceProvider("SwagPayPalPosApiService",a=>new eI(ia.httpClient,a.loginService));Ut.addServiceProvider("SwagPayPalPosWebhookRegisterService",a=>new tI(ia.httpClient,a.loginService));Ut.addServiceProvider("SwagPayPalWebhookService",a=>new aI(ia.httpClient,a.loginService));Ut.addServiceProvider("SwagPayPalPaymentService",a=>new nI(ia.httpClient,a.loginService));Ut.addServiceProvider("SwagPayPalOrderService",a=>new rI(ia.httpClient,a.loginService));Ut.addServiceProvider("SwagPaypalPaymentMethodService",a=>new iI(ia.httpClient,a.loginService));Ut.addServiceProvider("SwagPayPalDisputeApiService",a=>new sI(ia.httpClient,a.loginService));Ut.addServiceProvider("SwagPayPalSettingsService",a=>new oI(ia.httpClient,a.loginService));const lI={"swag-paypal-frw-credentials":{buttonGetCredentials:"Hole API-Zugangsdaten",buttonGetSandboxCredentials:"Hole Sandbox-API-Zugangsdaten",textIntroPayPal:"Um PayPal zu nutzen mssen nur die API-Zugangsdaten eingegeben werden.",labelClientId:"Client-ID",labelClientSecret:"Client-Secret",labelMerchantPayerId:"PayPal-Hndler-ID",labelClientIdSandbox:"Sandbox-Client-ID",labelClientSecretSandbox:"Sandbox-Client-Secret",labelMerchantPayerIdSandbox:"Sandbox-PayPal-Hndler-ID",labelSandbox:"Sandbox verwenden",tooltipSandbox:"Je nach Aktivierung der Sandbox werden unterschiedliche Zugangsdaten hinterlegt.",labelSetDefault:"Als Standard-Zahlungsmethode festlegen",tooltipSetDefault:"PayPal wird als Standard-Zahlungsmethode fr alle Verkaufskanle festgelegt. Sie knnen individuelle Standard-Zahlungsmethoden pro Verkaufskanal im Einstellungsmodul festlegen.",messageFetchedError:"Bitte versuche es erneut oder nutze die erweiterten Einstellungen um die Zugangsdaten direkt einzugeben.",textFetchedSuccessful:"Die Zugangsdaten wurden erfolgreich abgerufen.",messageNoCredentials:"Es wurden keine Zugangsdaten hinterlegt.",messageInvalidCredentials:"Die Zugangsdaten sind ungltig.",messageTestSuccess:"Die Zugangsdaten sind gltig."}},cI={"swag-paypal-frw-credentials":{buttonGetCredentials:"Get API credentials",buttonGetSandboxCredentials:"Get sandbox API credentials",textIntroPayPal:"To get PayPal up and running you only need to provide your PayPal API credentials.",labelClientId:"Client ID",labelClientSecret:"Client secret",labelMerchantPayerId:"PayPal Merchant ID",labelClientIdSandbox:"Sandbox client ID",labelClientSecretSandbox:"Sandbox client secret",labelMerchantPayerIdSandbox:"Sandbox PayPal Merchant ID",labelSandbox:"Use sandbox",tooltipSandbox:"Depending on activation of the sandbox, separate credentials are saved.",labelSetDefault:"Set as default payment method",tooltipSetDefault:"PayPal will be set as default payment method of all Sales Channels. You can set individual default payment methods per Sales Channel in the settings module.",messageFetchedError:"Try again or use the advanced settings to provide your credentials.",textFetchedSuccessful:"Credentials have been fetched.",messageNoCredentials:"No credentials provided.",messageInvalidCredentials:"Credentials are invalid.",messageTestSuccess:"Credentials are valid."}};Shopware.Locale.extend("de-DE",lI);Shopware.Locale.extend("en-GB",cI);export{Hc as P};
